<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Han,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Selective Disclosure for JWTs (SD-JWT)</title>
<meta content="Daniel Fett" name="author">
<meta content="Kristina Yasuda" name="author">
<meta content="Brian Campbell" name="author">
<meta content="
       This specification defines a mechanism for the selective disclosure of individual elements of a JSON data structure used as the payload of a JSON Web Signature (JWS).
The primary use case is the selective disclosure of JSON Web Token (JWT) claims. 
    " name="description">
<meta content="xml2rfc 3.28.1" name="generator">
<meta content="security" name="keyword">
<meta content="oauth2" name="keyword">
<meta content="draft-ietf-oauth-selective-disclosure-jwt-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.28.1
    Python 3.12.10
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 5.3.0
    platformdirs 4.3.8
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.3
    setuptools 70.3.0
    wcwidth 0.2.13
-->
<link href="draft-ietf-oauth-selective-disclosure-jwt.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl:not(.dlNewline) > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">SD-JWT</td>
<td class="right">May 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Fett, et al.</td>
<td class="center">Expires 28 November 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Web Authorization Protocol</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-oauth-selective-disclosure-jwt-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-05-27" class="published">27 May 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-11-28">28 November 2025</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">D. Fett</div>
<div class="org">Authlete</div>
</div>
<div class="author">
      <div class="author-name">K. Yasuda</div>
<div class="org">Keio University</div>
</div>
<div class="author">
      <div class="author-name">B. Campbell</div>
<div class="org">Ping Identity</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Selective Disclosure for JWTs (SD-JWT)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This specification defines a mechanism for the selective disclosure of individual elements of a JSON data structure used as the payload of a JSON Web Signature (JWS).
The primary use case is the selective disclosure of JSON Web Token (JWT) claims.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Discussion of this document takes place on the
    Web Authorization Protocol Working Group mailing list (oauth@ietf.org),
    which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/oauth/">https://mailarchive.ietf.org/arch/browse/oauth/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">Source for this draft and an issue tracker can be found at
    <span><a href="https://github.com/oauth-wg/oauth-selective-disclosure-jwt">https://github.com/oauth-wg/oauth-selective-disclosure-jwt</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 28 November 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-feature-summary" class="internal xref">Feature Summary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-conventions-and-terminology" class="internal xref">Conventions and Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-flow-diagram" class="internal xref">Flow Diagram</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-concepts" class="internal xref">Concepts</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-sd-jwt-and-disclosures" class="internal xref">SD-JWT and Disclosures</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-disclosing-to-a-verifier" class="internal xref">Disclosing to a Verifier</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-optional-key-binding" class="internal xref">Optional Key Binding</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-verification" class="internal xref">Verification</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-sd-jwt-and-sd-jwtkb-data-fo" class="internal xref">SD-JWT and SD-JWT+KB Data Formats</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-issuer-signed-jwt" class="internal xref">Issuer-signed JWT</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="auto internal xref">4.1.1</a>.  <a href="#name-hash-function-claim" class="internal xref">Hash Function Claim</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="auto internal xref">4.1.2</a>.  <a href="#name-key-binding" class="internal xref">Key Binding</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-disclosures" class="internal xref">Disclosures</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="auto internal xref">4.2.1</a>.  <a href="#name-disclosures-for-object-prop" class="internal xref">Disclosures for Object Properties</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="auto internal xref">4.2.2</a>.  <a href="#name-disclosures-for-array-eleme" class="internal xref">Disclosures for Array Elements</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="auto internal xref">4.2.3</a>.  <a href="#name-hashing-disclosures" class="internal xref">Hashing Disclosures</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.4">
                    <p id="section-toc.1-1.4.2.2.2.4.1"><a href="#section-4.2.4" class="auto internal xref">4.2.4</a>.  <a href="#name-embedding-disclosure-digest" class="internal xref">Embedding Disclosure Digests in SD-JWTs</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.5">
                    <p id="section-toc.1-1.4.2.2.2.5.1"><a href="#section-4.2.5" class="auto internal xref">4.2.5</a>.  <a href="#name-decoy-digests" class="internal xref">Decoy Digests</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.6">
                    <p id="section-toc.1-1.4.2.2.2.6.1"><a href="#section-4.2.6" class="auto internal xref">4.2.6</a>.  <a href="#name-recursive-disclosures" class="internal xref">Recursive Disclosures</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-key-binding-jwt" class="internal xref">Key Binding JWT</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="auto internal xref">4.3.1</a>.  <a href="#name-binding-to-an-sd-jwt" class="internal xref">Binding to an SD-JWT</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3.2.2">
                    <p id="section-toc.1-1.4.2.3.2.2.1"><a href="#section-4.3.2" class="auto internal xref">4.3.2</a>.  <a href="#name-validating-the-key-binding-" class="internal xref">Validating the Key Binding JWT</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-example-sd-jwt" class="internal xref">Example SD-JWT</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-issuance" class="internal xref">Issuance</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-presentation" class="internal xref">Presentation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-considerations-on-nested-da" class="internal xref">Considerations on Nested Data in SD-JWTs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-example-flat-sd-jwt" class="internal xref">Example: Flat SD-JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-example-structured-sd-jwt" class="internal xref">Example: Structured SD-JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-example-sd-jwt-with-recursi" class="internal xref">Example: SD-JWT with Recursive Disclosures</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-verification-and-processing" class="internal xref">Verification and Processing</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-verification-of-the-sd-jwt" class="internal xref">Verification of the SD-JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-processing-by-the-holder" class="internal xref">Processing by the Holder</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="auto internal xref">7.3</a>.  <a href="#name-verification-by-the-verifie" class="internal xref">Verification by the Verifier</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-jws-json-serialization" class="internal xref">JWS JSON Serialization</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-new-unprotected-header-para" class="internal xref">New Unprotected Header Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-flattened-json-serializatio" class="internal xref">Flattened JSON Serialization</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="auto internal xref">8.3</a>.  <a href="#name-general-json-serialization" class="internal xref">General JSON Serialization</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="auto internal xref">8.4</a>.  <a href="#name-verification-of-the-jws-jso" class="internal xref">Verification of the JWS JSON Serialized SD-JWT</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-mandatory-signing-of-the-is" class="internal xref">Mandatory Signing of the Issuer-signed JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-manipulation-of-disclosures" class="internal xref">Manipulation of Disclosures</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="auto internal xref">9.3</a>.  <a href="#name-entropy-of-the-salt" class="internal xref">Entropy of the Salt</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4">
                <p id="section-toc.1-1.9.2.4.1"><a href="#section-9.4" class="auto internal xref">9.4</a>.  <a href="#name-choice-of-a-hash-algorithm" class="internal xref">Choice of a Hash Algorithm</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.5">
                <p id="section-toc.1-1.9.2.5.1"><a href="#section-9.5" class="auto internal xref">9.5</a>.  <a href="#name-key-binding-2" class="internal xref">Key Binding</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.6">
                <p id="section-toc.1-1.9.2.6.1"><a href="#section-9.6" class="auto internal xref">9.6</a>.  <a href="#name-concealing-claim-names" class="internal xref">Concealing Claim Names</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.7">
                <p id="section-toc.1-1.9.2.7.1"><a href="#section-9.7" class="auto internal xref">9.7</a>.  <a href="#name-selectively-disclosable-val" class="internal xref">Selectively-Disclosable Validity Claims</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.8">
                <p id="section-toc.1-1.9.2.8.1"><a href="#section-9.8" class="auto internal xref">9.8</a>.  <a href="#name-distribution-and-rotation-o" class="internal xref">Distribution and Rotation of Issuer Signature Verification Key</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.9">
                <p id="section-toc.1-1.9.2.9.1"><a href="#section-9.9" class="auto internal xref">9.9</a>.  <a href="#name-forwarding-credentials" class="internal xref">Forwarding Credentials</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.10">
                <p id="section-toc.1-1.9.2.10.1"><a href="#section-9.10" class="auto internal xref">9.10</a>. <a href="#name-integrity-of-sd-jwts-and-sd" class="internal xref">Integrity of SD-JWTs and SD-JWT+KBs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.11">
                <p id="section-toc.1-1.9.2.11.1"><a href="#section-9.11" class="auto internal xref">9.11</a>. <a href="#name-explicit-typing" class="internal xref">Explicit Typing</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.12">
                <p id="section-toc.1-1.9.2.12.1"><a href="#section-9.12" class="auto internal xref">9.12</a>. <a href="#name-key-pair-generation-and-lif" class="internal xref">Key Pair Generation and Lifecycle Management</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-privacy-considerations" class="internal xref">Privacy Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-unlinkability" class="internal xref">Unlinkability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-storage-of-user-data" class="internal xref">Storage of User Data</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="auto internal xref">10.3</a>.  <a href="#name-confidentiality-during-tran" class="internal xref">Confidentiality during Transport</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="auto internal xref">10.4</a>.  <a href="#name-decoy-digests-2" class="internal xref">Decoy Digests</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="auto internal xref">10.5</a>.  <a href="#name-issuer-identifier" class="internal xref">Issuer Identifier</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="auto internal xref">12.1</a>.  <a href="#name-json-web-token-claims-regis" class="internal xref">JSON Web Token Claims Registration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="auto internal xref">12.2</a>.  <a href="#name-media-type-registration" class="internal xref">Media Type Registration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a href="#section-12.3" class="auto internal xref">12.3</a>.  <a href="#name-structured-syntax-suffix-re" class="internal xref">Structured Syntax Suffix Registration</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="auto internal xref">13.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="auto internal xref">13.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-additional-examples" class="internal xref">Additional Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-simple-structured-sd-jwt" class="internal xref">Simple Structured SD-JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#appendix-A.2" class="auto internal xref">A.2</a>.  <a href="#name-complex-structured-sd-jwt" class="internal xref">Complex Structured SD-JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.3">
                <p id="section-toc.1-1.14.2.3.1"><a href="#appendix-A.3" class="auto internal xref">A.3</a>.  <a href="#name-sd-jwt-based-verifiable-cre" class="internal xref">SD-JWT-based Verifiable Credentials (SD-JWT VC)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.4">
                <p id="section-toc.1-1.14.2.4.1"><a href="#appendix-A.4" class="auto internal xref">A.4</a>.  <a href="#name-w3c-verifiable-credentials-" class="internal xref">W3C Verifiable Credentials Data Model v2.0</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.5">
                <p id="section-toc.1-1.14.2.5.1"><a href="#appendix-A.5" class="auto internal xref">A.5</a>.  <a href="#name-elliptic-curve-key-used-in-" class="internal xref">Elliptic Curve Key Used in the Examples</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-disclosure-format-considera" class="internal xref">Disclosure Format Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-C" class="auto internal xref">Appendix C</a>.  <a href="#name-document-history" class="internal xref">Document History</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="Introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">JSON data for exchange between systems is often secured against modification using JSON Web Signatures (JWS) <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>.
A popular application of JWS is JSON Web Token (JWT) <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>, a format that is often used to represent a user's identity.
An ID Token as defined in OpenID Connect <span>[<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span>, for example, is a JWT containing the user's claims created by the server for consumption by a relying party.
In cases where the JWT is sent immediately from the server to the relying party, as in OpenID Connect, the server can select at the time of issuance which user claims to include in the JWT, minimizing the information shared with the relying party who validates the JWT.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Another model is emerging that fully decouples the issuance of a JWT from its presentation.
In this model, a JWT containing many claims is issued to an intermediate party, who holds the JWT (the Holder).
The Holder can then present the JWT to different verifying parties (Verifiers), that each may only require a subset of the claims in the JWT.
For example, the JWT may contain claims representing both an address and a birthdate.
The Holder may elect to disclose only the address to one Verifier, and only the birthdate to a different Verifier.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Privacy principles of minimal disclosure in conjunction with this model demand a mechanism enabling selective disclosure of data elements while ensuring that Verifiers can still check the authenticity of the data provided.
This specification defines such a mechanism for JSON payloads of JSON Web Signatures, with a primary use case being JWTs.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">SD-JWT is based on an approach called "salted hashes": For any data element that should be selectively disclosable, the Issuer of the SD-JWT does not include the cleartext of the data in the JSON payload of the JWS structure; instead, a digest of the data takes its place.
For presentation to a Verifier, the Holder sends the signed payload along with the cleartext of those claims it wants to disclose.
The Verifier can then compute the digest of the cleartext data and confirm it is included in the signed payload.
To ensure that Verifiers cannot guess cleartext values of non-disclosed data elements, an additional salt value is used when creating the digest and sent along with the cleartext when disclosing it.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">To prevent attacks in which an SD-JWT is presented to a Verifier without the Holder's consent, this specification additionally defines a mechanism for binding the SD-JWT to a key under the control of the Holder (Key Binding).
When Key Binding is enforced, a Holder has to prove possession of a private key belonging to a public key contained in the SD-JWT itself.
It usually does so by signing over a data structure containing transaction-specific data, herein defined as the Key Binding JWT.
An SD-JWT with a Key Binding JWT is called SD-JWT+KB in this specification.<a href="#section-1-5" class="pilcrow">¶</a></p>
<div id="feature-summary">
<section id="section-1.1">
        <h3 id="name-feature-summary">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-feature-summary" class="section-name selfRef">Feature Summary</a>
        </h3>
<p id="section-1.1-1">This specification defines two primary data formats:<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-1.1-2">
<li id="section-1.1-2.1">
            <p id="section-1.1-2.1.1">SD-JWT is a composite structure, consisting of a JWS plus optional disclosures, enabling selective disclosure of portions of the JWS payload. It comprises the following:<a href="#section-1.1-2.1.1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-1.1-2.1.2.1">A format for enabling selective disclosure in nested JSON data structures,
supporting selectively disclosable object properties (name/value pairs) and array elements<a href="#section-1.1-2.1.2.1" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-1.1-2.1.2.2">A format for encoding the selectively disclosable data items<a href="#section-1.1-2.1.2.2" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-1.1-2.1.2.3">A format extending the JWS Compact Serialization, allowing for the combined
transport of the Issuer-signed JSON data structure and the disclosable data items<a href="#section-1.1-2.1.2.3" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-1.1-2.1.2.4">An alternate format extending the JWS JSON Serialization, also allowing for
transport of the Issuer-signed JSON data structure and disclosure data<a href="#section-1.1-2.1.2.4" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li id="section-1.1-2.2">
            <p id="section-1.1-2.2.1">SD-JWT+KB is a composite structure of an SD-JWT and a cryptographic key binding that can be presented to and verified by the Verifier. It comprises the following:<a href="#section-1.1-2.2.1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-1.1-2.2.2.1">A mechanism for associating an SD-JWT with a key pair<a href="#section-1.1-2.2.2.1" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-1.1-2.2.2.2">A format for a Key Binding JWT (KB-JWT) that allows proof of possession of the private key of
the associated key pair<a href="#section-1.1-2.2.2.2" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-1.1-2.2.2.3">A format extending the SD-JWT format for the combined transport of the SD-JWT
and the KB-JWT<a href="#section-1.1-2.2.2.3" class="pilcrow">¶</a>
</li>
            </ul>
</li>
        </ol>
</section>
</div>
<div id="conventions-and-terminology">
<section id="section-1.2">
        <h3 id="name-conventions-and-terminology">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-conventions-and-terminology" class="section-name selfRef">Conventions and Terminology</a>
        </h3>
<p id="section-1.2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
"MAY", and "OPTIONAL" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2"><strong>Base64url</strong> denotes the URL-safe base64 encoding without padding defined in
Section 2 of <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<p id="section-1.2-3">Throughout the document the term "claims" refers generally to both
object properties (name/value pairs) as well as array elements.<a href="#section-1.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-1.2-4">
          <dt id="section-1.2-4.1">Selective Disclosure:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-4.2">Process of a Holder disclosing to a Verifier a subset of claims contained in a JWT issued by an Issuer.<a href="#section-1.2-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-4.3">Selectively Disclosable JWT (SD-JWT):</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-4.4">A composite structure, consisting of an Issuer-signed JWT (JWS, <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>) and zero or more Disclosures, which
supports selective disclosure as defined in this document. It can contain both regular claims and digests of selectively-disclosable claims.<a href="#section-1.2-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-4.5">Disclosure:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-4.6">A base64url-encoded string of a JSON array that contains a salt, a claim name (present when the claim is a name/value pair and absent when the claim is an array element), and a claim value. The Disclosure is used to calculate a digest for the respective claim. The term Disclosure refers to the whole base64url-encoded string.<a href="#section-1.2-4.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-4.7">Key Binding:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-4.8">Ability of the Holder to prove possession of an SD-JWT by proving
control over a private key during the presentation. When utilizing Key Binding, an SD-JWT contains
the public key corresponding to the private key controlled by the Holder (or a reference to this public key).<a href="#section-1.2-4.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-4.9">Key Binding JWT (KB-JWT):</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-4.10">A Key Binding JWT is said to "be tied to" a particular SD-JWT when its payload
is signed using the key included in the SD-JWT payload, and the KB-JWT contains
a hash of the SD-JWT in its <code>sd_hash</code> claim. Its format is defined in <a href="#kb-jwt" class="auto internal xref">Section 4.3</a>.<a href="#section-1.2-4.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-4.11">Selectively Disclosable JWT with Key Binding (SD-JWT+KB):</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-4.12">A composite structure, comprising an SD-JWT and a Key Binding JWT tied to that SD-JWT.<a href="#section-1.2-4.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-4.13">Processed SD-JWT Payload</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-4.14">The JSON object resulting from verification and processing of the Issuer-signed SD-JWT,
with digest placeholders replaced by the corresponding values from the Disclosures.<a href="#section-1.2-4.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-4.15">Issuer:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-4.16">An entity that creates SD-JWTs.<a href="#section-1.2-4.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-4.17">Holder:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-4.18">An entity that received SD-JWTs from the Issuer and has control over them. In the context of this document, the term may refer to the actual user, the supporting hardware and software in their possession, or both.<a href="#section-1.2-4.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-4.19">Verifier:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-4.20">An entity that requests, checks, and extracts the claims from an SD-JWT with its respective Disclosures.<a href="#section-1.2-4.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="flow-diagram">
<section id="section-2">
      <h2 id="name-flow-diagram">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-flow-diagram" class="section-name selfRef">Flow Diagram</a>
      </h2>
<span id="name-sd-jwt-issuance-and-present"></span><figure id="figure-1">
        <div class="lang-ascii-art sourcecode" id="section-2-1.1">
<pre>           +------------+
           |            |
           |   Issuer   |
           |            |
           +------------+
                 |
            Issues SD-JWT
      including all Disclosures
                 |
                 v
           +------------+
           |            |
           |   Holder   |
           |            |
           +------------+
                 |
     Presents SD-JWT or SD-JWT+KB
    including selected Disclosures
                 |
                 v
           +-------------+
           |             |+
           |  Verifiers  ||+
           |             |||
           +-------------+||
            +-------------+|
             +-------------+

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-sd-jwt-issuance-and-present" class="selfRef">SD-JWT Issuance and Presentation Flow</a>
        </figcaption></figure>
</section>
</div>
<div id="concepts">
<section id="section-3">
      <h2 id="name-concepts">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-concepts" class="section-name selfRef">Concepts</a>
      </h2>
<p id="section-3-1">This section describes SD-JWTs with their respective Disclosures and Key Binding at a
conceptual level, abstracting from the data formats described in <a href="#data_formats" class="auto internal xref">Section 4</a>.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="sd-jwt-and-disclosures">
<section id="section-3.1">
        <h3 id="name-sd-jwt-and-disclosures">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-sd-jwt-and-disclosures" class="section-name selfRef">SD-JWT and Disclosures</a>
        </h3>
<p id="section-3.1-1">An SD-JWT, at its core, is a digitally signed JSON document containing digests over the selectively disclosable claims with the Disclosures outside the document. Disclosures can be omitted without breaking the signature, and modifying them can be detected. Selectively disclosable claims can be individual object properties (name/value pairs) or array elements.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">Each digest value ensures the integrity of, and maps to, the respective Disclosure.  Digest values are calculated using a hash function over the Disclosures, each of which contains a cryptographically secure random salt, the claim name (only when the claim is an object property), and the claim value. The Disclosures are sent to the Holder with the SD-JWT in the format defined in <a href="#data_formats" class="auto internal xref">Section 4</a>.
When presenting an SD-JWT to a Verifier, the Holder only includes the Disclosures for the claims that it wants to reveal to that Verifier.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">An SD-JWT MAY also contain cleartext claims that are always disclosed to the Verifier.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="disclosing-to-a-verifier">
<section id="section-3.2">
        <h3 id="name-disclosing-to-a-verifier">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-disclosing-to-a-verifier" class="section-name selfRef">Disclosing to a Verifier</a>
        </h3>
<p id="section-3.2-1">To disclose to a Verifier a subset of the SD-JWT claim values, a Holder sends only the Disclosures of those selectively released claims to the Verifier as part of the SD-JWT.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="optional-key-binding">
<section id="section-3.3">
        <h3 id="name-optional-key-binding">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-optional-key-binding" class="section-name selfRef">Optional Key Binding</a>
        </h3>
<p id="section-3.3-1">Key Binding is an optional feature. When Key Binding is required by the use case, the SD-JWT MUST contain information about the key material controlled by the Holder.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<blockquote id="section-3.3-2">
          <p id="section-3.3-2.1">Note: How the public key is included in SD-JWT is described in <a href="#key_binding" class="auto internal xref">Section 4.1.2</a>.<a href="#section-3.3-2.1" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-3.3-3">When a Verifier requires Key Binding, the Holder presents an SD-JWT+KB, consisting of an SD-JWT as well as a Key Binding JWT tied to that SD-JWT.
The Key Binding JWT encodes a signature by the Holder's private key over<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-3.3-4.1">a hash of the SD-JWT,<a href="#section-3.3-4.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-3.3-4.2">a nonce to ensure the freshness of the signature, and<a href="#section-3.3-4.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-3.3-4.3">an audience value to indicate the intended Verifier for the document.<a href="#section-3.3-4.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.3-5">Details of the format of Key Binding JWTs are described in <a href="#kb-jwt" class="auto internal xref">Section 4.3</a>.<a href="#section-3.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="verification">
<section id="section-3.4">
        <h3 id="name-verification">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-verification" class="section-name selfRef">Verification</a>
        </h3>
<p id="section-3.4-1">At a high level, the Verifier<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-3.4-2.1">receives either an SD-JWT or an SD-JWT+KB from the Holder,<a href="#section-3.4-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-3.4-2.2">verifies the signature on the SD-JWT (or the SD-JWT inside the SD-JWT+KB) using the Issuer's public key,<a href="#section-3.4-2.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-3.4-2.3">verifies the signature on the KB-JWT using the public key included (or referenced) in the SD-JWT, if the Verifier's policy requires Key Binding, and<a href="#section-3.4-2.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-3.4-2.4">calculates the digests over the Holder-Selected Disclosures and verifies that each digest is contained in the SD-JWT.<a href="#section-3.4-2.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.4-3">The detailed algorithm is described in <a href="#verifier_verification" class="auto internal xref">Section 7.3</a>.<a href="#section-3.4-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="data_formats">
<section id="section-4">
      <h2 id="name-sd-jwt-and-sd-jwtkb-data-fo">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-sd-jwt-and-sd-jwtkb-data-fo" class="section-name selfRef">SD-JWT and SD-JWT+KB Data Formats</a>
      </h2>
<p id="section-4-1">An SD-JWT is composed of<a href="#section-4-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4-2.1">an Issuer-signed JWT, and<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-4-2.2">zero or more Disclosures.<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-4-3">An SD-JWT+KB is composed of<a href="#section-4-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4-4.1">an SD-JWT (i.e., an Issuer-signed JWT and zero or more Disclosures), and<a href="#section-4-4.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-4-4.2">a Key Binding JWT.<a href="#section-4-4.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-4-5">The Issuer-signed JWT, Disclosures, and Key Binding JWT are explained in
<a href="#iss-signed-jwt" class="auto internal xref">Section 4.1</a>, <a href="#creating_disclosures" class="auto internal xref">Section 4.2</a>, and <a href="#kb-jwt" class="auto internal xref">Section 4.3</a> respectively.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">The compact serialized format for the SD-JWT is the concatenation of each part delineated with a single tilde ('~') character as follows:<a href="#section-4-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-7">
<pre>&lt;Issuer-signed JWT&gt;~&lt;Disclosure 1&gt;~&lt;Disclosure 2&gt;~...~&lt;Disclosure N&gt;~

</pre><a href="#section-4-7" class="pilcrow">¶</a>
</div>
<p id="section-4-8">The order of the concatenated parts MUST be the Issuer-signed JWT,
a tilde character, zero or more Disclosures each followed by a tilde character,
and lastly the optional Key Binding JWT.
In the case that there is no Key Binding JWT, the last element MUST be an empty
string and the last separating tilde character MUST NOT be omitted.<a href="#section-4-8" class="pilcrow">¶</a></p>
<p id="section-4-9">The serialized format for an SD-JWT+KB extends the SD-JWT format by concatenating a Key Binding JWT.<a href="#section-4-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-10">
<pre>&lt;Issuer-signed JWT&gt;~&lt;Disclosure 1&gt;~&lt;Disclosure 2&gt;~...~&lt;Disclosure N&gt;~&lt;KB-JWT&gt;

</pre><a href="#section-4-10" class="pilcrow">¶</a>
</div>
<p id="section-4-11">The two formats can be distinguished by the final <code>~</code> character that is present
on an SD-JWT.  A Verifier that expects an SD-JWT MUST verify that the final
tilde-separated component is empty.  A Verifier that expects an SD-JWT+KB MUST verify
that its final tilde-separated component is a valid KB-JWT.<a href="#section-4-11" class="pilcrow">¶</a></p>
<p id="section-4-12">The Disclosures are linked to the Issuer-signed JWT through the
digest values included therein.<a href="#section-4-12" class="pilcrow">¶</a></p>
<p id="section-4-13">When issuing to a Holder, the Issuer includes all the relevant Disclosures in the SD-JWT.<a href="#section-4-13" class="pilcrow">¶</a></p>
<p id="section-4-14">When presenting to a Verifier, the Holder sends only the selected set of the Disclosures in the SD-JWT.<a href="#section-4-14" class="pilcrow">¶</a></p>
<p id="section-4-15">The Holder MAY send any subset of the Disclosures to the Verifier, i.e.,
none, some, or all Disclosures. For data that the Holder does not want to reveal
to the Verifier, the Holder MUST NOT send Disclosures or reveal the salt values in any
other way. A Holder MUST NOT send a Disclosure that was not included in the issued
SD-JWT or send a Disclosure more than once.<a href="#section-4-15" class="pilcrow">¶</a></p>
<p id="section-4-16">To further illustrate the SD-JWT format, the following examples show a few different
SD-JWT permutations, both with and without various constituent parts.<a href="#section-4-16" class="pilcrow">¶</a></p>
<p id="section-4-17">An SD-JWT without Disclosures:<a href="#section-4-17" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-18">
<pre>&lt;Issuer-signed JWT&gt;~

</pre><a href="#section-4-18" class="pilcrow">¶</a>
</div>
<p id="section-4-19">An SD-JWT with Disclosures:<a href="#section-4-19" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-20">
<pre>&lt;Issuer-signed JWT&gt;~&lt;Disclosure 1&gt;~&lt;Disclosure N&gt;~

</pre><a href="#section-4-20" class="pilcrow">¶</a>
</div>
<p id="section-4-21">An SD-JWT+KB without Disclosures:<a href="#section-4-21" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-22">
<pre>&lt;Issuer-signed JWT&gt;~&lt;KB-JWT&gt;

</pre><a href="#section-4-22" class="pilcrow">¶</a>
</div>
<p id="section-4-23">An SD-JWT+KB with Disclosures:<a href="#section-4-23" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-24">
<pre>&lt;Issuer-signed JWT&gt;~&lt;Disclosure 1&gt;~&lt;Disclosure N&gt;~&lt;KB-JWT&gt;

</pre><a href="#section-4-24" class="pilcrow">¶</a>
</div>
<p id="section-4-25">As an alternative illustration of the SD-JWT format, ABNF <span>[<a href="#RFC5234" class="cite xref">RFC5234</a>]</span> for the
SD-JWT, SD-JWT+KB, and various constituent parts is provided here (for those who celebrate):<a href="#section-4-25" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-4-26">
<pre>ALPHA = %x41-5A / %x61-7A ; A-Z / a-z
DIGIT = %x30-39 ; 0-9
BASE64URL = 1*(ALPHA / DIGIT / "-" / "_")
JWT = BASE64URL "." BASE64URL "." BASE64URL
DISCLOSURE = BASE64URL
SD-JWT = JWT "~" *(DISCLOSURE "~")
KB-JWT = JWT
SD-JWT-KB = SD-JWT KB-JWT

</pre><a href="#section-4-26" class="pilcrow">¶</a>
</div>
<div id="iss-signed-jwt">
<section id="section-4.1">
        <h3 id="name-issuer-signed-jwt">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-issuer-signed-jwt" class="section-name selfRef">Issuer-signed JWT</a>
        </h3>
<p id="section-4.1-1">An SD-JWT has a JWT component that MUST be signed using the Issuer's private
key. It MUST NOT use the <code>none</code> algorithm.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">The payload of an SD-JWT is a JSON object according to the following rules:<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-4.1-3">
<li id="section-4.1-3.1">The payload MAY contain the <code>_sd_alg</code> key described in <a href="#hash_function_claim" class="auto internal xref">Section 4.1.1</a>.<a href="#section-4.1-3.1" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-3.2">The payload MAY contain one or more digests of Disclosures to enable selective disclosure of the respective claims, created and formatted as described in <a href="#creating_disclosures" class="auto internal xref">Section 4.2</a>.<a href="#section-4.1-3.2" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-3.3">The payload MAY contain one or more decoy digests to obscure the actual number of claims in the SD-JWT, created and formatted as described in <a href="#decoy_digests" class="auto internal xref">Section 4.2.5</a>.<a href="#section-4.1-3.3" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-3.4">The payload MAY contain one or more permanently disclosed claims.<a href="#section-4.1-3.4" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-3.5">The payload MAY contain the Holder's public key(s) or reference(s) thereto, as explained in <a href="#key_binding" class="auto internal xref">Section 4.1.2</a>.<a href="#section-4.1-3.5" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-3.6">The payload MAY contain further claims such as <code>iss</code>, <code>iat</code>, etc. as defined or required by the application using SD-JWTs.<a href="#section-4.1-3.6" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-3.7">The payload MUST NOT contain the claims <code>_sd</code> or <code>...</code> except for the purpose of conveying digests as described in <a href="#embedding_object_properties" class="auto internal xref">Section 4.2.4.1</a> and <a href="#embedding_array_elements" class="auto internal xref">Section 4.2.4.2</a> respectively below.<a href="#section-4.1-3.7" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-4.1-4">The same digest value MUST NOT appear more than once in the SD-JWT.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">Application and profiles of SD-JWT SHOULD be explicitly typed. See <a href="#explicit_typing" class="auto internal xref">Section 9.11</a> for more details.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6">It is the Issuer who decides which claims are selectively disclosable by the Holder and which are not. Claims MAY be included as plaintext as well, e.g., if hiding the particular claims from the Verifier is not required in the intended use case. See <a href="#sd-validity-claims" class="auto internal xref">Section 9.7</a> for considerations on making validity-controlling claims such as <code>exp</code> selectively disclosable.<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7">Claims that are not selectively disclosable are included in the SD-JWT in plaintext just as they would be in any other JSON structure.<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<div id="hash_function_claim">
<section id="section-4.1.1">
          <h4 id="name-hash-function-claim">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-hash-function-claim" class="section-name selfRef">Hash Function Claim</a>
          </h4>
<p id="section-4.1.1-1">The claim <code>_sd_alg</code> indicates the hash algorithm used by the Issuer to generate
the digests as described in <a href="#creating_disclosures" class="auto internal xref">Section 4.2</a>. When used, this claim MUST
appear at the top level of the SD-JWT payload. It
MUST NOT be used in any object nested within the payload. If the  <code>_sd_alg</code>
claim is not present at the top level, a default value of <code>sha-256</code> MUST be used.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1.1-2">This claim value is a case-sensitive string with the hash algorithm identifier.
The hash algorithm identifier MUST be a hash algorithm value from the "Hash Name
String" column in the IANA "Named Information Hash Algorithm" registry
<span>[<a href="#IANA.Hash.Algorithms" class="cite xref">IANA.Hash.Algorithms</a>]</span> or a value defined in another specification and/or
profile of this specification.<a href="#section-4.1.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1.1-3">To promote interoperability, implementations MUST support the <code>sha-256</code> hash
algorithm.<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1.1-4">See <a href="#security_considerations" class="auto internal xref">Section 9</a> for requirements regarding entropy of the salt,
minimum length of the salt, and choice of a hash algorithm.<a href="#section-4.1.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="key_binding">
<section id="section-4.1.2">
          <h4 id="name-key-binding">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-key-binding" class="section-name selfRef">Key Binding</a>
          </h4>
<p id="section-4.1.2-1">If the Issuer wants to enable Key Binding, it includes a public key
associated with the Holder, or a reference thereto, using the <code>cnf</code> claim as defined in <span>[<a href="#RFC7800" class="cite xref">RFC7800</a>]</span>.
The <code>jwk</code> confirmation method, as defined in Section 3.2 of <span>[<a href="#RFC7800" class="cite xref">RFC7800</a>]</span>, is
suggested for doing so, however, other confirmation methods can be used.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<blockquote id="section-4.1.2-2">
            <p id="section-4.1.2-2.1">Note that, as was stated in <span>[<a href="#RFC7800" class="cite xref">RFC7800</a>]</span>,
if an application needs to represent multiple proof-of-possession
keys in the same SD-JWT, one way to achieve this is to use other
claim names, in addition to <code>cnf</code>, to hold the additional proof-of-possession key information.<a href="#section-4.1.2-2.1" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-4.1.2-3">It is out of the scope of this document to describe how the Holder key pair is
established. For example, the Holder MAY create a key pair and provide a public key to the Issuer,
the Issuer MAY create the key pair for the Holder, or
Holder and Issuer MAY use pre-established key material.<a href="#section-4.1.2-3" class="pilcrow">¶</a></p>
<blockquote id="section-4.1.2-4">
            <p id="section-4.1.2-4.1">Note: The examples throughout this document use the <code>cnf</code> claim with the <code>jwk</code> member to include
the raw public key by value in SD-JWT.<a href="#section-4.1.2-4.1" class="pilcrow">¶</a></p>
</blockquote>
</section>
</div>
</section>
</div>
<div id="creating_disclosures">
<section id="section-4.2">
        <h3 id="name-disclosures">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-disclosures" class="section-name selfRef">Disclosures</a>
        </h3>
<p id="section-4.2-1">Disclosures are created differently depending on whether a claim is an object property (name/value pair) or an array element.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.2-2.1">For a claim that is an object property, the Issuer creates a Disclosure as described in <a href="#disclosures_for_object_properties" class="auto internal xref">Section 4.2.1</a>.<a href="#section-4.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-4.2-2.2">For a claim that is an array element, the Issuer creates a Disclosure as described in <a href="#disclosures_for_array_elements" class="auto internal xref">Section 4.2.2</a>.<a href="#section-4.2-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<div id="disclosures_for_object_properties">
<section id="section-4.2.1">
          <h4 id="name-disclosures-for-object-prop">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-disclosures-for-object-prop" class="section-name selfRef">Disclosures for Object Properties</a>
          </h4>
<p id="section-4.2.1-1">For each claim that is an object property and that is to be made selectively disclosable, the Issuer MUST create a Disclosure as follows:<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.2.1-2.1">
              <p id="section-4.2.1-2.1.1">Create a JSON array of three elements in this order:<a href="#section-4.2.1-2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-4.2.1-2.1.2">
<li id="section-4.2.1-2.1.2.1">A salt value. MUST be a string. See <a href="#salt-entropy" class="auto internal xref">Section 9.3</a> for security considerations. It is RECOMMENDED to base64url-encode a minimum of 128 bits of cryptographically secure random data, producing a string. The salt value MUST be unique for each claim that is to be selectively disclosed. The Issuer MUST NOT reveal the salt value to any party other than the Holder.<a href="#section-4.2.1-2.1.2.1" class="pilcrow">¶</a>
</li>
                <li id="section-4.2.1-2.1.2.2">The claim name, or key, as it would be used in a regular JWT payload. It MUST be a string and MUST NOT be <code>_sd</code>, <code>...</code>, or a claim name existing in the object as a permanently disclosed claim.<a href="#section-4.2.1-2.1.2.2" class="pilcrow">¶</a>
</li>
                <li id="section-4.2.1-2.1.2.3">The claim value, as it would be used in a regular JWT payload. The value can be of any type that is allowed in JSON, including numbers, strings, booleans, arrays, null, and objects.<a href="#section-4.2.1-2.1.2.3" class="pilcrow">¶</a>
</li>
              </ol>
</li>
            <li class="compact" id="section-4.2.1-2.2">base64url-encode the UTF-8 byte sequence of the JSON array. This string is the Disclosure.<a href="#section-4.2.1-2.2" class="pilcrow">¶</a>
</li>
          </ul>
<blockquote id="section-4.2.1-3">
            <p id="section-4.2.1-3.1">Note: The order was decided based on readability considerations: salts have a
constant length within the SD-JWT, claim names would be around the same length
all the time, and claim values would vary in size, potentially being large
objects.<a href="#section-4.2.1-3.1" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-4.2.1-4">The following example illustrates the steps described above.<a href="#section-4.2.1-4" class="pilcrow">¶</a></p>
<p id="section-4.2.1-5">The array is created as follows:<a href="#section-4.2.1-5" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.2.1-6">
<pre>["_26bc4LT-ac6q2KI6cBW5es", "family_name", "Möbius"]

</pre><a href="#section-4.2.1-6" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-7">The resulting Disclosure is: <code>WyJfMjZiYzRMVC1hYzZxMktJNmNCVzVlcyIsICJmYW1pbHlfbmFtZSIsICJNw7ZiaXVzIl0</code><a href="#section-4.2.1-7" class="pilcrow">¶</a></p>
<p id="section-4.2.1-8">Note that variations in whitespace, encoding of Unicode characters, ordering of object properties, etc., are allowed
in the JSON representation and no canonicalization needs to be performed before base64url-encoding because the digest is calculated over the base64url-encoded value itself.
For example, the following strings are all valid and encode the
same claim value "Möbius":<a href="#section-4.2.1-8" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.2.1-9.1">A different way to encode the unicode umlaut:<br>
              <code>WyJfMjZiYzRMVC1hYzZxMktJNmNCVzVlcyIsICJmYW1pbHlfbmFtZSIsICJNX</code><br>
              <code>HUwMGY2Yml1cyJd</code><a href="#section-4.2.1-9.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.2.1-9.2">No white space:<br>
              <code>WyJfMjZiYzRMVC1hYzZxMktJNmNCVzVlcyIsImZhbWlseV9uYW1lIiwiTcO2Y</code><br>
              <code>ml1cyJd</code><a href="#section-4.2.1-9.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.2.1-9.3">Newline characters between elements:<br>
              <code>WwoiXzI2YmM0TFQtYWM2cTJLSTZjQlc1ZXMiLAoiZmFtaWx5X25hbWUiLAoiT</code><br>
              <code>cO2Yml1cyIKXQ</code><a href="#section-4.2.1-9.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.2.1-10">However, the digest is calculated over the respective base64url-encoded value itself, which effectively signs the variation chosen by the Issuer and makes it immutable in the context of the particular SD-JWT.<a href="#section-4.2.1-10" class="pilcrow">¶</a></p>
<p id="section-4.2.1-11">See <a href="#disclosure_format_considerations" class="auto internal xref">Appendix B</a> for some further considerations on the Disclosure format approach.<a href="#section-4.2.1-11" class="pilcrow">¶</a></p>
</section>
</div>
<div id="disclosures_for_array_elements">
<section id="section-4.2.2">
          <h4 id="name-disclosures-for-array-eleme">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-disclosures-for-array-eleme" class="section-name selfRef">Disclosures for Array Elements</a>
          </h4>
<p id="section-4.2.2-1">For each claim that is an array element and that is to be made selectively disclosable, the Issuer MUST create a Disclosure as follows:<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.2.2-2.1">
              <p id="section-4.2.2-2.1.1">The array MUST contain two elements in this order:<a href="#section-4.2.2-2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-4.2.2-2.1.2">
<li id="section-4.2.2-2.1.2.1">The salt value as described in <a href="#disclosures_for_object_properties" class="auto internal xref">Section 4.2.1</a>.<a href="#section-4.2.2-2.1.2.1" class="pilcrow">¶</a>
</li>
                <li id="section-4.2.2-2.1.2.2">The array element that is to be hidden. This value can be of any type that is allowed in JSON, including numbers, strings, booleans, arrays, and objects.<a href="#section-4.2.2-2.1.2.2" class="pilcrow">¶</a>
</li>
              </ol>
</li>
          </ul>
<p id="section-4.2.2-3">The Disclosure string is created by base64url-encoding the UTF-8 byte sequence of the resulting JSON array as described in <a href="#disclosures_for_object_properties" class="auto internal xref">Section 4.2.1</a>. The same considerations regarding
variations in the result of the JSON encoding apply.<a href="#section-4.2.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2.2-4">For example, a Disclosure for the second element of the <code>nationalities</code> array in the following JWT Claims Set:<a href="#section-4.2.2-4" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.2.2-5">
<pre>{
  "nationalities": ["DE", "FR", "US"]
}

</pre><a href="#section-4.2.2-5" class="pilcrow">¶</a>
</div>
<p id="section-4.2.2-6">could be created by first creating the following array:<a href="#section-4.2.2-6" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.2.2-7">
<pre>["lklxF5jMYlGTPUovMNIvCA", "FR"]

</pre><a href="#section-4.2.2-7" class="pilcrow">¶</a>
</div>
<p id="section-4.2.2-8">The resulting Disclosure would be: <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIkZSIl0</code><a href="#section-4.2.2-8" class="pilcrow">¶</a></p>
<blockquote id="section-4.2.2-9">
            <p id="section-4.2.2-9.1">Note that the size of an array alone can potentially reveal unintended information.
The use of decoys, as described in <a href="#decoy_digests" class="auto internal xref">Section 4.2.5</a>, to consistently pad the size of an array can help obscure
the actual number of elements present in any particular instance.<a href="#section-4.2.2-9.1" class="pilcrow">¶</a></p>
</blockquote>
</section>
</div>
<div id="hashing_disclosures">
<section id="section-4.2.3">
          <h4 id="name-hashing-disclosures">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-hashing-disclosures" class="section-name selfRef">Hashing Disclosures</a>
          </h4>
<p id="section-4.2.3-1">For embedding references to the Disclosures in the SD-JWT, each Disclosure is hashed using the hash algorithm specified in the <code>_sd_alg</code> claim described in <a href="#hash_function_claim" class="auto internal xref">Section 4.1.1</a>, or SHA-256 if no algorithm is specified. The resulting digest is then included in the SD-JWT payload instead of the original claim value, as described next.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
<p id="section-4.2.3-2">The digest MUST be taken over the US-ASCII bytes of the base64url-encoded value that is the Disclosure. This follows the convention in JWS <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span> and JWE <span>[<a href="#RFC7516" class="cite xref">RFC7516</a>]</span>. The bytes of the digest MUST then be base64url-encoded.<a href="#section-4.2.3-2" class="pilcrow">¶</a></p>
<p id="section-4.2.3-3">It is important to note that:<a href="#section-4.2.3-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.2.3-4.1">The input to the hash function MUST be the base64url-encoded Disclosure, not the bytes encoded by the base64url string.<a href="#section-4.2.3-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.2.3-4.2">The bytes of the output of the hash function MUST be base64url-encoded, and are not the bytes making up the (sometimes used) hex representation of the bytes of the digest.<a href="#section-4.2.3-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.2.3-5">For example, the base64url-encoded SHA-256 digest of the Disclosure
<code>WyJfMjZiYzRMVC1hYzZxMktJNmNCVzVlcyIsICJmYW1pbHlfbmFtZSIsICJNw7ZiaXVzIl0</code>
for the <code>family_name</code> claim from <a href="#disclosures_for_object_properties" class="auto internal xref">Section 4.2.1</a> above is
<code>X9yH0Ajrdm1Oij4tWso9UzzKJvPoDxwmuEcO3XAdRC0</code>.<a href="#section-4.2.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="embedding_disclosure_digests">
<section id="section-4.2.4">
          <h4 id="name-embedding-disclosure-digest">
<a href="#section-4.2.4" class="section-number selfRef">4.2.4. </a><a href="#name-embedding-disclosure-digest" class="section-name selfRef">Embedding Disclosure Digests in SD-JWTs</a>
          </h4>
<p id="section-4.2.4-1">For selectively disclosable claims, the digests of the Disclosures are embedded into the Issuer-signed JWT instead of the claims themselves. The precise way of embedding depends on whether a claim is an object property (name/value pair) or an array element.<a href="#section-4.2.4-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.2.4-2.1">For a claim that is an object property, the Issuer embeds a Disclosure digest as described in <a href="#embedding_object_properties" class="auto internal xref">Section 4.2.4.1</a>.<a href="#section-4.2.4-2.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.2.4-2.2">For a claim that is an array element, the Issuer creates a Disclosure digest as described in <a href="#embedding_array_elements" class="auto internal xref">Section 4.2.4.2</a>.<a href="#section-4.2.4-2.2" class="pilcrow">¶</a>
</li>
          </ul>
<div id="embedding_object_properties">
<section id="section-4.2.4.1">
            <h5 id="name-object-properties">
<a href="#section-4.2.4.1" class="section-number selfRef">4.2.4.1. </a><a href="#name-object-properties" class="section-name selfRef">Object Properties</a>
            </h5>
<p id="section-4.2.4.1-1">Digests of Disclosures for object properties are added to an array under the new
key <code>_sd</code> in the object. The <code>_sd</code> key MUST refer to an array of strings, each
string being a digest of a Disclosure or a decoy digest as described in <a href="#decoy_digests" class="auto internal xref">Section 4.2.5</a>.
An <code>_sd</code> key can be present at any level of the JSON object hierarchy, including the top-level,
nested deeper as described in <a href="#nested_data" class="auto internal xref">Section 6</a>, or in recursive disclosures as described in <a href="#recursive_disclosures" class="auto internal xref">Section 4.2.6</a>.<a href="#section-4.2.4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.4.1-2">The array MAY be empty in case the Issuer decided not to selectively disclose
any of the claims at that level. However, it is RECOMMENDED to omit the <code>_sd</code>
key in this case to save space.<a href="#section-4.2.4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.2.4.1-3">The Issuer MUST hide the original order of the claims in the array. To ensure
this, it is RECOMMENDED to shuffle the array of hashes, e.g., by sorting it
alphanumerically or randomly, after potentially adding
decoy digests as described in <a href="#decoy_digests" class="auto internal xref">Section 4.2.5</a>. The precise method does not matter as long as it
does not depend on the original order of elements.<a href="#section-4.2.4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.2.4.1-4">For example, using the digest of the Disclosure from <a href="#hashing_disclosures" class="auto internal xref">Section 4.2.3</a>,
the Issuer could create the following SD-JWT payload to make <code>family_name</code>
selectively disclosable:<a href="#section-4.2.4.1-4" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.2.4.1-5">
<pre>{
  "given_name": "Alice",
  "_sd": ["X9yH0Ajrdm1Oij4tWso9UzzKJvPoDxwmuEcO3XAdRC0"]
}

</pre><a href="#section-4.2.4.1-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="embedding_array_elements">
<section id="section-4.2.4.2">
            <h5 id="name-array-elements">
<a href="#section-4.2.4.2" class="section-number selfRef">4.2.4.2. </a><a href="#name-array-elements" class="section-name selfRef">Array Elements</a>
            </h5>
<p id="section-4.2.4.2-1">Digests of Disclosures for array elements are added to the array in the same
position as the original claim value in the array. For each digest, an object
of the form <code>{"...": "&lt;digest&gt;"}</code> is added to the array. The key MUST always be the
string <code>...</code> (three dots). The value MUST be the digest of the Disclosure created as
described in <a href="#hashing_disclosures" class="auto internal xref">Section 4.2.3</a>. There MUST NOT be any other keys in the
object. Note that the string <code>...</code> was chosen because the ellipsis character, typically entered as three period characters, is commonly used in places where content is omitted from the present context.<a href="#section-4.2.4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.4.2-2">For example, using the digest of the array element Disclosure created above in <a href="#disclosures_for_array_elements" class="auto internal xref">Section 4.2.2</a>,
the Issuer could create the following SD-JWT payload to make the second element
of the <code>nationalities</code> array selectively disclosable:<a href="#section-4.2.4.2-2" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.2.4.2-3">
<pre>{
  "nationalities":
    ["DE", {"...":"w0I8EKcdCtUPkGCNUrfwVp2xEgNjtoIDlOxc9-PlOhs"}, "US"]
}

</pre><a href="#section-4.2.4.2-3" class="pilcrow">¶</a>
</div>
<p id="section-4.2.4.2-4">As described in <a href="#verifier_verification" class="auto internal xref">Section 7.3</a>, Verifiers ignore all selectively
disclosable array elements for which they did not receive a Disclosure. In the
example above, the verification process would output an array with only one
element unless a matching Disclosure for the second element is received.<a href="#section-4.2.4.2-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="decoy_digests">
<section id="section-4.2.5">
          <h4 id="name-decoy-digests">
<a href="#section-4.2.5" class="section-number selfRef">4.2.5. </a><a href="#name-decoy-digests" class="section-name selfRef">Decoy Digests</a>
          </h4>
<p id="section-4.2.5-1">An Issuer MAY add additional digests to the SD-JWT payload that are not associated with
any claim.  The purpose of such "decoy" digests is to make it more difficult for
an adversarial Verifier to see the original number of claims or array elements contained in the SD-JWT. Decoy
digests MAY be added both to the <code>_sd</code> array for objects as well as in arrays.<a href="#section-4.2.5-1" class="pilcrow">¶</a></p>
<p id="section-4.2.5-2">It is RECOMMENDED to create the decoy digests by hashing over a
cryptographically secure random number. The bytes of the digest MUST then be
base64url-encoded as above. The same digest function as for the Disclosures MUST
be used.<a href="#section-4.2.5-2" class="pilcrow">¶</a></p>
<p id="section-4.2.5-3">For decoy digests, no Disclosure is sent to the Holder, i.e., the Holder will
see digests that do not correspond to any Disclosure. See
<a href="#decoy_digests_privacy" class="auto internal xref">Section 10.4</a> for additional privacy considerations.<a href="#section-4.2.5-3" class="pilcrow">¶</a></p>
<p id="section-4.2.5-4">To ensure readability and replicability, the examples in this specification do
not contain decoy digests unless explicitly stated. For an example
with decoy digests, see <a href="#example-simple_structured" class="auto internal xref">Appendix A.1</a>.<a href="#section-4.2.5-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recursive_disclosures">
<section id="section-4.2.6">
          <h4 id="name-recursive-disclosures">
<a href="#section-4.2.6" class="section-number selfRef">4.2.6. </a><a href="#name-recursive-disclosures" class="section-name selfRef">Recursive Disclosures</a>
          </h4>
<p id="section-4.2.6-1">The algorithms above are compatible with "recursive disclosures", in which one
selectively disclosed field reveals the existence of more selectively
disclosable fields.  For example, consider the following JSON structure:<a href="#section-4.2.6-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.2.6-2">
<pre>{
    "family_name": "Möbius",
    "nationalities": ["DE", "FR", "UK"]
}

</pre><a href="#section-4.2.6-2" class="pilcrow">¶</a>
</div>
<p id="section-4.2.6-3">When the Holder has multiple nationalities, the issuer may wish to conceal
the presence of any statement regarding nationalities while also allowing the
holder to reveal each of those nationalities individually.
This can be accomplished by first making the entries within the "nationalities"
array selectively disclosable, and then making the whole "nationalities" field
selectively disclosable.<a href="#section-4.2.6-3" class="pilcrow">¶</a></p>
<p id="section-4.2.6-4">The following shows each of the entries within the "nationalities" array being made selectively disclosable:<a href="#section-4.2.6-4" class="pilcrow">¶</a></p>
<div class="lang-ascii-art sourcecode" id="section-4.2.6-5">
<pre>{
    "family_name": "Möbius",
    "nationalities": [
        { "...": "PmnlrRjhLcwf8zTDdK15HVGwHtPYjddvD362WjBLwro" }
        { "...": "r823HFN6Ba_lpSANYtXqqCBAH-TsQlIzfOK0lRAFLCM" },
        { "...": "nP5GYjwhFm6ESlAeC4NCaIliW4tz0hTrUeoJB3lb5TA" }
    ]
}

Content of Disclosures:
PmnlrRj... = ["16_mAd0GiwaZokU26_0i0h","DE"]
r823HFN... = ["fn9fN0rD-fFs2n303ZI-0c","FR"]
nP5GYjw... = ["YIKesqOkXXNzMQtsX_-_lw","UK"]

</pre><a href="#section-4.2.6-5" class="pilcrow">¶</a>
</div>
<p id="section-4.2.6-6">Followed by making the whole "nationalities" array selectively disclosable:<a href="#section-4.2.6-6" class="pilcrow">¶</a></p>
<div class="lang-ascii-art sourcecode" id="section-4.2.6-7">
<pre>{
    "family_name": "Möbius",
    "_sd": [ "5G1srw3RG5W4pVTwSsYxeOWosRBbzd18ZoWKkC-hBL4" ]
}

Content of Disclosures:
PmnlrRj... = ["16_mAd0GiwaZokU26_0i0h","DE"]
r823HFN... = ["fn9fN0rD-fFs2n303ZI-0c","FR"]
nP5GYjw... = ["YIKesqOkXXNzMQtsX_-_lw","UK"]
5G1srw3... = ["4drfeTtSUK3aY_-PF12gcX","nationalities",
    [
        { "...": "PmnlrRjhLcwf8zTDdK15HVGwHtPYjddvD362WjBLwro" },
        { "...": "r823HFN6Ba_lpSANYtXqqCBAH-TsQlIzfOK0lRAFLCM" },
        { "...": "nP5GYjwhFm6ESlAeC4NCaIliW4tz0hTrUeoJB3lb5TA" }
    ]
]

</pre><a href="#section-4.2.6-7" class="pilcrow">¶</a>
</div>
<p id="section-4.2.6-8">With this set of disclosures, the holder could include the disclosure with hash
<code>PmnlrRj...</code> to disclose only the "DE" nationality, or include both <code>PmnlrRj...</code>
and <code>r823HFN...</code> to disclose both the "DE" and "FR" nationalities, but hide the
"UK" nationality. In either case, the holder would also need to include the
disclosure with hash <code>5G1srw3...</code> to disclose the <code>nationalities</code> field that
contains the respective elements.<a href="#section-4.2.6-8" class="pilcrow">¶</a></p>
<p id="section-4.2.6-9">Note that making recursive redactions introduces dependencies between the
disclosure objects in an SD-JWT.  The <code>r823HFN...</code> disclosure cannot be used
without the <code>5G1srw3...</code> disclosure; since a Verifier would not have a matching
hash that would tell it where the content of the <code>r823HFN...</code> disclosure should
be inserted.  If a disclosure object is included in an SD-JWT, then the SD-JWT
MUST include any other disclosure objects necessary to process the first
disclosure object.  In other words, any disclosure object in an SD-JWT must
"connect" to the claims in the issuer-signed JWT, possibly via an intermediate
disclosure object.  In the above example, it would be illegal to include any one
of the <code>PmnlrRj...</code>, <code>r823HFN...</code>, <code>nP5GYjw..</code> disclosure objects without also
including the <code>5G1srw3...</code> disclosure object.<a href="#section-4.2.6-9" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="kb-jwt">
<section id="section-4.3">
        <h3 id="name-key-binding-jwt">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-key-binding-jwt" class="section-name selfRef">Key Binding JWT</a>
        </h3>
<p id="section-4.3-1">This section defines the Key Binding JWT, which encodes a
signature over an SD-JWT by the Holder's private key.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">The Key Binding JWT MUST be a JWT according to <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>, and it MUST contain the following elements:<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.3-3.1">
            <p id="section-4.3-3.1.1">in the JOSE header,<a href="#section-4.3-3.1.1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.3-3.1.2.1">
                <code>typ</code>: REQUIRED. MUST be <code>kb+jwt</code>, which explicitly types the Key Binding JWT as recommended in Section 3.11 of <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-4.3-3.1.2.1" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-4.3-3.1.2.2">
                <code>alg</code>: REQUIRED. A digital signature algorithm identifier such as per IANA "JSON Web Signature and Encryption Algorithms" registry. It MUST NOT be <code>none</code>.<a href="#section-4.3-3.1.2.2" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="compact" id="section-4.3-3.2">
            <p id="section-4.3-3.2.1">in the JWT payload,<a href="#section-4.3-3.2.1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.3-3.2.2.1">
                <code>iat</code>: REQUIRED. The value of this claim MUST be the time at which the Key Binding JWT was issued using the syntax defined in <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>.<a href="#section-4.3-3.2.2.1" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-4.3-3.2.2.2">
                <code>aud</code>: REQUIRED. The value MUST be a single string that identifies the intended receiver of the Key Binding JWT. How the value is represented is up to the protocol used and out of scope of this specification.<a href="#section-4.3-3.2.2.2" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-4.3-3.2.2.3">
                <code>nonce</code>: REQUIRED. Ensures the freshness of the signature or its binding to the given transaction. The value type of this claim MUST be a string. How this value is obtained is up to the protocol used and out of scope of this specification.<a href="#section-4.3-3.2.2.3" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-4.3-3.2.2.4">
                <code>sd_hash</code>: REQUIRED. The base64url-encoded hash value over the Issuer-signed JWT and the selected Disclosures as defined below.<a href="#section-4.3-3.2.2.4" class="pilcrow">¶</a>
</li>
            </ul>
</li>
        </ul>
<p id="section-4.3-4">The general extensibility model of JWT means that additional claims and header parameters can be added to the Key Binding JWT.
However, unless there is a compelling reason, this SHOULD be avoided, as it may harm interoperability and burden conceptual integrity.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<div id="integrity-protection-of-the-presentation">
<section id="section-4.3.1">
          <h4 id="name-binding-to-an-sd-jwt">
<a href="#section-4.3.1" class="section-number selfRef">4.3.1. </a><a href="#name-binding-to-an-sd-jwt" class="section-name selfRef">Binding to an SD-JWT</a>
          </h4>
<p id="section-4.3.1-1">The hash value in the <code>sd_hash</code> claim binds the KB-JWT to the specific SD-JWT.
The <code>sd_hash</code> value MUST be taken over the US-ASCII bytes of the
encoded SD-JWT, i.e.,
the Issuer-signed JWT, a tilde character, and zero or more Disclosures selected
for presentation to the Verifier, each followed by a tilde character:<a href="#section-4.3.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3.1-2">
<pre>&lt;Issuer-signed JWT&gt;~&lt;Disclosure 1&gt;~&lt;Disclosure 2&gt;~...~&lt;Disclosure N&gt;~

</pre><a href="#section-4.3.1-2" class="pilcrow">¶</a>
</div>
<p id="section-4.3.1-3">The bytes of the digest MUST then be base64url-encoded.<a href="#section-4.3.1-3" class="pilcrow">¶</a></p>
<p id="section-4.3.1-4">The same hash algorithm as for the Disclosures MUST be used (defined by
the <code>_sd_alg</code> element in the Issuer-signed JWT or the default value, as defined
in <a href="#hash_function_claim" class="auto internal xref">Section 4.1.1</a>).<a href="#section-4.3.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="validating-the-key-binding-jwt">
<section id="section-4.3.2">
          <h4 id="name-validating-the-key-binding-">
<a href="#section-4.3.2" class="section-number selfRef">4.3.2. </a><a href="#name-validating-the-key-binding-" class="section-name selfRef">Validating the Key Binding JWT</a>
          </h4>
<p id="section-4.3.2-1">Whether to require Key Binding is up to the Verifier's policy, based on the set
of trust requirements such as trust frameworks it belongs to. See
<a href="#key_binding_security" class="auto internal xref">Section 9.5</a> for security considerations.<a href="#section-4.3.2-1" class="pilcrow">¶</a></p>
<p id="section-4.3.2-2">If the Verifier requires Key Binding, the Verifier MUST ensure that the key with which it validates the signature on
the Key Binding JWT is the key specified in the SD-JWT as the Holder's public
key.  For example, if the SD-JWT contains a <code>cnf</code> value with a <code>jwk</code> member, the
Verifier would parse the provided JWK and use it to verify the Key Binding JWT.<a href="#section-4.3.2-2" class="pilcrow">¶</a></p>
<p id="section-4.3.2-3">Details of the Validation process are defined in <a href="#verifier_verification" class="auto internal xref">Section 7.3</a>.<a href="#section-4.3.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="main-example">
<section id="section-5">
      <h2 id="name-example-sd-jwt">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-example-sd-jwt" class="section-name selfRef">Example SD-JWT</a>
      </h2>
<p id="section-5-1">In this example, a simple SD-JWT is demonstrated. This example is split into issuance and presentation.<a href="#section-5-1" class="pilcrow">¶</a></p>
<blockquote id="section-5-2">
        <p id="section-5-2.1">Note: Throughout the examples in this document, line breaks had to be added to
JSON strings and base64-encoded strings to adhere to the 72-character limit for
lines in RFCs and for readability. JSON does not allow line breaks within strings.<a href="#section-5-2.1" class="pilcrow">¶</a></p>
</blockquote>
<div id="issuance">
<section id="section-5.1">
        <h3 id="name-issuance">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-issuance" class="section-name selfRef">Issuance</a>
        </h3>
<p id="section-5.1-1">The following data about the user comprises the input JWT Claims Set used by the Issuer:<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.1-2">
<pre>{
  "sub": "user_42",
  "given_name": "John",
  "family_name": "Doe",
  "email": "johndoe@example.com",
  "phone_number": "+1-202-555-0101",
  "phone_number_verified": true,
  "address": {
    "street_address": "123 Main St",
    "locality": "Anytown",
    "region": "Anystate",
    "country": "US"
  },
  "birthdate": "1940-01-01",
  "updated_at": 1570000000,
  "nationalities": [
    "US",
    "DE"
  ]
}

</pre><a href="#section-5.1-2" class="pilcrow">¶</a>
</div>
<p id="section-5.1-3">In this example, the following decisions were made by the Issuer in constructing the SD-JWT:<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-4.1">The <code>nationalities</code> array is always visible, but its contents are selectively disclosable.<a href="#section-5.1-4.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-4.2">The <code>sub</code> element as well as essential verification data (<code>iss</code>, <code>exp</code>, <code>cnf</code>, etc.) are always visible.<a href="#section-5.1-4.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-4.3">All other claims are selectively disclosable.<a href="#section-5.1-4.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-4.4">For <code>address</code>, the Issuer is using a flat structure, i.e., all the claims
in the <code>address</code> claim can only be disclosed in full. Other options are
discussed in <a href="#nested_data" class="auto internal xref">Section 6</a>.<a href="#section-5.1-4.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-5">The following payload is used for the SD-JWT:<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.1-6">
<pre>{
  "_sd": [
    "CrQe7S5kqBAHt-nMYXgc6bdt2SH5aTY1sU_M-PgkjPI",
    "JzYjH4svliH0R3PyEMfeZu6Jt69u5qehZo7F7EPYlSE",
    "PorFbpKuVu6xymJagvkFsFXAbRoc2JGlAUA2BA4o7cI",
    "TGf4oLbgwd5JQaHyKVQZU9UdGE0w5rtDsrZzfUaomLo",
    "XQ_3kPKt1XyX7KANkqVR6yZ2Va5NrPIvPYbyMvRKBMM",
    "XzFrzwscM6Gn6CJDc6vVK8BkMnfG8vOSKfpPIZdAfdE",
    "gbOsI4Edq2x2Kw-w5wPEzakob9hV1cRD0ATN3oQL9JM",
    "jsu9yVulwQQlhFlM_3JlzMaSFzglhQG0DpfayQwLUK4"
  ],
  "iss": "https://issuer.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "user_42",
  "nationalities": [
    {
      "...": "pFndjkZ_VCzmyTa6UjlZo3dh-ko8aIKQc9DlGzhaVYo"
    },
    {
      "...": "7Cf6JkPudry3lcbwHgeZ8khAv1U1OSlerP0VkBJrWZ0"
    }
  ],
  "_sd_alg": "sha-256",
  "cnf": {
    "jwk": {
      "kty": "EC",
      "crv": "P-256",
      "x": "TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc",
      "y": "ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ"
    }
  }
}

</pre><a href="#section-5.1-6" class="pilcrow">¶</a>
</div>
<p id="section-5.1-7">The respective Disclosures, created by the Issuer, are listed below.
In the text below and in other locations in this specification,
the label "SHA-256 Hash:" is used as a shorthand for the label "Base64url-Encoded SHA-256 Hash:".<a href="#section-5.1-7" class="pilcrow">¶</a></p>
<p id="section-5.1-8"><strong>Claim <code>given_name</code></strong>:<a href="#section-5.1-8" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-9.1">SHA-256 Hash: <code>jsu9yVulwQQlhFlM_3JlzMaSFzglhQG0DpfayQwLUK4</code><a href="#section-5.1-9.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-9.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImdpdmVuX25hbWUiLCAiSm9o</code><br>
            <code>biJd</code><a href="#section-5.1-9.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-9.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "given_name", "John"]</code><a href="#section-5.1-9.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-10"><strong>Claim <code>family_name</code></strong>:<a href="#section-5.1-10" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-11.1">SHA-256 Hash: <code>TGf4oLbgwd5JQaHyKVQZU9UdGE0w5rtDsrZzfUaomLo</code><a href="#section-5.1-11.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-11.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImZhbWlseV9uYW1lIiwgIkRv</code><br>
            <code>ZSJd</code><a href="#section-5.1-11.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-11.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "family_name", "Doe"]</code><a href="#section-5.1-11.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-12"><strong>Claim <code>email</code></strong>:<a href="#section-5.1-12" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-13.1">SHA-256 Hash: <code>JzYjH4svliH0R3PyEMfeZu6Jt69u5qehZo7F7EPYlSE</code><a href="#section-5.1-13.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-13.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImVtYWlsIiwgImpvaG5kb2VA</code><br>
            <code>ZXhhbXBsZS5jb20iXQ</code><a href="#section-5.1-13.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-13.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "email", "johndoe@example.com"]</code><a href="#section-5.1-13.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-14"><strong>Claim <code>phone_number</code></strong>:<a href="#section-5.1-14" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-15.1">SHA-256 Hash: <code>PorFbpKuVu6xymJagvkFsFXAbRoc2JGlAUA2BA4o7cI</code><a href="#section-5.1-15.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-15.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgInBob25lX251bWJlciIsICIr</code><br>
            <code>MS0yMDItNTU1LTAxMDEiXQ</code><a href="#section-5.1-15.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-15.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "phone_number",</code><br>
            <code>"+1-202-555-0101"]</code><a href="#section-5.1-15.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-16"><strong>Claim <code>phone_number_verified</code></strong>:<a href="#section-5.1-16" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-17.1">SHA-256 Hash: <code>XQ_3kPKt1XyX7KANkqVR6yZ2Va5NrPIvPYbyMvRKBMM</code><a href="#section-5.1-17.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-17.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgInBob25lX251bWJlcl92ZXJp</code><br>
            <code>ZmllZCIsIHRydWVd</code><a href="#section-5.1-17.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-17.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "phone_number_verified", true]</code><a href="#section-5.1-17.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-18"><strong>Claim <code>address</code></strong>:<a href="#section-5.1-18" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-19.1">SHA-256 Hash: <code>XzFrzwscM6Gn6CJDc6vVK8BkMnfG8vOSKfpPIZdAfdE</code><a href="#section-5.1-19.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-19.2">Disclosure:<br>
            <code>WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImFkZHJlc3MiLCB7InN0cmVl</code><br>
            <code>dF9hZGRyZXNzIjogIjEyMyBNYWluIFN0IiwgImxvY2FsaXR5IjogIkFueXRv</code><br>
            <code>d24iLCAicmVnaW9uIjogIkFueXN0YXRlIiwgImNvdW50cnkiOiAiVVMifV0</code><a href="#section-5.1-19.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-19.3">Contents:
<code>["AJx-095VPrpTtN4QMOqROA", "address", {"street_address":</code><br>
            <code>"123 Main St", "locality": "Anytown", "region": "Anystate",</code><br>
            <code>"country": "US"}]</code><a href="#section-5.1-19.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-20"><strong>Claim <code>birthdate</code></strong>:<a href="#section-5.1-20" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-21.1">SHA-256 Hash: <code>gbOsI4Edq2x2Kw-w5wPEzakob9hV1cRD0ATN3oQL9JM</code><a href="#section-5.1-21.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-21.2">Disclosure:<br>
            <code>WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgImJpcnRoZGF0ZSIsICIxOTQw</code><br>
            <code>LTAxLTAxIl0</code><a href="#section-5.1-21.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-21.3">Contents:
<code>["Pc33JM2LchcU_lHggv_ufQ", "birthdate", "1940-01-01"]</code><a href="#section-5.1-21.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-22"><strong>Claim <code>updated_at</code></strong>:<a href="#section-5.1-22" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-23.1">SHA-256 Hash: <code>CrQe7S5kqBAHt-nMYXgc6bdt2SH5aTY1sU_M-PgkjPI</code><a href="#section-5.1-23.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-23.2">Disclosure:<br>
            <code>WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgInVwZGF0ZWRfYXQiLCAxNTcw</code><br>
            <code>MDAwMDAwXQ</code><a href="#section-5.1-23.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-23.3">Contents:
<code>["G02NSrQfjFXQ7Io09syajA", "updated_at", 1570000000]</code><a href="#section-5.1-23.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-24"><strong>Array Entry</strong>:<a href="#section-5.1-24" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-25.1">SHA-256 Hash: <code>pFndjkZ_VCzmyTa6UjlZo3dh-ko8aIKQc9DlGzhaVYo</code><a href="#section-5.1-25.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-25.2">Disclosure:<br>
            <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIlVTIl0</code><a href="#section-5.1-25.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-25.3">Contents:
<code>["lklxF5jMYlGTPUovMNIvCA", "US"]</code><a href="#section-5.1-25.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-26"><strong>Array Entry</strong>:<a href="#section-5.1-26" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1-27.1">SHA-256 Hash: <code>7Cf6JkPudry3lcbwHgeZ8khAv1U1OSlerP0VkBJrWZ0</code><a href="#section-5.1-27.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-27.2">Disclosure:<br>
            <code>WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwgIkRFIl0</code><a href="#section-5.1-27.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-5.1-27.3">Contents:
<code>["nPuoQnkRFq3BIeAm7AnXFA", "DE"]</code><a href="#section-5.1-27.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.1-28">The payload is then signed by the Issuer to create the following Issuer-signed JWT:<a href="#section-5.1-28" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="section-5.1-29">
<pre>eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0.eyJfc2QiOiBb
IkNyUWU3UzVrcUJBSHQtbk1ZWGdjNmJkdDJTSDVhVFkxc1VfTS1QZ2tqUEkiLCAiSnpZ
akg0c3ZsaUgwUjNQeUVNZmVadTZKdDY5dTVxZWhabzdGN0VQWWxTRSIsICJQb3JGYnBL
dVZ1Nnh5bUphZ3ZrRnNGWEFiUm9jMkpHbEFVQTJCQTRvN2NJIiwgIlRHZjRvTGJnd2Q1
SlFhSHlLVlFaVTlVZEdFMHc1cnREc3JaemZVYW9tTG8iLCAiWFFfM2tQS3QxWHlYN0tB
TmtxVlI2eVoyVmE1TnJQSXZQWWJ5TXZSS0JNTSIsICJYekZyendzY002R242Q0pEYzZ2
Vks4QmtNbmZHOHZPU0tmcFBJWmRBZmRFIiwgImdiT3NJNEVkcTJ4Mkt3LXc1d1BFemFr
b2I5aFYxY1JEMEFUTjNvUUw5Sk0iLCAianN1OXlWdWx3UVFsaEZsTV8zSmx6TWFTRnpn
bGhRRzBEcGZheVF3TFVLNCJdLCAiaXNzIjogImh0dHBzOi8vaXNzdWVyLmV4YW1wbGUu
Y29tIiwgImlhdCI6IDE2ODMwMDAwMDAsICJleHAiOiAxODgzMDAwMDAwLCAic3ViIjog
InVzZXJfNDIiLCAibmF0aW9uYWxpdGllcyI6IFt7Ii4uLiI6ICJwRm5kamtaX1ZDem15
VGE2VWpsWm8zZGgta284YUlLUWM5RGxHemhhVllvIn0sIHsiLi4uIjogIjdDZjZKa1B1
ZHJ5M2xjYndIZ2VaOGtoQXYxVTFPU2xlclAwVmtCSnJXWjAifV0sICJfc2RfYWxnIjog
InNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJjcnYiOiAiUC0y
NTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxpbERsczd2Q2VH
ZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVjQ0U2dDRqVDlG
MkhaUSJ9fX0.bLKMQziRs1TxBb3Ohu2mv-Ehi7jPnX7kLLlDUrEFuexWahKS-XWvZJEI
U-unBDf7Pf6eHH8Z-gQAWc_JU02ZKQ

</pre><a href="#section-5.1-29" class="pilcrow">¶</a>
</div>
<p id="section-5.1-30">Adding the Disclosures produces the SD-JWT:<a href="#section-5.1-30" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="section-5.1-31">
<pre>eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0.eyJfc2QiOiBb
IkNyUWU3UzVrcUJBSHQtbk1ZWGdjNmJkdDJTSDVhVFkxc1VfTS1QZ2tqUEkiLCAiSnpZ
akg0c3ZsaUgwUjNQeUVNZmVadTZKdDY5dTVxZWhabzdGN0VQWWxTRSIsICJQb3JGYnBL
dVZ1Nnh5bUphZ3ZrRnNGWEFiUm9jMkpHbEFVQTJCQTRvN2NJIiwgIlRHZjRvTGJnd2Q1
SlFhSHlLVlFaVTlVZEdFMHc1cnREc3JaemZVYW9tTG8iLCAiWFFfM2tQS3QxWHlYN0tB
TmtxVlI2eVoyVmE1TnJQSXZQWWJ5TXZSS0JNTSIsICJYekZyendzY002R242Q0pEYzZ2
Vks4QmtNbmZHOHZPU0tmcFBJWmRBZmRFIiwgImdiT3NJNEVkcTJ4Mkt3LXc1d1BFemFr
b2I5aFYxY1JEMEFUTjNvUUw5Sk0iLCAianN1OXlWdWx3UVFsaEZsTV8zSmx6TWFTRnpn
bGhRRzBEcGZheVF3TFVLNCJdLCAiaXNzIjogImh0dHBzOi8vaXNzdWVyLmV4YW1wbGUu
Y29tIiwgImlhdCI6IDE2ODMwMDAwMDAsICJleHAiOiAxODgzMDAwMDAwLCAic3ViIjog
InVzZXJfNDIiLCAibmF0aW9uYWxpdGllcyI6IFt7Ii4uLiI6ICJwRm5kamtaX1ZDem15
VGE2VWpsWm8zZGgta284YUlLUWM5RGxHemhhVllvIn0sIHsiLi4uIjogIjdDZjZKa1B1
ZHJ5M2xjYndIZ2VaOGtoQXYxVTFPU2xlclAwVmtCSnJXWjAifV0sICJfc2RfYWxnIjog
InNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJjcnYiOiAiUC0y
NTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxpbERsczd2Q2VH
ZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVjQ0U2dDRqVDlG
MkhaUSJ9fX0.bLKMQziRs1TxBb3Ohu2mv-Ehi7jPnX7kLLlDUrEFuexWahKS-XWvZJEI
U-unBDf7Pf6eHH8Z-gQAWc_JU02ZKQ~WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgI
mdpdmVuX25hbWUiLCAiSm9obiJd~WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImZh
bWlseV9uYW1lIiwgIkRvZSJd~WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImVtYWl
sIiwgImpvaG5kb2VAZXhhbXBsZS5jb20iXQ~WyJlSThaV205UW5LUHBOUGVOZW5IZGhR
IiwgInBob25lX251bWJlciIsICIrMS0yMDItNTU1LTAxMDEiXQ~WyJRZ19PNjR6cUF4Z
TQxMmExMDhpcm9BIiwgInBob25lX251bWJlcl92ZXJpZmllZCIsIHRydWVd~WyJBSngt
MDk1VlBycFR0TjRRTU9xUk9BIiwgImFkZHJlc3MiLCB7InN0cmVldF9hZGRyZXNzIjog
IjEyMyBNYWluIFN0IiwgImxvY2FsaXR5IjogIkFueXRvd24iLCAicmVnaW9uIjogIkFu
eXN0YXRlIiwgImNvdW50cnkiOiAiVVMifV0~WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZR
IiwgImJpcnRoZGF0ZSIsICIxOTQwLTAxLTAxIl0~WyJHMDJOU3JRZmpGWFE3SW8wOXN5
YWpBIiwgInVwZGF0ZWRfYXQiLCAxNTcwMDAwMDAwXQ~WyJsa2x4RjVqTVlsR1RQVW92T
U5JdkNBIiwgIlVTIl0~WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwgIkRFIl0~

</pre><a href="#section-5.1-31" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="presentation">
<section id="section-5.2">
        <h3 id="name-presentation">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-presentation" class="section-name selfRef">Presentation</a>
        </h3>
<p id="section-5.2-1">The following non-normative example shows an SD-JWT+KB as
it would be sent from the Holder to the Verifier. Note that it consists of six
tilde-separated parts, with the Issuer-signed JWT as shown above in the beginning,
four Disclosures (for the claims <code>given_name</code>, <code>family_name</code>, <code>address</code>, and one of the
<code>nationalities</code>) in the middle, and the Key Binding JWT as the last element.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="section-5.2-2">
<pre>eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0.eyJfc2QiOiBb
IkNyUWU3UzVrcUJBSHQtbk1ZWGdjNmJkdDJTSDVhVFkxc1VfTS1QZ2tqUEkiLCAiSnpZ
akg0c3ZsaUgwUjNQeUVNZmVadTZKdDY5dTVxZWhabzdGN0VQWWxTRSIsICJQb3JGYnBL
dVZ1Nnh5bUphZ3ZrRnNGWEFiUm9jMkpHbEFVQTJCQTRvN2NJIiwgIlRHZjRvTGJnd2Q1
SlFhSHlLVlFaVTlVZEdFMHc1cnREc3JaemZVYW9tTG8iLCAiWFFfM2tQS3QxWHlYN0tB
TmtxVlI2eVoyVmE1TnJQSXZQWWJ5TXZSS0JNTSIsICJYekZyendzY002R242Q0pEYzZ2
Vks4QmtNbmZHOHZPU0tmcFBJWmRBZmRFIiwgImdiT3NJNEVkcTJ4Mkt3LXc1d1BFemFr
b2I5aFYxY1JEMEFUTjNvUUw5Sk0iLCAianN1OXlWdWx3UVFsaEZsTV8zSmx6TWFTRnpn
bGhRRzBEcGZheVF3TFVLNCJdLCAiaXNzIjogImh0dHBzOi8vaXNzdWVyLmV4YW1wbGUu
Y29tIiwgImlhdCI6IDE2ODMwMDAwMDAsICJleHAiOiAxODgzMDAwMDAwLCAic3ViIjog
InVzZXJfNDIiLCAibmF0aW9uYWxpdGllcyI6IFt7Ii4uLiI6ICJwRm5kamtaX1ZDem15
VGE2VWpsWm8zZGgta284YUlLUWM5RGxHemhhVllvIn0sIHsiLi4uIjogIjdDZjZKa1B1
ZHJ5M2xjYndIZ2VaOGtoQXYxVTFPU2xlclAwVmtCSnJXWjAifV0sICJfc2RfYWxnIjog
InNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJjcnYiOiAiUC0y
NTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxpbERsczd2Q2VH
ZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVjQ0U2dDRqVDlG
MkhaUSJ9fX0.bLKMQziRs1TxBb3Ohu2mv-Ehi7jPnX7kLLlDUrEFuexWahKS-XWvZJEI
U-unBDf7Pf6eHH8Z-gQAWc_JU02ZKQ~WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgI
mZhbWlseV9uYW1lIiwgIkRvZSJd~WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImFk
ZHJlc3MiLCB7InN0cmVldF9hZGRyZXNzIjogIjEyMyBNYWluIFN0IiwgImxvY2FsaXR5
IjogIkFueXRvd24iLCAicmVnaW9uIjogIkFueXN0YXRlIiwgImNvdW50cnkiOiAiVVMi
fV0~WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImdpdmVuX25hbWUiLCAiSm9obiJd
~WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIlVTIl0~eyJhbGciOiAiRVMyNTYiLCA
idHlwIjogImtiK2p3dCJ9.eyJub25jZSI6ICIxMjM0NTY3ODkwIiwgImF1ZCI6ICJodH
RwczovL3ZlcmlmaWVyLmV4YW1wbGUub3JnIiwgImlhdCI6IDE3NDgzNDE3NzMsICJzZF
9oYXNoIjogIjAtbzNPRnFndUdfckVUZV9aN0lHZDEwLUlIZjBVOVo3TFFnVGxKaUtmWG
MifQ.JTsv3gIZVvtNiqupn-31oEpKX2AF2ISmv6FOcmXRuIoW_gE6KYB8BX1u5l0SECG
5T3yftJKWh9bTPXOuIGYe_A

</pre><a href="#section-5.2-2" class="pilcrow">¶</a>
</div>
<p id="section-5.2-3">The following Key Binding JWT payload was created and signed for this presentation by the Holder:<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.2-4">
<pre>{
  "nonce": "1234567890",
  "aud": "https://verifier.example.org",
  "iat": 1748341773,
  "sd_hash": "0-o3OFqguG_rETe_Z7IGd10-IHf0U9Z7LQgTlJiKfXc"
}

</pre><a href="#section-5.2-4" class="pilcrow">¶</a>
</div>
<p id="section-5.2-5">If the Verifier did not require Key Binding, then the Holder could have
presented the SD-JWT with selected Disclosures directly, instead of encapsulating it in
an SD-JWT+KB.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">After validation, the Verifier will have the following Processed SD-JWT Payload available for further handling:<a href="#section-5.2-6" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.2-7">
<pre>{
  "iss": "https://issuer.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "user_42",
  "nationalities": [
    "US"
  ],
  "cnf": {
    "jwk": {
      "kty": "EC",
      "crv": "P-256",
      "x": "TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc",
      "y": "ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ"
    }
  },
  "family_name": "Doe",
  "address": {
    "street_address": "123 Main St",
    "locality": "Anytown",
    "region": "Anystate",
    "country": "US"
  },
  "given_name": "John"
}

</pre><a href="#section-5.2-7" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="nested_data">
<section id="section-6">
      <h2 id="name-considerations-on-nested-da">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-considerations-on-nested-da" class="section-name selfRef">Considerations on Nested Data in SD-JWTs</a>
      </h2>
<p id="section-6-1">Being JSON, an object in an SD-JWT payload MAY contain name/value pairs where the value is another object or objects MAY be elements in arrays. In SD-JWT, the Issuer decides for each claim individually, on each level of the JSON, whether the claim should be selectively disclosable or not. This choice can be made on each level independent of whether keys higher in the hierarchy are selectively disclosable.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">From this it follows that the <code>_sd</code> key containing digests MAY appear multiple
times in an SD-JWT, and likewise, there MAY be multiple arrays within the
hierarchy with each having selectively disclosable elements. Digests of
selectively disclosable claims MAY even appear within other Disclosures.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">The following examples illustrate some of the options an Issuer has. It is up to the Issuer to decide which structure to use, depending on, for example, the expected use cases for the SD-JWT, requirements for privacy, size considerations, or operating environment requirements. For more examples with nested structures, see <a href="#example-simple_structured" class="auto internal xref">Appendix A.1</a> and <a href="#example-complex-structured-sd-jwt" class="auto internal xref">Appendix A.2</a>.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">The following input JWT Claims Set is used as an example throughout this section:<a href="#section-6-4" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-6-5">
<pre>{
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "address": {
    "street_address": "Schulstr. 12",
    "locality": "Schulpforta",
    "region": "Sachsen-Anhalt",
    "country": "DE"
  }
}

</pre><a href="#section-6-5" class="pilcrow">¶</a>
</div>
<blockquote id="section-6-6">
        <p id="section-6-6.1">Note: The following examples of the structures are non-normative and are not intended to
represent all possible options. They are also not meant to define or restrict
how <code>address</code> can be represented in an SD-JWT.<a href="#section-6-6.1" class="pilcrow">¶</a></p>
</blockquote>
<div id="example-flat-sd-jwt">
<section id="section-6.1">
        <h3 id="name-example-flat-sd-jwt">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-example-flat-sd-jwt" class="section-name selfRef">Example: Flat SD-JWT</a>
        </h3>
<p id="section-6.1-1">The Issuer can decide to treat the <code>address</code> claim as a block that can either be disclosed completely or not at all. The following example shows that in this case, the entire <code>address</code> claim is treated as an object in the Disclosure.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-6.1-2">
<pre>{
  "_sd": [
    "fOBUSQvo46yQO-wRwXBcGqvnbKIueISEL961_Sjd4do"
  ],
  "iss": "https://issuer.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "_sd_alg": "sha-256"
}

</pre><a href="#section-6.1-2" class="pilcrow">¶</a>
</div>
<p id="section-6.1-3">The Issuer would create the following Disclosure referenced by the one hash in the SD-JWT:<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4"><strong>Claim <code>address</code></strong>:<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.1-5.1">SHA-256 Hash: <code>fOBUSQvo46yQO-wRwXBcGqvnbKIueISEL961_Sjd4do</code><a href="#section-6.1-5.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.1-5.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImFkZHJlc3MiLCB7InN0cmVl</code><br>
            <code>dF9hZGRyZXNzIjogIlNjaHVsc3RyLiAxMiIsICJsb2NhbGl0eSI6ICJTY2h1</code><br>
            <code>bHBmb3J0YSIsICJyZWdpb24iOiAiU2FjaHNlbi1BbmhhbHQiLCAiY291bnRy</code><br>
            <code>eSI6ICJERSJ9XQ</code><a href="#section-6.1-5.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.1-5.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "address", {"street_address":</code><br>
            <code>"Schulstr. 12", "locality": "Schulpforta", "region":</code><br>
            <code>"Sachsen-Anhalt", "country": "DE"}]</code><a href="#section-6.1-5.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="example-structured-sd-jwt">
<section id="section-6.2">
        <h3 id="name-example-structured-sd-jwt">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-example-structured-sd-jwt" class="section-name selfRef">Example: Structured SD-JWT</a>
        </h3>
<p id="section-6.2-1">The Issuer may instead decide to make the <code>address</code> claim contents selectively disclosable individually:<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-6.2-2">
<pre>{
  "iss": "https://issuer.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "address": {
    "_sd": [
      "6vh9bq-zS4GKM_7GpggVbYzzu6oOGXrmNVGPHP75Ud0",
      "9gjVuXtdFROCgRrtNcGUXmF65rdezi_6Er_j76kmYyM",
      "KURDPh4ZC19-3tiz-Df39V8eidy1oV3a3H1Da2N0g88",
      "WN9r9dCBJ8HTCsS2jKASxTjEyW5m5x65_Z_2ro2jfXM"
    ]
  },
  "_sd_alg": "sha-256"
}

</pre><a href="#section-6.2-2" class="pilcrow">¶</a>
</div>
<p id="section-6.2-3">In this case, the Issuer would use the following data in the Disclosures for the <code>address</code> sub-claims:<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2-4"><strong>Claim <code>street_address</code></strong>:<a href="#section-6.2-4" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.2-5.1">SHA-256 Hash: <code>9gjVuXtdFROCgRrtNcGUXmF65rdezi_6Er_j76kmYyM</code><a href="#section-6.2-5.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.2-5.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInN0cmVldF9hZGRyZXNzIiwg</code><br>
            <code>IlNjaHVsc3RyLiAxMiJd</code><a href="#section-6.2-5.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.2-5.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "street_address", "Schulstr. 12"]</code><a href="#section-6.2-5.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.2-6"><strong>Claim <code>locality</code></strong>:<a href="#section-6.2-6" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.2-7.1">SHA-256 Hash: <code>6vh9bq-zS4GKM_7GpggVbYzzu6oOGXrmNVGPHP75Ud0</code><a href="#section-6.2-7.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.2-7.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImxvY2FsaXR5IiwgIlNjaHVs</code><br>
            <code>cGZvcnRhIl0</code><a href="#section-6.2-7.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.2-7.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "locality", "Schulpforta"]</code><a href="#section-6.2-7.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.2-8"><strong>Claim <code>region</code></strong>:<a href="#section-6.2-8" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.2-9.1">SHA-256 Hash: <code>KURDPh4ZC19-3tiz-Df39V8eidy1oV3a3H1Da2N0g88</code><a href="#section-6.2-9.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.2-9.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgInJlZ2lvbiIsICJTYWNoc2Vu</code><br>
            <code>LUFuaGFsdCJd</code><a href="#section-6.2-9.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.2-9.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "region", "Sachsen-Anhalt"]</code><a href="#section-6.2-9.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.2-10"><strong>Claim <code>country</code></strong>:<a href="#section-6.2-10" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.2-11.1">SHA-256 Hash: <code>WN9r9dCBJ8HTCsS2jKASxTjEyW5m5x65_Z_2ro2jfXM</code><a href="#section-6.2-11.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.2-11.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgImNvdW50cnkiLCAiREUiXQ</code><a href="#section-6.2-11.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.2-11.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "country", "DE"]</code><a href="#section-6.2-11.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.2-12">The Issuer may also make one sub-claim of <code>address</code> permanently disclosed and hide only the other sub-claims:<a href="#section-6.2-12" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-6.2-13">
<pre>{
  "iss": "https://issuer.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "address": {
    "_sd": [
      "6vh9bq-zS4GKM_7GpggVbYzzu6oOGXrmNVGPHP75Ud0",
      "9gjVuXtdFROCgRrtNcGUXmF65rdezi_6Er_j76kmYyM",
      "KURDPh4ZC19-3tiz-Df39V8eidy1oV3a3H1Da2N0g88"
    ],
    "country": "DE"
  },
  "_sd_alg": "sha-256"
}

</pre><a href="#section-6.2-13" class="pilcrow">¶</a>
</div>
<p id="section-6.2-14">In this case, there would be no Disclosure for <code>country</code>, since it is provided in the clear.<a href="#section-6.2-14" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-sd-jwt-with-recursive-disclosures">
<section id="section-6.3">
        <h3 id="name-example-sd-jwt-with-recursi">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-example-sd-jwt-with-recursi" class="section-name selfRef">Example: SD-JWT with Recursive Disclosures</a>
        </h3>
<p id="section-6.3-1">The Issuer may also decide to make the <code>address</code> claim contents selectively disclosable recursively, i.e., the <code>address</code> claim is made selectively disclosable as well as its sub-claims:<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-6.3-2">
<pre>{
  "_sd": [
    "HvrKX6fPV0v9K_yCVFBiLFHsMaxcD_114Em6VT8x1lg"
  ],
  "iss": "https://issuer.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "_sd_alg": "sha-256"
}

</pre><a href="#section-6.3-2" class="pilcrow">¶</a>
</div>
<p id="section-6.3-3">The Issuer creates Disclosures first for the sub-claims and then includes their digests in the Disclosure for the <code>address</code> claim:<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<p id="section-6.3-4"><strong>Claim <code>street_address</code></strong>:<a href="#section-6.3-4" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.3-5.1">SHA-256 Hash: <code>9gjVuXtdFROCgRrtNcGUXmF65rdezi_6Er_j76kmYyM</code><a href="#section-6.3-5.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.3-5.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInN0cmVldF9hZGRyZXNzIiwg</code><br>
            <code>IlNjaHVsc3RyLiAxMiJd</code><a href="#section-6.3-5.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.3-5.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "street_address", "Schulstr. 12"]</code><a href="#section-6.3-5.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.3-6"><strong>Claim <code>locality</code></strong>:<a href="#section-6.3-6" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.3-7.1">SHA-256 Hash: <code>6vh9bq-zS4GKM_7GpggVbYzzu6oOGXrmNVGPHP75Ud0</code><a href="#section-6.3-7.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.3-7.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImxvY2FsaXR5IiwgIlNjaHVs</code><br>
            <code>cGZvcnRhIl0</code><a href="#section-6.3-7.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.3-7.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "locality", "Schulpforta"]</code><a href="#section-6.3-7.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.3-8"><strong>Claim <code>region</code></strong>:<a href="#section-6.3-8" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.3-9.1">SHA-256 Hash: <code>KURDPh4ZC19-3tiz-Df39V8eidy1oV3a3H1Da2N0g88</code><a href="#section-6.3-9.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.3-9.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgInJlZ2lvbiIsICJTYWNoc2Vu</code><br>
            <code>LUFuaGFsdCJd</code><a href="#section-6.3-9.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.3-9.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "region", "Sachsen-Anhalt"]</code><a href="#section-6.3-9.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.3-10"><strong>Claim <code>country</code></strong>:<a href="#section-6.3-10" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.3-11.1">SHA-256 Hash: <code>WN9r9dCBJ8HTCsS2jKASxTjEyW5m5x65_Z_2ro2jfXM</code><a href="#section-6.3-11.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.3-11.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgImNvdW50cnkiLCAiREUiXQ</code><a href="#section-6.3-11.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.3-11.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "country", "DE"]</code><a href="#section-6.3-11.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.3-12"><strong>Claim <code>address</code></strong>:<a href="#section-6.3-12" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.3-13.1">SHA-256 Hash: <code>HvrKX6fPV0v9K_yCVFBiLFHsMaxcD_114Em6VT8x1lg</code><a href="#section-6.3-13.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.3-13.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgImFkZHJlc3MiLCB7Il9zZCI6</code><br>
            <code>IFsiNnZoOWJxLXpTNEdLTV83R3BnZ1ZiWXp6dTZvT0dYcm1OVkdQSFA3NVVk</code><br>
            <code>MCIsICI5Z2pWdVh0ZEZST0NnUnJ0TmNHVVhtRjY1cmRlemlfNkVyX2o3Nmtt</code><br>
            <code>WXlNIiwgIktVUkRQaDRaQzE5LTN0aXotRGYzOVY4ZWlkeTFvVjNhM0gxRGEy</code><br>
            <code>TjBnODgiLCAiV045cjlkQ0JKOEhUQ3NTMmpLQVN4VGpFeVc1bTV4NjVfWl8y</code><br>
            <code>cm8yamZYTSJdfV0</code><a href="#section-6.3-13.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-6.3-13.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "address", {"_sd":</code><br>
            <code>["6vh9bq-zS4GKM_7GpggVbYzzu6oOGXrmNVGPHP75Ud0",</code><br>
            <code>"9gjVuXtdFROCgRrtNcGUXmF65rdezi_6Er_j76kmYyM",</code><br>
            <code>"KURDPh4ZC19-3tiz-Df39V8eidy1oV3a3H1Da2N0g88",</code><br>
            <code>"WN9r9dCBJ8HTCsS2jKASxTjEyW5m5x65_Z_2ro2jfXM"]}]</code><a href="#section-6.3-13.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="verification-1">
<section id="section-7">
      <h2 id="name-verification-and-processing">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-verification-and-processing" class="section-name selfRef">Verification and Processing</a>
      </h2>
<div id="sd_jwt_verification">
<section id="section-7.1">
        <h3 id="name-verification-of-the-sd-jwt">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-verification-of-the-sd-jwt" class="section-name selfRef">Verification of the SD-JWT</a>
        </h3>
<p id="section-7.1-1">Upon receiving an SD-JWT, either directly or as a component of an SD-JWT+KB, a Holder
or a Verifier needs to ensure that:<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-7.1-2.1">the Issuer-signed JWT is valid, i.e., it is signed by the Issuer, the signature is valid, it is not expired, it is not suspended or revoked, etc., and<a href="#section-7.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-7.1-2.2">all Disclosures are valid and correspond to a respective digest value in the Issuer-signed JWT (directly in the payload or recursively included in the contents of other Disclosures).<a href="#section-7.1-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.1-3">The Holder or the Verifier MUST perform the following (or equivalent) steps when receiving
an SD-JWT to validate the SD-JWT and extract the payload:<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.1-4">
<li id="section-7.1-4.1">Separate the SD-JWT into the Issuer-signed JWT and the Disclosures (if any).<a href="#section-7.1-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-7.1-4.2">
            <p id="section-7.1-4.2.1">Validate the Issuer-signed JWT:<a href="#section-7.1-4.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.1-4.2.2">
<li id="section-7.1-4.2.2.1">Ensure that a signing algorithm was used that was deemed secure for the application. Refer to <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>, Sections 3.1 and 3.2 for details. The <code>none</code> algorithm MUST NOT be accepted.<a href="#section-7.1-4.2.2.1" class="pilcrow">¶</a>
</li>
              <li id="section-7.1-4.2.2.2">Validate the signature over the Issuer-signed JWT per Section 5.2 of <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>.<a href="#section-7.1-4.2.2.2" class="pilcrow">¶</a>
</li>
              <li id="section-7.1-4.2.2.3">Validate the Issuer and that the signing key belongs to this Issuer.<a href="#section-7.1-4.2.2.3" class="pilcrow">¶</a>
</li>
              <li id="section-7.1-4.2.2.4">Check that the <code>_sd_alg</code> claim value is understood and the hash algorithm is deemed secure (see <a href="#hash_function_claim" class="auto internal xref">Section 4.1.1</a>).<a href="#section-7.1-4.2.2.4" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li id="section-7.1-4.3">
            <p id="section-7.1-4.3.1">Process the Disclosures and embedded digests in the Issuer-signed JWT as follows:<a href="#section-7.1-4.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.1-4.3.2">
<li id="section-7.1-4.3.2.1">
                <p id="section-7.1-4.3.2.1.1">For each Disclosure provided:<a href="#section-7.1-4.3.2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.1-4.3.2.1.2">
<li id="section-7.1-4.3.2.1.2.1">Calculate the digest over the base64url-encoded string as described in <a href="#hashing_disclosures" class="auto internal xref">Section 4.2.3</a>.<a href="#section-7.1-4.3.2.1.2.1" class="pilcrow">¶</a>
</li>
                </ol>
</li>
              <li id="section-7.1-4.3.2.2">
                <p id="section-7.1-4.3.2.2.1">(*) Identify all embedded digests in the Issuer-signed JWT as follows:<a href="#section-7.1-4.3.2.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.1-4.3.2.2.2">
<li id="section-7.1-4.3.2.2.2.1">Find all objects having an <code>_sd</code> key that refers to an array of strings.<a href="#section-7.1-4.3.2.2.2.1" class="pilcrow">¶</a>
</li>
                  <li id="section-7.1-4.3.2.2.2.2">Find all array elements that are objects with one key, that key being <code>...</code> and referring to a string.<a href="#section-7.1-4.3.2.2.2.2" class="pilcrow">¶</a>
</li>
                </ol>
</li>
              <li id="section-7.1-4.3.2.3">
                <p id="section-7.1-4.3.2.3.1">(**) For each embedded digest found in the previous step:<a href="#section-7.1-4.3.2.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.1-4.3.2.3.2">
<li id="section-7.1-4.3.2.3.2.1">Compare the value with the digests calculated previously and find the matching Disclosure. If no such Disclosure can be found, the digest MUST be ignored.<a href="#section-7.1-4.3.2.3.2.1" class="pilcrow">¶</a>
</li>
                  <li id="section-7.1-4.3.2.3.2.2">
                    <p id="section-7.1-4.3.2.3.2.2.1">If the digest was found in an object's <code>_sd</code> key:<a href="#section-7.1-4.3.2.3.2.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.1-4.3.2.3.2.2.2">
<li id="section-7.1-4.3.2.3.2.2.2.1">If the contents of the respective Disclosure is not a JSON array of three elements (salt, claim name, claim value), the SD-JWT MUST be rejected.<a href="#section-7.1-4.3.2.3.2.2.2.1" class="pilcrow">¶</a>
</li>
                      <li id="section-7.1-4.3.2.3.2.2.2.2">If the claim name is <code>_sd</code> or <code>...</code>, the SD-JWT MUST be rejected.<a href="#section-7.1-4.3.2.3.2.2.2.2" class="pilcrow">¶</a>
</li>
                      <li id="section-7.1-4.3.2.3.2.2.2.3">If the claim name already exists at the level of the <code>_sd</code> key, the SD-JWT MUST be rejected.<a href="#section-7.1-4.3.2.3.2.2.2.3" class="pilcrow">¶</a>
</li>
                      <li id="section-7.1-4.3.2.3.2.2.2.4">Insert, at the level of the <code>_sd</code> key, a new claim using the claim name and claim value from the Disclosure.<a href="#section-7.1-4.3.2.3.2.2.2.4" class="pilcrow">¶</a>
</li>
                      <li id="section-7.1-4.3.2.3.2.2.2.5">Recursively process the value using the steps described in (*) and (**).<a href="#section-7.1-4.3.2.3.2.2.2.5" class="pilcrow">¶</a>
</li>
                    </ol>
</li>
                  <li id="section-7.1-4.3.2.3.2.3">
                    <p id="section-7.1-4.3.2.3.2.3.1">If the digest was found in an array element:<a href="#section-7.1-4.3.2.3.2.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.1-4.3.2.3.2.3.2">
<li id="section-7.1-4.3.2.3.2.3.2.1">If the contents of the respective Disclosure is not a JSON array of two elements (salt, value), the SD-JWT MUST be rejected.<a href="#section-7.1-4.3.2.3.2.3.2.1" class="pilcrow">¶</a>
</li>
                      <li id="section-7.1-4.3.2.3.2.3.2.2">Replace the array element with the value from the Disclosure.<a href="#section-7.1-4.3.2.3.2.3.2.2" class="pilcrow">¶</a>
</li>
                      <li id="section-7.1-4.3.2.3.2.3.2.3">Recursively process the value using the steps described in (*) and (**).<a href="#section-7.1-4.3.2.3.2.3.2.3" class="pilcrow">¶</a>
</li>
                    </ol>
</li>
                </ol>
</li>
              <li id="section-7.1-4.3.2.4">Remove all array elements for which the digest was not found in the previous step.<a href="#section-7.1-4.3.2.4" class="pilcrow">¶</a>
</li>
              <li id="section-7.1-4.3.2.5">Remove all <code>_sd</code> keys and their contents from the Issuer-signed JWT payload. If this results in an object with no properties, it should be represented as an empty object <code>{}</code>.<a href="#section-7.1-4.3.2.5" class="pilcrow">¶</a>
</li>
              <li id="section-7.1-4.3.2.6">Remove the claim <code>_sd_alg</code> from the SD-JWT payload.<a href="#section-7.1-4.3.2.6" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li id="section-7.1-4.4">If any digest value is encountered more than once in the Issuer-signed JWT payload (directly or recursively via other Disclosures), the SD-JWT MUST be rejected.<a href="#section-7.1-4.4" class="pilcrow">¶</a>
</li>
          <li id="section-7.1-4.5">If any Disclosure was not referenced by digest value in the Issuer-signed JWT (directly or recursively via other Disclosures), the SD-JWT MUST be rejected.<a href="#section-7.1-4.5" class="pilcrow">¶</a>
</li>
          <li id="section-7.1-4.6">Check that the SD-JWT is valid using claims such as <code>nbf</code>, <code>exp</code>, and <code>aud</code> in the processed payload, if present. If a required validity-controlling claim is missing (see <a href="#sd-validity-claims" class="auto internal xref">Section 9.7</a>), the SD-JWT MUST be rejected.<a href="#section-7.1-4.6" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-7.1-5">If any step fails, the SD-JWT is not valid, and processing MUST be aborted. Otherwise, the JSON document resulting from the preceding processing and verification steps, herein referred to as the Processed SD-JWT Payload, can be made available to the application to be used for its intended purpose.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
<blockquote id="section-7.1-6">
          <p id="section-7.1-6.1">Note that these processing steps do not yield any guarantees to the Holder about having received a complete set of Disclosures. That is, for some digest values in the Issuer-signed JWT (which are not decoy digests) there may be no corresponding Disclosures, for example, if the message from the Issuer was truncated.
It is up to the Holder how to maintain the mapping between the Disclosures and the plaintext claim values to be able to display them to the user when needed.<a href="#section-7.1-6.1" class="pilcrow">¶</a></p>
</blockquote>
</section>
</div>
<div id="holder_verification">
<section id="section-7.2">
        <h3 id="name-processing-by-the-holder">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-processing-by-the-holder" class="section-name selfRef">Processing by the Holder</a>
        </h3>
<p id="section-7.2-1">The Issuer provides the Holder with an SD-JWT, not an SD-JWT+KB.  If the Holder
receives an SD-JWT+KB, it MUST be rejected.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2">When receiving an SD-JWT, the Holder MUST do the following:<a href="#section-7.2-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.2-3">
<li id="section-7.2-3.1">Process the SD-JWT as defined in <a href="#sd_jwt_verification" class="auto internal xref">Section 7.1</a> to validate it and extract the payload.<a href="#section-7.2-3.1" class="pilcrow">¶</a>
</li>
          <li id="section-7.2-3.2">Ensure that the contents of claims in the payload are acceptable (depending on the application; for example, check that any values the Holder can check are correct).<a href="#section-7.2-3.2" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-7.2-4">For presentation to a Verifier, the Holder MUST perform the following (or equivalent) steps (in addition to the checks described in <a href="#sd_jwt_verification" class="auto internal xref">Section 7.1</a> performed after receiving the SD-JWT):<a href="#section-7.2-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.2-5">
<li id="section-7.2-5.1">Decide which Disclosures to release to the Verifier, obtaining proper consent if necessary.<a href="#section-7.2-5.1" class="pilcrow">¶</a>
</li>
          <li id="section-7.2-5.2">
            <p id="section-7.2-5.2.1">Verify that each selected Disclosure satisfies one of the two following conditions:<a href="#section-7.2-5.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.2-5.2.2">
<li id="section-7.2-5.2.2.1">The hash of the Disclosure is contained in the Issuer-signed JWT claims<a href="#section-7.2-5.2.2.1" class="pilcrow">¶</a>
</li>
              <li id="section-7.2-5.2.2.2">The hash of the Disclosure is contained in the claim value of another selected Disclosure<a href="#section-7.2-5.2.2.2" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li id="section-7.2-5.3">Assemble the SD-JWT, including the Issuer-signed JWT and the selected Disclosures (see <a href="#data_formats" class="auto internal xref">Section 4</a> for the format).<a href="#section-7.2-5.3" class="pilcrow">¶</a>
</li>
          <li id="section-7.2-5.4">
            <p id="section-7.2-5.4.1">If Key Binding is not required:<a href="#section-7.2-5.4.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.2-5.4.2">
<li id="section-7.2-5.4.2.1">Send the SD-JWT to the Verifier.<a href="#section-7.2-5.4.2.1" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li id="section-7.2-5.5">
            <p id="section-7.2-5.5.1">If Key Binding is required:<a href="#section-7.2-5.5.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.2-5.5.2">
<li id="section-7.2-5.5.2.1">Create a Key Binding JWT tied to the SD-JWT.<a href="#section-7.2-5.5.2.1" class="pilcrow">¶</a>
</li>
              <li id="section-7.2-5.5.2.2">Assemble the SD-JWT+KB by concatenating the SD-JWT and the Key Binding JWT.<a href="#section-7.2-5.5.2.2" class="pilcrow">¶</a>
</li>
              <li id="section-7.2-5.5.2.3">Send the SD-JWT+KB to the Verifier.<a href="#section-7.2-5.5.2.3" class="pilcrow">¶</a>
</li>
            </ol>
</li>
        </ol>
</section>
</div>
<div id="verifier_verification">
<section id="section-7.3">
        <h3 id="name-verification-by-the-verifie">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-verification-by-the-verifie" class="section-name selfRef">Verification by the Verifier</a>
        </h3>
<p id="section-7.3-1">Upon receiving a presentation from a Holder, in the form of either an SD-JWT or
an SD-JWT+KB, in addition to the checks described in <a href="#sd_jwt_verification" class="auto internal xref">Section 7.1</a>, Verifiers need to ensure that<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-7.3-2.1">if Key Binding is required, then the Holder has provided an SD-JWT+KB, and<a href="#section-7.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-7.3-2.2">the Key Binding JWT is signed by the Holder and valid.<a href="#section-7.3-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.3-3">To this end, Verifiers MUST follow the following steps (or equivalent):<a href="#section-7.3-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.3-4">
<li id="section-7.3-4.1">Determine if Key Binding is to be checked according to the Verifier's policy
for the use case at hand. This decision MUST NOT be based on whether
a Key Binding JWT is provided by the Holder or not. Refer to <a href="#key_binding_security" class="auto internal xref">Section 9.5</a> for
details.<a href="#section-7.3-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-7.3-4.2">If Key Binding is required and the Holder has provided an SD-JWT (without Key Binding), the Verifier MUST reject the presentation.<a href="#section-7.3-4.2" class="pilcrow">¶</a>
</li>
          <li id="section-7.3-4.3">If the Holder has provided an SD-JWT+KB, parse it into an SD-JWT and a Key Binding JWT.<a href="#section-7.3-4.3" class="pilcrow">¶</a>
</li>
          <li id="section-7.3-4.4">Process the SD-JWT as defined in <a href="#sd_jwt_verification" class="auto internal xref">Section 7.1</a> to validate the presentation and extract the payload.<a href="#section-7.3-4.4" class="pilcrow">¶</a>
</li>
          <li id="section-7.3-4.5">
            <p id="section-7.3-4.5.1">If Key Binding is required:<a href="#section-7.3-4.5.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.3-4.5.2">
<li id="section-7.3-4.5.2.1">Determine the public key for the Holder from the SD-JWT (see <a href="#key_binding" class="auto internal xref">Section 4.1.2</a>).<a href="#section-7.3-4.5.2.1" class="pilcrow">¶</a>
</li>
              <li id="section-7.3-4.5.2.2">Ensure that a signing algorithm was used that was deemed secure for the application. Refer to <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>, Sections 3.1 and 3.2 for details. The <code>none</code> algorithm MUST NOT be accepted.<a href="#section-7.3-4.5.2.2" class="pilcrow">¶</a>
</li>
              <li id="section-7.3-4.5.2.3">Validate the signature over the Key Binding JWT per Section 5.2 of <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>.<a href="#section-7.3-4.5.2.3" class="pilcrow">¶</a>
</li>
              <li id="section-7.3-4.5.2.4">Check that the <code>typ</code> of the Key Binding JWT is <code>kb+jwt</code> (see <a href="#kb-jwt" class="auto internal xref">Section 4.3</a>).<a href="#section-7.3-4.5.2.4" class="pilcrow">¶</a>
</li>
              <li id="section-7.3-4.5.2.5">Check that the creation time of the Key Binding JWT, as determined by the <code>iat</code> claim, is within an acceptable window.<a href="#section-7.3-4.5.2.5" class="pilcrow">¶</a>
</li>
              <li id="section-7.3-4.5.2.6">Determine that the Key Binding JWT is bound to the current transaction and was created for this Verifier (replay detection) by validating <code>nonce</code> and <code>aud</code> claims.<a href="#section-7.3-4.5.2.6" class="pilcrow">¶</a>
</li>
              <li id="section-7.3-4.5.2.7">Calculate the digest over the Issuer-signed JWT and Disclosures as defined in <a href="#integrity-protection-of-the-presentation" class="auto internal xref">Section 4.3.1</a> and verify that it matches the value of the <code>sd_hash</code> claim in the Key Binding JWT.<a href="#section-7.3-4.5.2.7" class="pilcrow">¶</a>
</li>
              <li id="section-7.3-4.5.2.8">Check that the Key Binding JWT is a valid JWT in all other respects, per <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span> and <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-7.3-4.5.2.8" class="pilcrow">¶</a>
</li>
            </ol>
</li>
        </ol>
<p id="section-7.3-5">If any step fails, the presentation is not valid and processing MUST be aborted.<a href="#section-7.3-5" class="pilcrow">¶</a></p>
<p id="section-7.3-6">Otherwise, the Processed SD-JWT Payload can be passed to the application to be used for the intended purpose.<a href="#section-7.3-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="json_serialization">
<section id="section-8">
      <h2 id="name-jws-json-serialization">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-jws-json-serialization" class="section-name selfRef">JWS JSON Serialization</a>
      </h2>
<p id="section-8-1">This section describes an alternative format for SD-JWTs and SD-JWT+KBs using the JWS JSON
Serialization from <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>. Supporting this format is OPTIONAL.<a href="#section-8-1" class="pilcrow">¶</a></p>
<div id="json_serialization_unprotected_headers">
<section id="section-8.1">
        <h3 id="name-new-unprotected-header-para">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-new-unprotected-header-para" class="section-name selfRef">New Unprotected Header Parameters</a>
        </h3>
<p id="section-8.1-1">For both the General and Flattened JSON Serialization, the SD-JWT or SD-JWT+KB is represented
as a JSON object according to Section 7.2 of <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>. The following new
unprotected header parameters are defined:<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-8.1-2.1">
            <code>disclosures</code>: An array of strings where each element is an individual
Disclosure as described in <a href="#creating_disclosures" class="auto internal xref">Section 4.2</a>.<a href="#section-8.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-8.1-2.2">
            <code>kb_jwt</code>: Present only in an SD-JWT+KB, the Key Binding JWT as described in <a href="#kb-jwt" class="auto internal xref">Section 4.3</a>.<a href="#section-8.1-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-8.1-3">In an SD-JWT+KB, <code>kb_jwt</code> MUST be present when using the JWS JSON Serialization,
and the digest in the <code>sd_hash</code> claim MUST be taken over the SD-JWT as described
in <a href="#integrity-protection-of-the-presentation" class="auto internal xref">Section 4.3.1</a>. This means that even when using
the JWS JSON Serialization, the representation as a regular SD-JWT Compact Serialization MUST be
created temporarily to calculate the digest. In detail, the SD-JWT Compact Serialization part is built
by concatenating the protected header, the payload, and the signature of the JWS
JSON serialized SD-JWT using a <code>.</code> character as a separator, and using the
Disclosures from the <code>disclosures</code> member of the unprotected header.<a href="#section-8.1-3" class="pilcrow">¶</a></p>
<p id="section-8.1-4">Unprotected headers other than <code>disclosures</code> are not covered by the digest, and
therefore, as usual, are not protected against tampering.<a href="#section-8.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="flattened-json-serialization">
<section id="section-8.2">
        <h3 id="name-flattened-json-serializatio">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-flattened-json-serializatio" class="section-name selfRef">Flattened JSON Serialization</a>
        </h3>
<p id="section-8.2-1">In case of the Flattened JSON Serialization, there is only one unprotected
header.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<p id="section-8.2-2">The following is a non-normative example of a JWS JSON serialized SD-JWT as
issued using the Flattened JSON Serialization:<a href="#section-8.2-2" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-8.2-3">
<pre>{
  "header": {
    "disclosures": [
      "WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInN1YiIsICJqb2huX2RvZV80M
        iJd",
      "WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImdpdmVuX25hbWUiLCAiSm9ob
        iJd",
      "WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImZhbWlseV9uYW1lIiwgIkRvZ
        SJd",
      "WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgImJpcnRoZGF0ZSIsICIxOTQwL
        TAxLTAxIl0"
    ]
  },
  "payload": "eyJfc2QiOiBbIjRIQm42YUlZM1d0dUdHV1R4LXFVajZjZGs2V0JwWn
    lnbHRkRmF2UGE3TFkiLCAiOHNtMVFDZjAyMXBObkhBQ0k1c1A0bTRLWmd5Tk9PQV
    ljVGo5SE5hQzF3WSIsICJjZ0ZkaHFQbzgzeFlObEpmYWNhQ2FhN3VQOVJDUjUwVk
    U1UjRMQVE5aXFVIiwgImpNQ1hWei0tOWI4eDM3WWNvRGZYUWluencxd1pjY2NmRl
    JCQ0ZHcWRHMm8iXSwgImlzcyI6ICJodHRwczovL2lzc3Vlci5leGFtcGxlLmNvbS
    IsICJpYXQiOiAxNjgzMDAwMDAwLCAiZXhwIjogMTg4MzAwMDAwMCwgIl9zZF9hbG
    ciOiAic2hhLTI1NiIsICJjbmYiOiB7Imp3ayI6IHsia3R5IjogIkVDIiwgImNydi
    I6ICJQLTI1NiIsICJ4IjogIlRDQUVSMTladnUzT0hGNGo0VzR2ZlNWb0hJUDFJTG
    lsRGxzN3ZDZUdlbWMiLCAieSI6ICJaeGppV1diWk1RR0hWV0tWUTRoYlNJaXJzVm
    Z1ZWNDRTZ0NGpUOUYySFpRIn19fQ",
  "protected":
    "eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0",
  "signature": "rERFLICPv7anJ5mnuTeG-IdGzDKxY0atrIrWQEupt79Xab4IkaX7
    NuKUf-0IvZLBgyAPl-GGRP_QrFlBj9DyCg"
}

</pre><a href="#section-8.2-3" class="pilcrow">¶</a>
</div>
<p id="section-8.2-4">The following is an SD-JWT+KB with two Disclosures:<a href="#section-8.2-4" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-8.2-5">
<pre>{
  "header": {
    "disclosures": [
      "WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImZhbWlseV9uYW1lIiwgIkRvZ
        SJd",
      "WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImdpdmVuX25hbWUiLCAiSm9ob
        iJd"
    ],
    "kb_jwt": "eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImtiK2p3dCJ9.eyJub25j
      ZSI6ICIxMjM0NTY3ODkwIiwgImF1ZCI6ICJodHRwczovL3ZlcmlmaWVyLmV4YW
      1wbGUub3JnIiwgImlhdCI6IDE3NDgzNDE3NzMsICJzZF9oYXNoIjogInEzd01U
      ZF8wMGg0Y0lzOGZZbjRLVjZZSVIxNjBDLU5RTEZGTTMtTmR4Q2cifQ.fqkVecY
      C_M-3_lky7imRhp5UGtSawxpudXBA150G41I1MeF5_JHSrRj8Hq9sYwj4lJwkQ
      nTu7KVO_vQ-o__yTA"
  },
  "payload": "eyJfc2QiOiBbIjRIQm42YUlZM1d0dUdHV1R4LXFVajZjZGs2V0JwWn
    lnbHRkRmF2UGE3TFkiLCAiOHNtMVFDZjAyMXBObkhBQ0k1c1A0bTRLWmd5Tk9PQV
    ljVGo5SE5hQzF3WSIsICJjZ0ZkaHFQbzgzeFlObEpmYWNhQ2FhN3VQOVJDUjUwVk
    U1UjRMQVE5aXFVIiwgImpNQ1hWei0tOWI4eDM3WWNvRGZYUWluencxd1pjY2NmRl
    JCQ0ZHcWRHMm8iXSwgImlzcyI6ICJodHRwczovL2lzc3Vlci5leGFtcGxlLmNvbS
    IsICJpYXQiOiAxNjgzMDAwMDAwLCAiZXhwIjogMTg4MzAwMDAwMCwgIl9zZF9hbG
    ciOiAic2hhLTI1NiIsICJjbmYiOiB7Imp3ayI6IHsia3R5IjogIkVDIiwgImNydi
    I6ICJQLTI1NiIsICJ4IjogIlRDQUVSMTladnUzT0hGNGo0VzR2ZlNWb0hJUDFJTG
    lsRGxzN3ZDZUdlbWMiLCAieSI6ICJaeGppV1diWk1RR0hWV0tWUTRoYlNJaXJzVm
    Z1ZWNDRTZ0NGpUOUYySFpRIn19fQ",
  "protected":
    "eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0",
  "signature": "rERFLICPv7anJ5mnuTeG-IdGzDKxY0atrIrWQEupt79Xab4IkaX7
    NuKUf-0IvZLBgyAPl-GGRP_QrFlBj9DyCg"
}

</pre><a href="#section-8.2-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="general-json-serialization">
<section id="section-8.3">
        <h3 id="name-general-json-serialization">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-general-json-serialization" class="section-name selfRef">General JSON Serialization</a>
        </h3>
<p id="section-8.3-1">In case of the General JSON Serialization, there are multiple unprotected
headers (one per signature). If present, <code>disclosures</code> and <code>kb_jwt</code>, MUST be
included in the first unprotected header and MUST NOT be present in any
following unprotected headers.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<p id="section-8.3-2">The following is a non-normative example of a presentation of a JWS JSON
serialized SD-JWT including a Key Binding JWT using the General JSON
Serialization:<a href="#section-8.3-2" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-8.3-3">
<pre>{
  "payload": "eyJfc2QiOiBbIjRIQm42YUlZM1d0dUdHV1R4LXFVajZjZGs2V0JwWn
    lnbHRkRmF2UGE3TFkiLCAiOHNtMVFDZjAyMXBObkhBQ0k1c1A0bTRLWmd5Tk9PQV
    ljVGo5SE5hQzF3WSIsICJjZ0ZkaHFQbzgzeFlObEpmYWNhQ2FhN3VQOVJDUjUwVk
    U1UjRMQVE5aXFVIiwgImpNQ1hWei0tOWI4eDM3WWNvRGZYUWluencxd1pjY2NmRl
    JCQ0ZHcWRHMm8iXSwgImlzcyI6ICJodHRwczovL2lzc3Vlci5leGFtcGxlLmNvbS
    IsICJpYXQiOiAxNjgzMDAwMDAwLCAiZXhwIjogMTg4MzAwMDAwMCwgIl9zZF9hbG
    ciOiAic2hhLTI1NiIsICJjbmYiOiB7Imp3ayI6IHsia3R5IjogIkVDIiwgImNydi
    I6ICJQLTI1NiIsICJ4IjogIlRDQUVSMTladnUzT0hGNGo0VzR2ZlNWb0hJUDFJTG
    lsRGxzN3ZDZUdlbWMiLCAieSI6ICJaeGppV1diWk1RR0hWV0tWUTRoYlNJaXJzVm
    Z1ZWNDRTZ0NGpUOUYySFpRIn19fQ",
  "signatures": [
    {
      "header": {
        "disclosures": [
          "WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImZhbWlseV9uYW1lIiwgI
            kRvZSJd",
          "WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImdpdmVuX25hbWUiLCAiS
            m9obiJd"
        ],
        "kid": "issuer-key-1",
        "kb_jwt": "eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImtiK2p3dCJ9.eyJu
          b25jZSI6ICIxMjM0NTY3ODkwIiwgImF1ZCI6ICJodHRwczovL3ZlcmlmaW
          VyLmV4YW1wbGUub3JnIiwgImlhdCI6IDE3NDgzNDE3NzMsICJzZF9oYXNo
          IjogInpmYW9FYXNUeU5WcmZhVm5oSXB3N3hQU1lZalAxZzlWcXRCdmRUek
          V3enMifQ.J7akbwy6PwVSehNHOhvonclkl4K9b9w-Fk6YvWPWQCeLtWGmk
          5iMrqpVmDvDa7uY8kYEDexmxhRdGbyN3FkdJA"
      },
      "protected":
        "eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0",
      "signature": "Ml2vU9P7XCmDo8dDNy-V2i33uz3TI5EX-cN8hSA4QdklPNBt
        TfABV-csXIsswJQS7W9L9XRNglicfVTGK09wkg"
    },
    {
      "header": {
        "kid": "issuer-key-2"
      },
      "protected":
        "eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0",
      "signature": "hnUkEhlirlc7B8ATe1ALQg6PgZwNOHG3gnj3BBbO4Ns5g-gy
        2HUpPtTSkXG3Zr2ntp1qL_JxnxTzGm5bOX35zA"
    }
  ]
}

</pre><a href="#section-8.3-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="verification-of-the-jws-json-serialized-sd-jwt">
<section id="section-8.4">
        <h3 id="name-verification-of-the-jws-jso">
<a href="#section-8.4" class="section-number selfRef">8.4. </a><a href="#name-verification-of-the-jws-jso" class="section-name selfRef">Verification of the JWS JSON Serialized SD-JWT</a>
        </h3>
<p id="section-8.4-1">Verification of the JWS JSON serialized SD-JWT follows the rules defined in
<a href="#verification" class="auto internal xref">Section 3.4</a>, except for the following aspects:<a href="#section-8.4-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-8.4-2.1">The SD-JWT or SD-JWT+KB does not need to be split into component parts and the Disclosures
can be found in the <code>disclosures</code> member of the unprotected header.<a href="#section-8.4-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-8.4-2.2">To verify the digest in <code>sd_hash</code> in the Key Binding JWT of an SD-JWT+KB, the Verifier MUST
assemble the string to be hashed as described in
<a href="#json_serialization_unprotected_headers" class="auto internal xref">Section 8.1</a>.<a href="#section-8.4-2.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="security_considerations">
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">Security considerations in this section help achieve the following properties:<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2"><strong>Selective Disclosure:</strong> An adversary in the role of the Verifier cannot obtain
information from an SD-JWT about any claim name or claim value that was not
explicitly disclosed by the Holder unless that information can be derived from
other disclosed claims or sources other than the presented SD-JWT.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3"><strong>Integrity:</strong> A malicious Holder cannot modify names or values of selectively disclosable claims without detection by the Verifier.<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4">Additionally, as described in <a href="#key_binding_security" class="auto internal xref">Section 9.5</a>, the application of Key Binding can ensure that the presenter of an SD-JWT credential is the Holder of the credential.<a href="#section-9-4" class="pilcrow">¶</a></p>
<div id="sec-is-jwt">
<section id="section-9.1">
        <h3 id="name-mandatory-signing-of-the-is">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-mandatory-signing-of-the-is" class="section-name selfRef">Mandatory Signing of the Issuer-signed JWT</a>
        </h3>
<p id="section-9.1-1">The JWT MUST be signed by the Issuer to protect integrity of the issued
claims. An attacker can modify or add claims if this JWT is not signed (e.g.,
change the "email" attribute to take over the victim's account or add an
attribute indicating a fake academic qualification).<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1-2">The Verifier MUST always check the signature of the Issuer-signed JWT to ensure that it
has not been tampered with since the issuance. The Issuer-signed JWT MUST be rejected if the signature cannot be verified.<a href="#section-9.1-2" class="pilcrow">¶</a></p>
<p id="section-9.1-3">The security of the Issuer-signed JWT depends on the security of the signature algorithm.
Any of the JWS asymmetric digital signature algorithms registered in <span>[<a href="#IANA.JWS.Algorithms" class="cite xref">IANA.JWS.Algorithms</a>]</span>
that meet the security requirements described in the last paragraph of Section 5.2 of <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>
can be used, including post-quantum algorithms, when they are ready.<a href="#section-9.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-disclosures">
<section id="section-9.2">
        <h3 id="name-manipulation-of-disclosures">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-manipulation-of-disclosures" class="section-name selfRef">Manipulation of Disclosures</a>
        </h3>
<p id="section-9.2-1">Holders can manipulate the Disclosures by changing the values of the claims
before sending them to the Verifier. The Verifier MUST check the Disclosures to
ensure that the values of the claims are correct, i.e., the digests of the Disclosures are actually present in the signed SD-JWT.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<p id="section-9.2-2">A naive Verifier that extracts
all claim values from the Disclosures (without checking the hashes) and inserts them into the SD-JWT payload
is vulnerable to this attack. However, in a structured SD-JWT, without comparing the digests of the
Disclosures, such an implementation could not determine the correct place in a
nested object where a claim needs to be inserted. Therefore, the naive implementation
would not only be insecure, but also incorrect.<a href="#section-9.2-2" class="pilcrow">¶</a></p>
<p id="section-9.2-3">The steps described in <a href="#verifier_verification" class="auto internal xref">Section 7.3</a> ensure that the Verifier
checks the Disclosures correctly.<a href="#section-9.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="salt-entropy">
<section id="section-9.3">
        <h3 id="name-entropy-of-the-salt">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-entropy-of-the-salt" class="section-name selfRef">Entropy of the Salt</a>
        </h3>
<p id="section-9.3-1">The security model that conceals the plaintext claims relies on the high entropy
random data of the salt as additional input to the hash function. The randomness
ensures that the same plaintext claim value does not produce the same digest value. It also
makes it infeasible to guess the preimage of the digest (thereby learning the
plaintext claim value) by enumerating the potential value
space for a claim into the hash function to search for a matching digest value.
It is therefore vitally important that unrevealed salts cannot be learned or guessed,
even if other salts have been revealed. As such, each salt MUST be created
in such a manner that it is cryptographically random, sufficiently long, and
has high enough entropy that it is infeasible to guess. A
new salt MUST be chosen for each claim independently of other salts.
See Randomness Requirements for Security <span>[<a href="#RFC4086" class="cite xref">RFC4086</a>]</span> for considerations
on generating random values.<a href="#section-9.3-1" class="pilcrow">¶</a></p>
<p id="section-9.3-2">The RECOMMENDED minimum length of the randomly-generated portion of the salt is 128 bits.<a href="#section-9.3-2" class="pilcrow">¶</a></p>
<p id="section-9.3-3">The Issuer MUST ensure that a new salt value is chosen for each claim,
including when the same claim name occurs at different places in the
structure of the SD-JWT. This can be seen in the example in <a href="#example-complex-structured-sd-jwt" class="auto internal xref">Appendix A.2</a>,
where multiple claims with the name <code>type</code> appear, but each of them has
a different salt.<a href="#section-9.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="choice-of-a-hash-algorithm">
<section id="section-9.4">
        <h3 id="name-choice-of-a-hash-algorithm">
<a href="#section-9.4" class="section-number selfRef">9.4. </a><a href="#name-choice-of-a-hash-algorithm" class="section-name selfRef">Choice of a Hash Algorithm</a>
        </h3>
<p id="section-9.4-1">To ensure privacy of claims that are selectively disclosable, but are not being disclosed in a given presentation,
the hash function MUST ensure that it is infeasible to calculate any portion of the three elements
(salt, claim name, claim value) from a particular digest. This implies the hash function MUST
be preimage resistant, but should also not allow an observer to infer any partial information about
the undisclosed content. In the terminology of cryptographic commitment schemes, the hash function
needs to be computationally hiding.<a href="#section-9.4-1" class="pilcrow">¶</a></p>
<p id="section-9.4-2">To ensure the integrity of selectively disclosable claims, the hash function MUST be second-preimage
resistant. That is, for any combination of salt, claim name and claim value, it is infeasible to find a different combination of salt,
claim name and claim value that result in the same digest.<a href="#section-9.4-2" class="pilcrow">¶</a></p>
<p id="section-9.4-3">The hash function SHOULD also be collision resistant. Although not essential to the anticipated uses of
SD-JWT, without collision resistance an Issuer may be able to find multiple disclosures that have the
same hash value. In which case, the signature over the SD-JWT would not then commit the Issuer to the contents of the
JWT. The collision resistance of the hash function used to generate digests SHOULD
match the collision resistance of the hash function used by the signature scheme. For example, use of
the ES512 signature algorithm would require a disclosure hash function with at least 256-bit collision
resistance, such as SHA-512.<a href="#section-9.4-3" class="pilcrow">¶</a></p>
<p id="section-9.4-4">Inclusion in the "Named Information Hash Algorithm" registry <span>[<a href="#IANA.Hash.Algorithms" class="cite xref">IANA.Hash.Algorithms</a>]</span>
alone does not indicate a hash algorithm's suitability for use in SD-JWT (it contains several
heavily truncated digests, such as <code>sha-256-32</code> and <code>sha-256-64</code>, which are unfit for security
applications).<a href="#section-9.4-4" class="pilcrow">¶</a></p>
<p id="section-9.4-5">Furthermore, the hash algorithms MD2, MD4, MD5, and SHA-1
revealed fundamental weaknesses and MUST NOT be used.<a href="#section-9.4-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="key_binding_security">
<section id="section-9.5">
        <h3 id="name-key-binding-2">
<a href="#section-9.5" class="section-number selfRef">9.5. </a><a href="#name-key-binding-2" class="section-name selfRef">Key Binding</a>
        </h3>
<p id="section-9.5-1">Key Binding aims to ensure that the presenter of an SD-JWT credential is actually the Holder of the credential.
An SD-JWT compatible with Key Binding contains a public key, or a reference to a public key, that corresponds to a private key possessed by the Holder.
The Verifier requires that the Holder prove possession of that private key when presenting the SD-JWT credential.<a href="#section-9.5-1" class="pilcrow">¶</a></p>
<p id="section-9.5-2">Without Key Binding, a Verifier only gets the proof that the
credential was issued by a particular Issuer, but the credential itself
can be replayed by anyone who gets access to it. This means that, for
example, after a credential was leaked to an attacker, the attacker can
present the credential to any verifier that does not require a
binding. But also a malicious Verifier to which the Holder presented the
credential can present the credential to another Verifier if that other
Verifier does not require Key Binding.<a href="#section-9.5-2" class="pilcrow">¶</a></p>
<p id="section-9.5-3">Verifiers MUST decide whether Key Binding is required for a
particular use case before verifying a credential. This decision
can be informed by various factors including, but not limited to the following:
business requirements, the use case, the type of
binding between a Holder and its credential that is required for a use
case, the sensitivity of the use case, the expected properties of a
credential, the type and contents of other credentials expected to be
presented at the same time, etc.<a href="#section-9.5-3" class="pilcrow">¶</a></p>
<p id="section-9.5-4">It is important that a Verifier does not make its security policy
decisions based on data that can be influenced by an attacker. For this reason, when deciding whether Key
Binding is required or not, Verifiers MUST NOT take into account
whether the Holder has provided an SD-JWT+KB or a bare SD-JWT, since otherwise an
attacker could strip the KB-JWT from an SD-JWT+KB and present the resulting SD-JWT.<a href="#section-9.5-4" class="pilcrow">¶</a></p>
<p id="section-9.5-5">Furthermore, Verifiers should be aware that Key Binding information may have been added to an SD-JWT in a format that they do not recognize and therefore may not be able to tell whether the SD-JWT supports Key Binding or not.<a href="#section-9.5-5" class="pilcrow">¶</a></p>
<p id="section-9.5-6">If a Verifier determines that Key Binding is required for a
particular use case and the Holder presents either a bare SD-JWT or an SD-JWT+KB with
an invalid Key Binding JWT, then the Verifier will reject the presentation
when following the verification steps described in <a href="#verifier_verification" class="auto internal xref">Section 7.3</a>.<a href="#section-9.5-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="concealing-claim-names">
<section id="section-9.6">
        <h3 id="name-concealing-claim-names">
<a href="#section-9.6" class="section-number selfRef">9.6. </a><a href="#name-concealing-claim-names" class="section-name selfRef">Concealing Claim Names</a>
        </h3>
<p id="section-9.6-1">SD-JWT ensures that names of claims that are selectively disclosable are
always concealed unless the claim's value is disclosed. This prevents an attacker from learning the names of such
claims. However, the names of the claims that are permanently
disclosed are not hidden. This includes the keys of objects that themselves
are not concealed, but contain concealed claims. This limitation
needs to be taken into account by Issuers when creating the structure of
the SD-JWT.<a href="#section-9.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sd-validity-claims">
<section id="section-9.7">
        <h3 id="name-selectively-disclosable-val">
<a href="#section-9.7" class="section-number selfRef">9.7. </a><a href="#name-selectively-disclosable-val" class="section-name selfRef">Selectively-Disclosable Validity Claims</a>
        </h3>
<p id="section-9.7-1">An Issuer MUST NOT allow any content to be selectively disclosable that is critical for evaluating the
SD-JWT's authenticity or validity.
The exact list of such content will depend on the application
and SHOULD be listed by any application-specific profiles of SD-JWT.
The following is a list of registered JWT claim names that SHOULD be considered as
security-critical:<a href="#section-9.7-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-9.7-2.1">
            <code>iss</code> (Issuer)<a href="#section-9.7-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-9.7-2.2">
            <code>aud</code> (Audience), although issuers MAY allow individual entries in the array to be selectively disclosable<a href="#section-9.7-2.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-9.7-2.3">
            <code>exp</code> (Expiration Time)<a href="#section-9.7-2.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-9.7-2.4">
            <code>nbf</code> (Not Before)<a href="#section-9.7-2.4" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-9.7-2.5">
            <code>cnf</code> (Confirmation Key)<a href="#section-9.7-2.5" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-9.7-3">Issuers will typically include claims controlling the validity of the SD-JWT
in plaintext in the SD-JWT payload, but there is no guarantee they would do so. Therefore, Verifiers cannot
reliably depend on that and need to operate as though security-critical claims might be
selectively disclosable.<a href="#section-9.7-3" class="pilcrow">¶</a></p>
<p id="section-9.7-4">Verifiers therefore MUST ensure that all claims they deem necessary for checking
the validity of an SD-JWT in the given context are present (or disclosed, respectively) during
validation of the SD-JWT. This is implemented in the last
step of the verification defined in <a href="#sd_jwt_verification" class="auto internal xref">Section 7.1</a>.<a href="#section-9.7-4" class="pilcrow">¶</a></p>
<p id="section-9.7-5">The precise set of required validity claims will typically be defined by
operating environment rules, application-specific profile, or the credential format and MAY include claims other than
those listed herein.<a href="#section-9.7-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="issuer_signature_key_distribution">
<section id="section-9.8">
        <h3 id="name-distribution-and-rotation-o">
<a href="#section-9.8" class="section-number selfRef">9.8. </a><a href="#name-distribution-and-rotation-o" class="section-name selfRef">Distribution and Rotation of Issuer Signature Verification Key</a>
        </h3>
<p id="section-9.8-1">This specification does not define how signature verification keys of
Issuers are distributed to Verifiers. However, it is RECOMMENDED that
Issuers publish their keys in a way that allows for efficient and secure
key rotation and revocation, for example, by publishing keys at a
predefined location using the JSON Web Key Set (JWKS) format <span>[<a href="#RFC7517" class="cite xref">RFC7517</a>]</span>.
Verifiers need to ensure that they are not using expired or revoked keys
for signature verification using reasonable and appropriate means for the given
key-distribution method.<a href="#section-9.8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="forwarding-credentials">
<section id="section-9.9">
        <h3 id="name-forwarding-credentials">
<a href="#section-9.9" class="section-number selfRef">9.9. </a><a href="#name-forwarding-credentials" class="section-name selfRef">Forwarding Credentials</a>
        </h3>
<p id="section-9.9-1">Any entity in possession of an SD-JWT (including an SD-JWT extracted from an SD-JWT+KB) can forward it to any third party
that does not enforce Key Binding.
When doing so, that entity may remove Disclosures such that the receiver
learns only a subset of the claims contained in the original SD-JWT.<a href="#section-9.9-1" class="pilcrow">¶</a></p>
<p id="section-9.9-2">For example, a device manufacturer might produce an SD-JWT
containing information about upstream and downstream supply chain contributors.
Each supply chain party can verify only the claims that were selectively disclosed to them
by an upstream party, and they can choose to further reduce the disclosed claims
when presenting to a downstream party.<a href="#section-9.9-2" class="pilcrow">¶</a></p>
<p id="section-9.9-3">In some scenarios this behavior could be desirable,
but if it is not, Issuers need to support and Verifiers need to enforce Key Binding.<a href="#section-9.9-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="integrity-of-sd-jwts-and-sd-jwt-kbs">
<section id="section-9.10">
        <h3 id="name-integrity-of-sd-jwts-and-sd">
<a href="#section-9.10" class="section-number selfRef">9.10. </a><a href="#name-integrity-of-sd-jwts-and-sd" class="section-name selfRef">Integrity of SD-JWTs and SD-JWT+KBs</a>
        </h3>
<p id="section-9.10-1">With an SD-JWT, the Issuer-signed JWT is integrity-protected by the Issuer's
signature, and the values of the Disclosures are integrity-protected by the digests
included therein. The specific set of Disclosures, however,
is not integrity-protected; the SD-JWT can be modified by adding or
removing Disclosures and still be valid.<a href="#section-9.10-1" class="pilcrow">¶</a></p>
<p id="section-9.10-2">With an SD-JWT+KB, the set of selected Disclosures is integrity-protected.
The signature in the Key Binding JWT covers a
specific SD-JWT, with a specific Issuer-signed JWT and a specific set of
Disclosures.  Thus, the signature on the Key Binding JWT, in addition to proving
Key Binding, also assures the authenticity and integrity of the set of
Disclosures the Holder disclosed.  The set of Disclosures in an SD-JWT+KB is the set
that the Holder intended to send; no intermediate party has added, removed, or
modified the list of Disclosures.<a href="#section-9.10-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="explicit_typing">
<section id="section-9.11">
        <h3 id="name-explicit-typing">
<a href="#section-9.11" class="section-number selfRef">9.11. </a><a href="#name-explicit-typing" class="section-name selfRef">Explicit Typing</a>
        </h3>
<p id="section-9.11-1"><span><a href="https://rfc-editor.org/rfc/rfc8725#section-3.11" class="relref">Section 3.11</a> of [<a href="#RFC8725" class="cite xref">RFC8725</a>]</span> describes the use of explicit typing as one mechanism to prevent confusion attacks
(described in <span><a href="https://rfc-editor.org/rfc/rfc8725#section-2.8" class="relref">Section 2.8</a> of [<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>) in which one kind of JWT is mistaken for another. SD-JWTs are also potentially
subject to such confusion attacks, so in the absence of other techniques, it is RECOMMENDED that application profiles of SD-JWT specify an explicit type
by including the <code>typ</code> header parameter when the SD-JWT is issued, and for Verifiers to check this value.<a href="#section-9.11-1" class="pilcrow">¶</a></p>
<p id="section-9.11-2">When explicit typing using the <code>typ</code> header is employed for an SD-JWT, it is RECOMMENDED that a media type name of the format
"application/example+sd-jwt" be used, where "example" is replaced by the identifier for the specific kind of SD-JWT.
The definition of <code>typ</code> in Section 4.1.9 of <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span> recommends that the "application/" prefix be omitted, so
"example+sd-jwt" would be the value of the <code>typ</code> header parameter.<a href="#section-9.11-2" class="pilcrow">¶</a></p>
<p id="section-9.11-3">Use of the <code>cty</code> content type header parameter to indicate the content type of the SD-JWT payload can also be used to distinguish different types of JSON objects, or different kinds of JWT Claim Sets.<a href="#section-9.11-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="key-pair-generation-and-lifecycle-management">
<section id="section-9.12">
        <h3 id="name-key-pair-generation-and-lif">
<a href="#section-9.12" class="section-number selfRef">9.12. </a><a href="#name-key-pair-generation-and-lif" class="section-name selfRef">Key Pair Generation and Lifecycle Management</a>
        </h3>
<p id="section-9.12-1">Implementations of SD-JWT rely on asymmetric cryptographic keys and must therefore ensure that key pair generation,
handling, storage, and lifecycle management are performed securely.<a href="#section-9.12-1" class="pilcrow">¶</a></p>
<p id="section-9.12-2">While the specific mechanisms for secure key management are out of scope for this document, implementers
should follow established best practices, such as those outlined in NIST SP 800-57 Part 1 <span>[<a href="#NIST.SP.800-57pt1r5" class="cite xref">NIST.SP.800-57pt1r5</a>]</span>.
This includes:<a href="#section-9.12-2" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-9.12-3.1">Secure Generation: Using cryptographically secure methods and random number generators.<a href="#section-9.12-3.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-9.12-3.2">Secure Storage: Protecting private keys from unauthorized access.<a href="#section-9.12-3.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-9.12-3.3">Lifecycle Management: Ensuring secure key rotation, revocation, and disposal as needed.<a href="#section-9.12-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-9.12-4">Appropriate key management is essential, as any compromise can lead to unauthorized disclosure or forgery of SD-JWTs.<a href="#section-9.12-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="privacy_considerations">
<section id="section-10">
      <h2 id="name-privacy-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<div id="unlinkability">
<section id="section-10.1">
        <h3 id="name-unlinkability">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-unlinkability" class="section-name selfRef">Unlinkability</a>
        </h3>
<p id="section-10.1-1">Unlinkability is a property whereby adversaries are prevented from correlating
credential presentations of the same user beyond the user's consent.
Without unlinkability, an adversary might be able to learn more about the user than the user
intended to disclose, for example:<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-10.1-2.1">Cooperating Verifiers might want to track users across services to build
advertising profiles.<a href="#section-10.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-10.1-2.2">Issuers might want to track where users present their credentials to enable
surveillance.<a href="#section-10.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-10.1-2.3">After a data breach at multiple Verifiers, publicly available information
might allow linking identifiable information presented to Verifier A with
originally anonymous information presented to Verifier B, therefore revealing
the identities of users of Verifier B.<a href="#section-10.1-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-10.1-3">The following types of unlinkability are discussed below:<a href="#section-10.1-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-10.1-4.1">Presentation Unlinkability: A Verifier should not be able to link two
presentations of the same credential.<a href="#section-10.1-4.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-10.1-4.2">Verifier/Verifier Unlinkability: The presentations made to two different
Verifiers should not reveal that the same credential was presented (e.g., if the two
Verifiers collude, or if they are forced by a third party to reveal the presentations
made to them, or data leaks from one Verifier to the other).<a href="#section-10.1-4.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-10.1-4.3">Issuer/Verifier Unlinkability (Honest Verifier): An Issuer of a credential
should not be able to know that a user presented this credential unless
the Verifier is sharing presentation data with the Issuer
accidentally, deliberately, or because it is forced to do so.<a href="#section-10.1-4.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-10.1-4.4">Issuer/Verifier Unlinkability (Careless/Colluding/Compromised/Coerced Verifier): An Issuer of a
credential should under no circumstances be able to tell that a user presented this credential to
a certain Verifier. In particular this includes cases when the Verifier accidentally or deliberately shares
presentation data with the Issuer or is forced to do so.<a href="#section-10.1-4.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-10.1-5">In all cases, unlinkability is limited to cases where the disclosed claims do
not contain information that directly or indirectly identifies the user. For
example, when a taxpayer identification number is contained in the disclosed claims, the Issuer and
Verifier can easily link the user's transactions. However, when the user only
discloses a birthdate to one Verifier and a postal code to another Verifier, the two Verifiers should not be able to determine that they were interacting with the same user.<a href="#section-10.1-5" class="pilcrow">¶</a></p>
<p id="section-10.1-6">Issuer/Verifier unlinkability with a careless, colluding, compromised, or coerced Verifier cannot be
achieved in salted-hash based selective disclosure approaches, such as SD-JWT, as the
issued credential with the Issuer's signature is directly presented to the Verifier, who can forward it to
the Issuer. To reduce the risk of revealing the data later on, <a href="#data_storage" class="auto internal xref">Section 10.2</a> defines
requirements to reduce the amount of data stored.<a href="#section-10.1-6" class="pilcrow">¶</a></p>
<p id="section-10.1-7">In considering Issuer/Verifier unlinkability, it is important to note the potential for an asymmetric power dynamic
between Issuers and Verifiers. This dynamic can compel an otherwise honest Verifier into collusion.
For example, a governmental Issuer might have the authority to mandate that a Verifier report back information
about the credentials presented to it. Legal requirements could further enforce this, explicitly undermining
Issuer/Verifier unlinkability. Similarly, a large service provider issuing credentials might implicitly pressure
Verifiers into collusion by incentivizing participation in their larger operating environment.
Deployers of SD-JWT must be aware of these potential power dynamics,
mitigate them as much as possible, and/or make the risks transparent to the user.<a href="#section-10.1-7" class="pilcrow">¶</a></p>
<p id="section-10.1-8">Contrary to that, Issuer/Verifier unlinkability with an honest Verifier can generally be achieved.
However, a callback from the Verifier to the Issuer, such as a revocation check, could potentially
disclose information about the credential's usage to the Issuer.
Where such callbacks are necessary, they need to be executed in a manner that
preserves privacy and does not disclose details about the credential to the Issuer
(the mechanism described in <span>[<a href="#I-D.ietf-oauth-status-list" class="cite xref">I-D.ietf-oauth-status-list</a>]</span> is an example of an approach
with minimal information disclosure towards the Issuer). It is
important to note that the timing of such requests could potentially serve as a side-channel.<a href="#section-10.1-8" class="pilcrow">¶</a></p>
<p id="section-10.1-9">Verifier/Verifier unlinkability and presentation unlinkability can be achieved using batch issuance: A batch
of credentials based on the same claims is issued to the Holder instead of just
a single credential. The Holder can then use a different credential for each
Verifier or even for each session with a Verifier. New key binding keys and
salts MUST be used for each credential in the batch to ensure that the Verifiers
cannot link the credentials using these values. Likewise, claims carrying time
information, like <code>iat</code>, <code>exp</code>, and <code>nbf</code>, MUST either be randomized within a
time period considered appropriate (e.g., randomize <code>iat</code> within the last 24
hours and calculate <code>exp</code> accordingly) or rounded (e.g., rounded down to the
beginning of the day).<a href="#section-10.1-9" class="pilcrow">¶</a></p>
<p id="section-10.1-10">SD-JWT only conceals the value of claims that are not revealed.
It does not meet the security properties for anonymous credentials <span>[<a href="#CL01" class="cite xref">CL01</a>]</span>. In
particular, colluding Verifiers and Issuers can know when they have seen the same
credential no matter what fields have been disclosed, even when none have been disclosed.
This behavior may not align with what users naturally anticipate or are guided to
expect from user interface interactions, potentially causing them to make decisions
they might not otherwise make. Workarounds such as batch issuance, as
described above, help with keeping
Verifiers from linking different presentations, but cannot work for Issuer/Verifier unlinkability.
This issue applies to all salted hash-based approaches,
including mDL/mDoc <span>[<a href="#ISO.18013-5" class="cite xref">ISO.18013-5</a>]</span> and SD-CWT <span>[<a href="#I-D.ietf-spice-sd-cwt" class="cite xref">I-D.ietf-spice-sd-cwt</a>]</span>.<a href="#section-10.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="data_storage">
<section id="section-10.2">
        <h3 id="name-storage-of-user-data">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-storage-of-user-data" class="section-name selfRef">Storage of User Data</a>
        </h3>
<p id="section-10.2-1">Wherever user data is stored, it represents a potential
target for an attacker. This target can be of particularly
high value when the data is signed by a trusted authority like an
official national identity service. For example, in OpenID Connect <span>[<a href="#OpenID.Core" class="cite xref">OpenID.Core</a>]</span>,
signed ID Tokens can be stored by Relying Parties. In the case of
SD-JWT, Holders have to store SD-JWTs,
and Issuers and Verifiers may decide to do so as well.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<p id="section-10.2-2">Not surprisingly, a leak of such data risks revealing private data of users
to third parties. Signed user data, the authenticity of which
can be easily verified by third parties, further exacerbates the risk.
As discussed in <a href="#key_binding_security" class="auto internal xref">Section 9.5</a>, leaked
SD-JWTs may also allow attackers to impersonate Holders unless Key
Binding is enforced and the attacker does not have access to the
Holder's cryptographic keys.<a href="#section-10.2-2" class="pilcrow">¶</a></p>
<p id="section-10.2-3">Due to these risks, and the risks described in <a href="#unlinkability" class="auto internal xref">Section 10.1</a>, systems implementing SD-JWT SHOULD be designed to minimize
the amount of data that is stored. All involved parties SHOULD NOT store SD-JWTs
longer than strictly needed, including in log files.<a href="#section-10.2-3" class="pilcrow">¶</a></p>
<p id="section-10.2-4">After Issuance, Issuers SHOULD NOT store the Issuer-signed JWT or the respective
Disclosures.<a href="#section-10.2-4" class="pilcrow">¶</a></p>
<p id="section-10.2-5">Holders SHOULD store SD-JWTs only in
encrypted form, and, wherever possible, use hardware-backed encryption
in particular for the private Key Binding key. Decentralized storage
of data, e.g., on user devices, SHOULD be preferred for user
credentials over centralized storage. Expired SD-JWTs SHOULD be deleted
as soon as possible.<a href="#section-10.2-5" class="pilcrow">¶</a></p>
<p id="section-10.2-6">After Verification, Verifiers SHOULD NOT store the Issuer-signed JWT or the
respective Disclosures. It may be
sufficient to store the result of the verification and any user data that is
needed for the application.<a href="#section-10.2-6" class="pilcrow">¶</a></p>
<p id="section-10.2-7">Exceptions from the rules above can be made if there are strong requirements to do
so (e.g., functional requirements or legal audit requirements), secure storage can
be ensured, and the privacy impact has been assessed.<a href="#section-10.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="confidentiality-during-transport">
<section id="section-10.3">
        <h3 id="name-confidentiality-during-tran">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-confidentiality-during-tran" class="section-name selfRef">Confidentiality during Transport</a>
        </h3>
<p id="section-10.3-1">If an SD-JWT or SD-JWT+KB is transmitted over an insecure
channel during issuance or presentation, an adversary may be able to
intercept and read the user's personal data or correlate the information with previous uses.<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<p id="section-10.3-2">Usually, transport protocols for issuance and presentation of credentials
are designed to protect the confidentiality of the transmitted data, for
example, by requiring the use of TLS.<a href="#section-10.3-2" class="pilcrow">¶</a></p>
<p id="section-10.3-3">This specification therefore considers the confidentiality of the data to be
provided by the transport protocol and does not specify any encryption
mechanism.<a href="#section-10.3-3" class="pilcrow">¶</a></p>
<p id="section-10.3-4">Implementers MUST ensure that the transport protocol provides confidentiality
if the privacy of user data or correlation attacks by passive observers are a concern.<a href="#section-10.3-4" class="pilcrow">¶</a></p>
<p id="section-10.3-5">To encrypt an SD-JWT or SD-JWT+KB during transit over potentially insecure or leakage-prone channels, implementers MAY use JSON Web Encryption (JWE) <span>[<a href="#RFC7516" class="cite xref">RFC7516</a>]</span>, encapsulating the SD-JWT or SD-JWT+KB as the plaintext payload of the JWE.
Especially, when an SD-JWT is transmitted via a URL and information may be stored/cached in the browser or end up in web server logs, the SD-JWT SHOULD be encrypted using JWE.<a href="#section-10.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="decoy_digests_privacy">
<section id="section-10.4">
        <h3 id="name-decoy-digests-2">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-decoy-digests-2" class="section-name selfRef">Decoy Digests</a>
        </h3>
<p id="section-10.4-1">The use of decoy digests is RECOMMENDED when the number of claims (or the existence of particular claims) can be a side-channel disclosing information about otherwise undisclosed claims. In particular, if a claim in an SD-JWT is present only if a certain condition is met (e.g., a membership number is only contained if the user is a member of a group), the Issuer SHOULD add decoy digests when the condition is not met.<a href="#section-10.4-1" class="pilcrow">¶</a></p>
<p id="section-10.4-2">Decoy digests increase the size of the SD-JWT. The number of decoy digests (or whether to use them at all) is a trade-off between the size of the SD-JWT and the privacy of the user's data.<a href="#section-10.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="issuer-identifier">
<section id="section-10.5">
        <h3 id="name-issuer-identifier">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-issuer-identifier" class="section-name selfRef">Issuer Identifier</a>
        </h3>
<p id="section-10.5-1">An Issuer issuing only one type of SD-JWT might have privacy implications, because if the Holder has an SD-JWT issued by that Issuer, its type and claim names can be determined.<a href="#section-10.5-1" class="pilcrow">¶</a></p>
<p id="section-10.5-2">For example, if the National Cancer Institute only issued SD-JWTs with cancer registry information, it is possible to deduce that the Holder owning its SD-JWT is a cancer patient.<a href="#section-10.5-2" class="pilcrow">¶</a></p>
<p id="section-10.5-3">Moreover, the issuer identifier alone may reveal information about the user.<a href="#section-10.5-3" class="pilcrow">¶</a></p>
<p id="section-10.5-4">For example, when a military organization or a drug rehabilitation center issues a vaccine credential, verifiers can deduce that the holder is a military member or may have a substance use disorder.<a href="#section-10.5-4" class="pilcrow">¶</a></p>
<p id="section-10.5-5">To mitigate this issue, a group of issuers may elect to use a common Issuer identifier. A group signature scheme outside the scope of this specification may also be used, instead of an individual signature.<a href="#section-10.5-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Acknowledgements">
<section id="section-11">
      <h2 id="name-acknowledgements">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-11-1">We would like to thank
Alen Horvat,
Alex Hodder,
Anders Rundgren,
Arjan Geluk,
Chad Parry,
Christian Bormann,
Christian Paquin,
Dale Bowie,
David Bakker,
David Waite,
Dick Hardt,
Fabian Hauck,
Filip Skokan,
Giuseppe De Marco,
Jacob Ward,
Jeffrey Yasskin,
John Mattsson,
Joseph Heenan,
Justin Richer,
Kushal Das,
Martin Thomson,
Matthew Miller,
Michael Fraser,
Michael B. Jones,
Mike Prorock,
Nat Sakimura,
Neil Madden,
Oliver Terbu,
Orie Steele,
Paul Bastian,
Peter Altmann,
Pieter Kasselman,
Richard Barnes,
Rohan Mahy,
Ryosuke Abe,
Sami Rosendahl,
Shawn Emery,
Shawn Butterfield,
Simon Schulz,
Tobias Looker,
Takahiko Kawasaki,
Torsten Lodderstedt,
Vittorio Bertocci,
Watson Ladd, and
Yaron Sheffer
for their contributions (some of which were substantial) to this draft and to the initial set of implementations.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">The work on this draft was started at OAuth Security Workshop 2022 in Trondheim, Norway.<a href="#section-11-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana_considerations">
<section id="section-12">
      <h2 id="name-iana-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="json-web-token-claims-registration">
<section id="section-12.1">
        <h3 id="name-json-web-token-claims-regis">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-json-web-token-claims-regis" class="section-name selfRef">JSON Web Token Claims Registration</a>
        </h3>
<p id="section-12.1-1">This specification requests registration of the following Claims in the
IANA "JSON Web Token Claims" registry <span>[<a href="#IANA.JWT" class="cite xref">IANA.JWT</a>]</span> established by <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>.<a href="#section-12.1-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-12.1-2.1">Claim Name: <code>_sd</code><a href="#section-12.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-2.2">Claim Description: Digests of Disclosures for object properties<a href="#section-12.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-2.3">Change Controller: IETF<a href="#section-12.1-2.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-2.4">Specification Document(s):  [[ <a href="#embedding_object_properties" class="auto internal xref">Section 4.2.4.1</a> of this specification ]]<a href="#section-12.1-2.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.1-3"><br></p>
<ul class="compact">
<li class="compact" id="section-12.1-4.1">Claim Name: <code>...</code><a href="#section-12.1-4.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-4.2">Claim Description: Digest of the Disclosure for an array element<a href="#section-12.1-4.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-4.3">Change Controller: IETF<a href="#section-12.1-4.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-4.4">Specification Document(s):  [[ <a href="#embedding_array_elements" class="auto internal xref">Section 4.2.4.2</a> of this specification ]]<a href="#section-12.1-4.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.1-5"><br></p>
<ul class="compact">
<li class="compact" id="section-12.1-6.1">Claim Name: <code>_sd_alg</code><a href="#section-12.1-6.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-6.2">Claim Description: Hash algorithm used to generate Disclosure digests and digest over presentation<a href="#section-12.1-6.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-6.3">Change Controller: IETF<a href="#section-12.1-6.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-6.4">Specification Document(s):  [[ <a href="#hash_function_claim" class="auto internal xref">Section 4.1.1</a> of this specification ]]<a href="#section-12.1-6.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.1-7"><br></p>
<ul class="compact">
<li class="compact" id="section-12.1-8.1">Claim Name: <code>sd_hash</code><a href="#section-12.1-8.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-8.2">Claim Description: Digest of the SD-JWT to which the KB-JWT is tied<a href="#section-12.1-8.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-8.3">Change Controller: IETF<a href="#section-12.1-8.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.1-8.4">Specification Document(s):  [[ <a href="#kb-jwt" class="auto internal xref">Section 4.3</a> of this specification ]]<a href="#section-12.1-8.4" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="media-type-registration">
<section id="section-12.2">
        <h3 id="name-media-type-registration">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-media-type-registration" class="section-name selfRef">Media Type Registration</a>
        </h3>
<p id="section-12.2-1">This section requests registration of the following media types <span>[<a href="#RFC2046" class="cite xref">RFC2046</a>]</span> in
the "Media Types" registry <span>[<a href="#IANA.MediaTypes" class="cite xref">IANA.MediaTypes</a>]</span> in the manner described
in <span>[<a href="#RFC6838" class="cite xref">RFC6838</a>]</span>.<a href="#section-12.2-1" class="pilcrow">¶</a></p>
<blockquote id="section-12.2-2">
          <p id="section-12.2-2.1">Note: For the media type value used in the <code>typ</code> header in the Issuer-signed JWT
itself, see <a href="#explicit_typing" class="auto internal xref">Section 9.11</a>.<a href="#section-12.2-2.1" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-12.2-3">To indicate that the content is an SD-JWT:<a href="#section-12.2-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-12.2-4.1">Type name: application<a href="#section-12.2-4.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.2">Subtype name: sd-jwt<a href="#section-12.2-4.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.3">Required parameters: n/a<a href="#section-12.2-4.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.4">Optional parameters: n/a<a href="#section-12.2-4.4" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.5">Encoding considerations: binary; application/sd-jwt values are a series of base64url-encoded values (some of which may be the empty string) separated by period ('.') and tilde ('~') characters.<a href="#section-12.2-4.5" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.6">Security considerations: See the Security Considerations section of [[ this specification ]], <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>, and <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-12.2-4.6" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.7">Interoperability considerations: n/a<a href="#section-12.2-4.7" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.8">Published specification: [[ this specification ]]<a href="#section-12.2-4.8" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.9">Applications that use this media type: Applications requiring selective disclosure of integrity protected content.<a href="#section-12.2-4.9" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.10">Fragment identifier considerations: n/a<a href="#section-12.2-4.10" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.11">
            <p id="section-12.2-4.11.1">Additional information:<a href="#section-12.2-4.11.1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-12.2-4.11.2.1">Magic number(s): n/a<a href="#section-12.2-4.11.2.1" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-12.2-4.11.2.2">File extension(s): n/a<a href="#section-12.2-4.11.2.2" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-12.2-4.11.2.3">Macintosh file type code(s): n/a<a href="#section-12.2-4.11.2.3" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="compact" id="section-12.2-4.12">Person &amp; email address to contact for further information: Daniel Fett, mail@danielfett.de<a href="#section-12.2-4.12" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.13">Intended usage: COMMON<a href="#section-12.2-4.13" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.14">Restrictions on usage: none<a href="#section-12.2-4.14" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.15">Author: Daniel Fett, mail@danielfett.de<a href="#section-12.2-4.15" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.16">Change Controller: IETF<a href="#section-12.2-4.16" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-4.17">Provisional registration?  No<a href="#section-12.2-4.17" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.2-5"><br>

To indicate that the content is a JWS JSON serialized SD-JWT:<a href="#section-12.2-5" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-12.2-6.1">Type name: application<a href="#section-12.2-6.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.2">Subtype name: sd-jwt+json<a href="#section-12.2-6.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.3">Required parameters: n/a<a href="#section-12.2-6.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.4">Optional parameters: n/a<a href="#section-12.2-6.4" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.5">Encoding considerations: binary; application/sd-jwt+json values are represented as a JSON Object.<a href="#section-12.2-6.5" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.6">Security considerations: See the Security Considerations section of [[ this specification ]], and <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>.<a href="#section-12.2-6.6" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.7">Interoperability considerations: n/a<a href="#section-12.2-6.7" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.8">Published specification: [[ this specification ]]<a href="#section-12.2-6.8" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.9">Applications that use this media type: Applications requiring selective disclosure of content protected by ETSI JAdES compliant signatures.<a href="#section-12.2-6.9" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.10">Fragment identifier considerations: n/a<a href="#section-12.2-6.10" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.11">
            <p id="section-12.2-6.11.1">Additional information:<a href="#section-12.2-6.11.1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-12.2-6.11.2.1">Magic number(s): n/a<a href="#section-12.2-6.11.2.1" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-12.2-6.11.2.2">File extension(s): n/a<a href="#section-12.2-6.11.2.2" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-12.2-6.11.2.3">Macintosh file type code(s): n/a<a href="#section-12.2-6.11.2.3" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="compact" id="section-12.2-6.12">Person &amp; email address to contact for further information: Daniel Fett, mail@danielfett.de<a href="#section-12.2-6.12" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.13">Intended usage: COMMON<a href="#section-12.2-6.13" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.14">Restrictions on usage: none<a href="#section-12.2-6.14" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.15">Author: Daniel Fett, mail@danielfett.de<a href="#section-12.2-6.15" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.16">Change Controller: IETF<a href="#section-12.2-6.16" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-6.17">Provisional registration?  No<a href="#section-12.2-6.17" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.2-7"><br>

To indicate that the content is a Key Binding JWT:<a href="#section-12.2-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-12.2-8.1">Type name: application<a href="#section-12.2-8.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.2">Subtype name: kb+jwt<a href="#section-12.2-8.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.3">Required parameters: n/a<a href="#section-12.2-8.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.4">Optional parameters: n/a<a href="#section-12.2-8.4" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.5">Encoding considerations: binary; A Key Binding JWT is a JWT; JWT values are encoded as a series of base64url-encoded values separated by period ('.') characters.<a href="#section-12.2-8.5" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.6">Security considerations: See the Security Considerations section of [[ this specification ]], <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>, and <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-12.2-8.6" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.7">Interoperability considerations: n/a<a href="#section-12.2-8.7" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.8">Published specification: [[ this specification ]]<a href="#section-12.2-8.8" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.9">Applications that use this media type: Applications utilizing a JWT based proof of possession mechanism.<a href="#section-12.2-8.9" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.10">Fragment identifier considerations: n/a<a href="#section-12.2-8.10" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.11">
            <p id="section-12.2-8.11.1">Additional information:<a href="#section-12.2-8.11.1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-12.2-8.11.2.1">Magic number(s): n/a<a href="#section-12.2-8.11.2.1" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-12.2-8.11.2.2">File extension(s): n/a<a href="#section-12.2-8.11.2.2" class="pilcrow">¶</a>
</li>
              <li class="compact" id="section-12.2-8.11.2.3">Macintosh file type code(s): n/a<a href="#section-12.2-8.11.2.3" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="compact" id="section-12.2-8.12">Person &amp; email address to contact for further information: Daniel Fett, mail@danielfett.de<a href="#section-12.2-8.12" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.13">Intended usage: COMMON<a href="#section-12.2-8.13" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.14">Restrictions on usage: none<a href="#section-12.2-8.14" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.15">Author: Daniel Fett, mail@danielfett.de<a href="#section-12.2-8.15" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.16">Change Controller: IETF<a href="#section-12.2-8.16" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.2-8.17">Provisional registration?  No<a href="#section-12.2-8.17" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="structured-syntax-suffix-registration">
<section id="section-12.3">
        <h3 id="name-structured-syntax-suffix-re">
<a href="#section-12.3" class="section-number selfRef">12.3. </a><a href="#name-structured-syntax-suffix-re" class="section-name selfRef">Structured Syntax Suffix Registration</a>
        </h3>
<p id="section-12.3-1">This section requests registration of the "+sd-jwt" structured syntax suffix in
the "Structured Syntax Suffix" registry <span>[<a href="#IANA.StructuredSuffix" class="cite xref">IANA.StructuredSuffix</a>]</span> in
the manner described in <span>[<a href="#RFC6838" class="cite xref">RFC6838</a>]</span>, which can be used to indicate that
the media type is encoded as an SD-JWT.<a href="#section-12.3-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-12.3-2.1">Name: SD-JWT<a href="#section-12.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.3-2.2">+suffix: +sd-jwt<a href="#section-12.3-2.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.3-2.3">References: [[ this specification ]]<a href="#section-12.3-2.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.3-2.4">Encoding considerations: binary; SD-JWT values are a series of base64url-encoded values (some of which may be the empty string) separated by period ('.') or tilde ('~') characters.<a href="#section-12.3-2.4" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.3-2.5">Interoperability considerations: n/a<a href="#section-12.3-2.5" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.3-2.6">Fragment identifier considerations: n/a<a href="#section-12.3-2.6" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.3-2.7">Security considerations: See the Security Considerations section of [[ this specification ]], <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>, and <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-12.3-2.7" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.3-2.8">Contact: Daniel Fett, mail@danielfett.de<a href="#section-12.3-2.8" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-12.3-2.9">Author/Change controller: IETF<a href="#section-12.3-2.9" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<section id="section-13">
      <h2 id="name-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-13.1">
        <h3 id="name-normative-references">
<a href="#section-13.1" class="section-number selfRef">13.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6838">[RFC6838]</dt>
        <dd>
<span class="refAuthor">Freed, N.</span>, <span class="refAuthor">Klensin, J.</span>, and <span class="refAuthor">T. Hansen</span>, <span class="refTitle">"Media Type Specifications and Registration Procedures"</span>, <span class="seriesInfo">BCP 13</span>, <span class="seriesInfo">RFC 6838</span>, <span class="seriesInfo">DOI 10.17487/RFC6838</span>, <time datetime="2013-01" class="refDate">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6838">https://www.rfc-editor.org/info/rfc6838</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7515">[RFC7515]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">N. Sakimura</span>, <span class="refTitle">"JSON Web Signature (JWS)"</span>, <span class="seriesInfo">RFC 7515</span>, <span class="seriesInfo">DOI 10.17487/RFC7515</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7515">https://www.rfc-editor.org/info/rfc7515</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7516">[RFC7516]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span> and <span class="refAuthor">J. Hildebrand</span>, <span class="refTitle">"JSON Web Encryption (JWE)"</span>, <span class="seriesInfo">RFC 7516</span>, <span class="seriesInfo">DOI 10.17487/RFC7516</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7516">https://www.rfc-editor.org/info/rfc7516</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7519">[RFC7519]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">N. Sakimura</span>, <span class="refTitle">"JSON Web Token (JWT)"</span>, <span class="seriesInfo">RFC 7519</span>, <span class="seriesInfo">DOI 10.17487/RFC7519</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7519">https://www.rfc-editor.org/info/rfc7519</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7800">[RFC7800]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"Proof-of-Possession Key Semantics for JSON Web Tokens (JWTs)"</span>, <span class="seriesInfo">RFC 7800</span>, <span class="seriesInfo">DOI 10.17487/RFC7800</span>, <time datetime="2016-04" class="refDate">April 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7800">https://www.rfc-editor.org/info/rfc7800</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8725">[RFC8725]</dt>
      <dd>
<span class="refAuthor">Sheffer, Y.</span>, <span class="refAuthor">Hardt, D.</span>, and <span class="refAuthor">M. Jones</span>, <span class="refTitle">"JSON Web Token Best Current Practices"</span>, <span class="seriesInfo">BCP 225</span>, <span class="seriesInfo">RFC 8725</span>, <span class="seriesInfo">DOI 10.17487/RFC8725</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8725">https://www.rfc-editor.org/info/rfc8725</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13.2">
        <h3 id="name-informative-references">
<a href="#section-13.2" class="section-number selfRef">13.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="CL01">[CL01]</dt>
        <dd>
<span class="refAuthor">Camenisch, J.</span> and <span class="refAuthor">A. Lysyanskaya</span>, <span class="refTitle">"An Efficient System for Non-Transferable Anonymous Credentials with Optional Anonymity Revocation"</span>, <span class="seriesInfo">Proceedings of the International Conference on the Theory and Application of Cryptographic Techniques (EUROCRYPT) 2001</span>, <time datetime="2001" class="refDate">2001</time>, <span>&lt;<a href="https://eprint.iacr.org/2001/019.pdf">https://eprint.iacr.org/2001/019.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="EUDIW.ARF">[EUDIW.ARF]</dt>
        <dd>
<span class="refAuthor">Commission, E.</span>, <span class="refTitle">"The European Digital Identity Wallet Architecture and Reference Framework"</span>, <span>&lt;<a href="https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework">https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-oauth-sd-jwt-vc">[I-D.ietf-oauth-sd-jwt-vc]</dt>
        <dd>
<span class="refAuthor">Terbu, O.</span>, <span class="refAuthor">Fett, D.</span>, and <span class="refAuthor">B. Campbell</span>, <span class="refTitle">"SD-JWT-based Verifiable Credentials (SD-JWT VC)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-oauth-sd-jwt-vc-08</span>, <time datetime="2024-12-03" class="refDate">3 December 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-sd-jwt-vc-08">https://datatracker.ietf.org/doc/html/draft-ietf-oauth-sd-jwt-vc-08</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-oauth-status-list">[I-D.ietf-oauth-status-list]</dt>
        <dd>
<span class="refAuthor">Looker, T.</span>, <span class="refAuthor">Bastian, P.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Token Status List"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-oauth-status-list-11</span>, <time datetime="2025-05-23" class="refDate">23 May 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-status-list-11">https://datatracker.ietf.org/doc/html/draft-ietf-oauth-status-list-11</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-spice-sd-cwt">[I-D.ietf-spice-sd-cwt]</dt>
        <dd>
<span class="refAuthor">Prorock, M.</span>, <span class="refAuthor">Steele, O.</span>, <span class="refAuthor">Birkholz, H.</span>, and <span class="refAuthor">R. Mahy</span>, <span class="refTitle">"SPICE SD-CWT"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spice-sd-cwt-03</span>, <time datetime="2025-03-02" class="refDate">2 March 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-spice-sd-cwt-03">https://datatracker.ietf.org/doc/html/draft-ietf-spice-sd-cwt-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.Hash.Algorithms">[IANA.Hash.Algorithms]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Named Information Hash Algorithm"</span>, <span>&lt;<a href="https://www.iana.org/assignments/named-information/named-information.xhtml">https://www.iana.org/assignments/named-information/named-information.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.JWS.Algorithms">[IANA.JWS.Algorithms]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"JSON Web Signature and Encryption Algorithms"</span>, <span>&lt;<a href="https://www.iana.org/assignments/jose/jose.xhtml#web-signature-encryption-algorithms">https://www.iana.org/assignments/jose/jose.xhtml#web-signature-encryption-algorithms</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.JWT">[IANA.JWT]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"JSON Web Token Claims"</span>, <span>&lt;<a href="https://www.iana.org/assignments/jwt">https://www.iana.org/assignments/jwt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.MediaTypes">[IANA.MediaTypes]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Media Types"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-types/media-types.xhtml">https://www.iana.org/assignments/media-types/media-types.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.StructuredSuffix">[IANA.StructuredSuffix]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Structured Syntax Suffixs"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-type-structured-suffix/media-type-structured-suffix.xhtml">https://www.iana.org/assignments/media-type-structured-suffix/media-type-structured-suffix.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ISO.18013-5">[ISO.18013-5]</dt>
        <dd>
<span class="refAuthor">ISO/IEC JTC 1/SC 17 Cards and security devices for personal identification</span>, <span class="refTitle">"ISO/IEC 18013-5:2021 Personal identification — ISO-compliant driving license — Part 5: Mobile driving license (mDL) application"</span>, <time datetime="2021" class="refDate">2021</time>, <span>&lt;<a href="https://www.iso.org/standard/69084.html">https://www.iso.org/standard/69084.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="NIST.SP.800-57pt1r5">[NIST.SP.800-57pt1r5]</dt>
        <dd>
<span class="refAuthor">Barker, E.</span> and <span class="refAuthor">NIST</span>, <span class="refTitle">"Recommendation for key management:part 1 - general"</span>, <span class="seriesInfo">NIST Special Publications (General) 800-57pt1r5</span>, <span class="seriesInfo">DOI 10.6028/NIST.SP.800-57pt1r5</span>, <time datetime="2020-05" class="refDate">May 2020</time>, <span>&lt;<a href="https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-57pt1r5.pdf">https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-57pt1r5.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OIDC.IDA">[OIDC.IDA]</dt>
        <dd>
<span class="refAuthor">Lodderstedt, T.</span>, <span class="refAuthor">Fett, D.</span>, <span class="refAuthor">Haine, M.</span>, <span class="refAuthor">Pulido, A.</span>, <span class="refAuthor">Lehmann, K.</span>, and <span class="refAuthor">K. Koiwai</span>, <span class="refTitle">"OpenID Connect for Identity Assurance 1.0"</span>, <time datetime="2024-07-24" class="refDate">24 July 2024</time>, <span>&lt;<a href="https://openid.net/specs/openid-connect-4-identity-assurance-1_0.html">https://openid.net/specs/openid-connect-4-identity-assurance-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OpenID.Core">[OpenID.Core]</dt>
        <dd>
<span class="refAuthor">Sakimura, N.</span>, <span class="refAuthor">Bradley, J.</span>, <span class="refAuthor">Jones, M.</span>, <span class="refAuthor">de Medeiros, B.</span>, and <span class="refAuthor">C. Mortimore</span>, <span class="refTitle">"OpenID Connect Core 1.0 incorporating errata set 2"</span>, <time datetime="2023-12-15" class="refDate">15 December 2023</time>, <span>&lt;<a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2046">[RFC2046]</dt>
        <dd>
<span class="refAuthor">Freed, N.</span> and <span class="refAuthor">N. Borenstein</span>, <span class="refTitle">"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"</span>, <span class="seriesInfo">RFC 2046</span>, <span class="seriesInfo">DOI 10.17487/RFC2046</span>, <time datetime="1996-11" class="refDate">November 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2046">https://www.rfc-editor.org/info/rfc2046</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4086">[RFC4086]</dt>
        <dd>
<span class="refAuthor">Eastlake 3rd, D.</span>, <span class="refAuthor">Schiller, J.</span>, and <span class="refAuthor">S. Crocker</span>, <span class="refTitle">"Randomness Requirements for Security"</span>, <span class="seriesInfo">BCP 106</span>, <span class="seriesInfo">RFC 4086</span>, <span class="seriesInfo">DOI 10.17487/RFC4086</span>, <time datetime="2005-06" class="refDate">June 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4086">https://www.rfc-editor.org/info/rfc4086</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01" class="refDate">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7517">[RFC7517]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refTitle">"JSON Web Key (JWK)"</span>, <span class="seriesInfo">RFC 7517</span>, <span class="seriesInfo">DOI 10.17487/RFC7517</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7517">https://www.rfc-editor.org/info/rfc7517</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8785">[RFC8785]</dt>
        <dd>
<span class="refAuthor">Rundgren, A.</span>, <span class="refAuthor">Jordan, B.</span>, and <span class="refAuthor">S. Erdtman</span>, <span class="refTitle">"JSON Canonicalization Scheme (JCS)"</span>, <span class="seriesInfo">RFC 8785</span>, <span class="seriesInfo">DOI 10.17487/RFC8785</span>, <time datetime="2020-06" class="refDate">June 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8785">https://www.rfc-editor.org/info/rfc8785</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="VC_DATA_v2.0">[VC_DATA_v2.0]</dt>
      <dd>
<span class="refAuthor">Sporny, M.</span>, <span class="refAuthor">Jr, T. T.</span>, <span class="refAuthor">Jones, M. B.</span>, <span class="refAuthor">Cohen, G.</span>, and <span class="refAuthor">I. Herman</span>, <span class="refTitle">"Verifiable Credentials Data Model 2.0"</span>, <time datetime="2025-05" class="refDate">May 2025</time>, <span>&lt;<a href="https://www.w3.org/TR/vc-data-model-2.0/">https://www.w3.org/TR/vc-data-model-2.0/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="additional-examples">
<section id="appendix-A">
      <h2 id="name-additional-examples">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-additional-examples" class="section-name selfRef">Additional Examples</a>
      </h2>
<p id="appendix-A-1">The following examples are not normative and are provided for
illustrative purposes only. In particular, neither the structure of the claims
nor the selection of selectively disclosable claims is normative.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">Line breaks have been added for readability.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<div id="example-simple_structured">
<section id="appendix-A.1">
        <h3 id="name-simple-structured-sd-jwt">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-simple-structured-sd-jwt" class="section-name selfRef">Simple Structured SD-JWT</a>
        </h3>
<p id="appendix-A.1-1">In this example, in contrast to <a href="#main-example" class="auto internal xref">Section 5</a>, the Issuer decided to create a structured object for the <code>address</code> claim, allowing to separately disclose individual members of the claim.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.1-2">The following data about the user comprises the input JWT Claims Set used by the Issuer:<a href="#appendix-A.1-2" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.1-3">
<pre>{
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "given_name": "太郎",
  "family_name": "山田",
  "email": "\"unusual email address\"@example.jp",
  "phone_number": "+81-80-1234-5678",
  "address": {
    "street_address": "東京都港区芝公園４丁目２−８",
    "locality": "東京都",
    "region": "港区",
    "country": "JP"
  },
  "birthdate": "1940-01-01"
}

</pre><a href="#appendix-A.1-3" class="pilcrow">¶</a>
</div>
<p id="appendix-A.1-4">The Issuer also decided to add decoy digests to prevent the Verifier from deducing the true number of claims.<a href="#appendix-A.1-4" class="pilcrow">¶</a></p>
<p id="appendix-A.1-5">The following payload is used for the SD-JWT:<a href="#appendix-A.1-5" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.1-6">
<pre>{
  "_sd": [
    "C9inp6YoRaEXR427zYJP7Qrk1WH_8bdwOA_YUrUnGQU",
    "Kuet1yAa0HIQvYnOVd59hcViO9Ug6J2kSfqYRBeowvE",
    "MMldOFFzB2d0umlmpTIaGerhWdU_PpYfLvKhh_f_9aY",
    "X6ZAYOII2vPN40V7xExZwVwz7yRmLNcVwt5DL8RLv4g",
    "Y34zmIo0QLLOtdMpXGwjBgLvr17yEhhYT0FGofR-aIE",
    "fyGp0WTwwPv2JDQln1lSiaeobZsMWA10bQ5989-9DTs",
    "ommFAicVT8LGHCB0uywx7fYuo3MHYKO15cz-RZEYM5Q",
    "s0BKYsLWxQQeU8tVlltM7MKsIRTrEIa1PkJmqxBBf5U"
  ],
  "iss": "https://issuer.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "address": {
    "_sd": [
      "6aUhzYhZ7SJ1kVmagQAO3u2ETN2CC1aHheZpKnaF0_E",
      "AzLlFobkJ2xiaupREPyoJz-9-NSldB6Cgjr7fUyoHzg",
      "PzzcVu0qbMuBGSjulfewzkesD9zutOExn5EWNwkrQ-k",
      "b2Dkw0jcIF9rGg8_PF8ZcvncW7zwZj5ryBWvXfrpzek",
      "cPYJHIZ8Vu-f9CCyVub2UfgEk8jvvXezwK1p_JneeXQ",
      "glT3hrSU7fSWgwF5UDZmWwBTw32gnUldIhi8hGVCaV4",
      "rvJd6iq6T5ejmsBMoGwuNXh9qAAFATAci40oidEeVsA",
      "uNHoWYhXsZhVJCNE2Dqy-zqt7t69gJKy5QaFv7GrMX4"
    ]
  },
  "_sd_alg": "sha-256"
}

</pre><a href="#appendix-A.1-6" class="pilcrow">¶</a>
</div>
<p id="appendix-A.1-7">The digests in the SD-JWT payload reference the following Disclosures:<a href="#appendix-A.1-7" class="pilcrow">¶</a></p>
<p id="appendix-A.1-8"><strong>Claim <code>sub</code></strong>:<a href="#appendix-A.1-8" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-9.1">SHA-256 Hash: <code>X6ZAYOII2vPN40V7xExZwVwz7yRmLNcVwt5DL8RLv4g</code><a href="#appendix-A.1-9.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-9.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInN1YiIsICI2YzVjMGE0OS1i</code><br>
            <code>NTg5LTQzMWQtYmFlNy0yMTkxMjJhOWVjMmMiXQ</code><a href="#appendix-A.1-9.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-9.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "sub",</code><br>
            <code>"6c5c0a49-b589-431d-bae7-219122a9ec2c"]</code><a href="#appendix-A.1-9.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-10"><strong>Claim <code>given_name</code></strong>:<a href="#appendix-A.1-10" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-11.1">SHA-256 Hash: <code>ommFAicVT8LGHCB0uywx7fYuo3MHYKO15cz-RZEYM5Q</code><a href="#appendix-A.1-11.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-11.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImdpdmVuX25hbWUiLCAiXHU1</code><br>
            <code>OTJhXHU5MGNlIl0</code><a href="#appendix-A.1-11.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-11.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "given_name", "\u592a\u90ce"]</code><a href="#appendix-A.1-11.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-12"><strong>Claim <code>family_name</code></strong>:<a href="#appendix-A.1-12" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-13.1">SHA-256 Hash: <code>C9inp6YoRaEXR427zYJP7Qrk1WH_8bdwOA_YUrUnGQU</code><a href="#appendix-A.1-13.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-13.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImZhbWlseV9uYW1lIiwgIlx1</code><br>
            <code>NWM3MVx1NzUzMCJd</code><a href="#appendix-A.1-13.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-13.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "family_name", "\u5c71\u7530"]</code><a href="#appendix-A.1-13.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-14"><strong>Claim <code>email</code></strong>:<a href="#appendix-A.1-14" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-15.1">SHA-256 Hash: <code>Kuet1yAa0HIQvYnOVd59hcViO9Ug6J2kSfqYRBeowvE</code><a href="#appendix-A.1-15.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-15.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgImVtYWlsIiwgIlwidW51c3Vh</code><br>
            <code>bCBlbWFpbCBhZGRyZXNzXCJAZXhhbXBsZS5qcCJd</code><a href="#appendix-A.1-15.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-15.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "email", "\"unusual email</code><br>
            <code>address\"@example.jp"]</code><a href="#appendix-A.1-15.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-16"><strong>Claim <code>phone_number</code></strong>:<a href="#appendix-A.1-16" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-17.1">SHA-256 Hash: <code>s0BKYsLWxQQeU8tVlltM7MKsIRTrEIa1PkJmqxBBf5U</code><a href="#appendix-A.1-17.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-17.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgInBob25lX251bWJlciIsICIr</code><br>
            <code>ODEtODAtMTIzNC01Njc4Il0</code><a href="#appendix-A.1-17.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-17.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "phone_number",</code><br>
            <code>"+81-80-1234-5678"]</code><a href="#appendix-A.1-17.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-18"><strong>Claim <code>street_address</code></strong>:<a href="#appendix-A.1-18" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-19.1">SHA-256 Hash: <code>6aUhzYhZ7SJ1kVmagQAO3u2ETN2CC1aHheZpKnaF0_E</code><a href="#appendix-A.1-19.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-19.2">Disclosure:<br>
            <code>WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgInN0cmVldF9hZGRyZXNzIiwg</code><br>
            <code>Ilx1Njc3MVx1NGVhY1x1OTBmZFx1NmUyZlx1NTMzYVx1ODI5ZFx1NTE2Y1x1</code><br>
            <code>NTcxMlx1ZmYxNFx1NGUwMVx1NzZlZVx1ZmYxMlx1MjIxMlx1ZmYxOCJd</code><a href="#appendix-A.1-19.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-19.3">Contents:
<code>["AJx-095VPrpTtN4QMOqROA", "street_address", "\u6771\u4eac\u</code><br>
            <code>90fd\u6e2f\u533a\u829d\u516c\u5712\uff14\u4e01\u76ee\uff12\u</code><br>
            <code>2212\uff18"]</code><a href="#appendix-A.1-19.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-20"><strong>Claim <code>locality</code></strong>:<a href="#appendix-A.1-20" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-21.1">SHA-256 Hash: <code>rvJd6iq6T5ejmsBMoGwuNXh9qAAFATAci40oidEeVsA</code><a href="#appendix-A.1-21.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-21.2">Disclosure:<br>
            <code>WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgImxvY2FsaXR5IiwgIlx1Njc3</code><br>
            <code>MVx1NGVhY1x1OTBmZCJd</code><a href="#appendix-A.1-21.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-21.3">Contents:
<code>["Pc33JM2LchcU_lHggv_ufQ", "locality", "\u6771\u4eac\u90fd"]</code><a href="#appendix-A.1-21.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-22"><strong>Claim <code>region</code></strong>:<a href="#appendix-A.1-22" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-23.1">SHA-256 Hash: <code>PzzcVu0qbMuBGSjulfewzkesD9zutOExn5EWNwkrQ-k</code><a href="#appendix-A.1-23.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-23.2">Disclosure:<br>
            <code>WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgInJlZ2lvbiIsICJcdTZlMmZc</code><br>
            <code>dTUzM2EiXQ</code><a href="#appendix-A.1-23.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-23.3">Contents:
<code>["G02NSrQfjFXQ7Io09syajA", "region", "\u6e2f\u533a"]</code><a href="#appendix-A.1-23.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-24"><strong>Claim <code>country</code></strong>:<a href="#appendix-A.1-24" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-25.1">SHA-256 Hash: <code>uNHoWYhXsZhVJCNE2Dqy-zqt7t69gJKy5QaFv7GrMX4</code><a href="#appendix-A.1-25.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-25.2">Disclosure:<br>
            <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImNvdW50cnkiLCAiSlAiXQ</code><a href="#appendix-A.1-25.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-25.3">Contents:
<code>["lklxF5jMYlGTPUovMNIvCA", "country", "JP"]</code><a href="#appendix-A.1-25.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-26"><strong>Claim <code>birthdate</code></strong>:<a href="#appendix-A.1-26" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-27.1">SHA-256 Hash: <code>MMldOFFzB2d0umlmpTIaGerhWdU_PpYfLvKhh_f_9aY</code><a href="#appendix-A.1-27.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-27.2">Disclosure:<br>
            <code>WyJ5eXRWYmRBUEdjZ2wyckk0QzlHU29nIiwgImJpcnRoZGF0ZSIsICIxOTQw</code><br>
            <code>LTAxLTAxIl0</code><a href="#appendix-A.1-27.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-27.3">Contents:
<code>["yytVbdAPGcgl2rI4C9GSog", "birthdate", "1940-01-01"]</code><a href="#appendix-A.1-27.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-28">The following decoy digests are added:<a href="#appendix-A.1-28" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.1-29.1">
            <code>AzLlFobkJ2xiaupREPyoJz-9-NSldB6Cgjr7fUyoHzg</code><a href="#appendix-A.1-29.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-29.2">
            <code>cPYJHIZ8Vu-f9CCyVub2UfgEk8jvvXezwK1p_JneeXQ</code><a href="#appendix-A.1-29.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-29.3">
            <code>glT3hrSU7fSWgwF5UDZmWwBTw32gnUldIhi8hGVCaV4</code><a href="#appendix-A.1-29.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-29.4">
            <code>b2Dkw0jcIF9rGg8_PF8ZcvncW7zwZj5ryBWvXfrpzek</code><a href="#appendix-A.1-29.4" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-29.5">
            <code>fyGp0WTwwPv2JDQln1lSiaeobZsMWA10bQ5989-9DTs</code><a href="#appendix-A.1-29.5" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.1-29.6">
            <code>Y34zmIo0QLLOtdMpXGwjBgLvr17yEhhYT0FGofR-aIE</code><a href="#appendix-A.1-29.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-30">The following is a presentation of the SD-JWT that discloses only <code>region</code>
and <code>country</code> of the <code>address</code> property:<a href="#appendix-A.1-30" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="appendix-A.1-31">
<pre>eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0.eyJfc2QiOiBb
IkM5aW5wNllvUmFFWFI0Mjd6WUpQN1FyazFXSF84YmR3T0FfWVVyVW5HUVUiLCAiS3Vl
dDF5QWEwSElRdlluT1ZkNTloY1ZpTzlVZzZKMmtTZnFZUkJlb3d2RSIsICJNTWxkT0ZG
ekIyZDB1bWxtcFRJYUdlcmhXZFVfUHBZZkx2S2hoX2ZfOWFZIiwgIlg2WkFZT0lJMnZQ
TjQwVjd4RXhad1Z3ejd5Um1MTmNWd3Q1REw4Ukx2NGciLCAiWTM0em1JbzBRTExPdGRN
cFhHd2pCZ0x2cjE3eUVoaFlUMEZHb2ZSLWFJRSIsICJmeUdwMFdUd3dQdjJKRFFsbjFs
U2lhZW9iWnNNV0ExMGJRNTk4OS05RFRzIiwgIm9tbUZBaWNWVDhMR0hDQjB1eXd4N2ZZ
dW8zTUhZS08xNWN6LVJaRVlNNVEiLCAiczBCS1lzTFd4UVFlVTh0VmxsdE03TUtzSVJU
ckVJYTFQa0ptcXhCQmY1VSJdLCAiaXNzIjogImh0dHBzOi8vaXNzdWVyLmV4YW1wbGUu
Y29tIiwgImlhdCI6IDE2ODMwMDAwMDAsICJleHAiOiAxODgzMDAwMDAwLCAiYWRkcmVz
cyI6IHsiX3NkIjogWyI2YVVoelloWjdTSjFrVm1hZ1FBTzN1MkVUTjJDQzFhSGhlWnBL
bmFGMF9FIiwgIkF6TGxGb2JrSjJ4aWF1cFJFUHlvSnotOS1OU2xkQjZDZ2pyN2ZVeW9I
emciLCAiUHp6Y1Z1MHFiTXVCR1NqdWxmZXd6a2VzRDl6dXRPRXhuNUVXTndrclEtayIs
ICJiMkRrdzBqY0lGOXJHZzhfUEY4WmN2bmNXN3p3Wmo1cnlCV3ZYZnJwemVrIiwgImNQ
WUpISVo4VnUtZjlDQ3lWdWIyVWZnRWs4anZ2WGV6d0sxcF9KbmVlWFEiLCAiZ2xUM2hy
U1U3ZlNXZ3dGNVVEWm1Xd0JUdzMyZ25VbGRJaGk4aEdWQ2FWNCIsICJydkpkNmlxNlQ1
ZWptc0JNb0d3dU5YaDlxQUFGQVRBY2k0MG9pZEVlVnNBIiwgInVOSG9XWWhYc1poVkpD
TkUyRHF5LXpxdDd0NjlnSkt5NVFhRnY3R3JNWDQiXX0sICJfc2RfYWxnIjogInNoYS0y
NTYifQ.E2Z89MsjkWc301HB9C8NzpqBmWF1UQfljix1iG3lWQfrKpe0OxJxPyJNVENaX
x3ZXs_9-UKB02txaDXhmc15TQ~WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgInJlZ2
lvbiIsICJcdTZlMmZcdTUzM2EiXQ~WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImN
vdW50cnkiLCAiSlAiXQ~

</pre><a href="#appendix-A.1-31" class="pilcrow">¶</a>
</div>
<p id="appendix-A.1-32">After validation, the Verifier will have the following Processed SD-JWT Payload available for further handling:<a href="#appendix-A.1-32" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.1-33">
<pre>{
  "iss": "https://issuer.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "address": {
    "region": "港区",
    "country": "JP"
  }
}

</pre><a href="#appendix-A.1-33" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="example-complex-structured-sd-jwt">
<section id="appendix-A.2">
        <h3 id="name-complex-structured-sd-jwt">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-complex-structured-sd-jwt" class="section-name selfRef">Complex Structured SD-JWT</a>
        </h3>
<p id="appendix-A.2-1">In this example, an SD-JWT with a complex object is represented. The data
structures defined in OpenID Connect for Identity Assurance <span>[<a href="#OIDC.IDA" class="cite xref">OIDC.IDA</a>]</span> are used.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2-2">The Issuer is using the following user data as the input JWT Claims Set:<a href="#appendix-A.2-2" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.2-3">
<pre>{
  "verified_claims": {
    "verification": {
      "trust_framework": "de_aml",
      "time": "2012-04-23T18:25Z",
      "verification_process": "f24c6f-6d3f-4ec5-973e-b0d8506f3bc7",
      "evidence": [
        {
          "type": "document",
          "method": "pipp",
          "time": "2012-04-22T11:30Z",
          "document": {
            "type": "idcard",
            "issuer": {
              "name": "Stadt Augsburg",
              "country": "DE"
            },
            "number": "53554554",
            "date_of_issuance": "2010-03-23",
            "date_of_expiry": "2020-03-22"
          }
        }
      ]
    },
    "claims": {
      "given_name": "Max",
      "family_name": "Müller",
      "nationalities": [
        "DE"
      ],
      "birthdate": "1956-01-28",
      "place_of_birth": {
        "country": "IS",
        "locality": "Þykkvabæjarklaustur"
      },
      "address": {
        "locality": "Maxstadt",
        "postal_code": "12344",
        "country": "DE",
        "street_address": "Weidenstraße 22"
      }
    }
  },
  "birth_middle_name": "Timotheus",
  "salutation": "Dr.",
  "msisdn": "49123456789"
}

</pre><a href="#appendix-A.2-3" class="pilcrow">¶</a>
</div>
<p id="appendix-A.2-4">The following payload is used for the SD-JWT:<a href="#appendix-A.2-4" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.2-5">
<pre>{
  "_sd": [
    "-aSznId9mWM8ocuQolCllsxVggq1-vHW4OtnhUtVmWw",
    "IKbrYNn3vA7WEFrysvbdBJjDDU_EvQIr0W18vTRpUSg",
    "otkxuT14nBiwzNJ3MPaOitOl9pVnXOaEHal_xkyNfKI"
  ],
  "iss": "https://issuer.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "verified_claims": {
    "verification": {
      "_sd": [
        "7h4UE9qScvDKodXVCuoKfKBJpVBfXMF_TmAGVaZe3Sc",
        "vTwe3raHIFYgFA3xaUD2aMxFz5oDo8iBu05qKlOg9Lw"
      ],
      "trust_framework": "de_aml",
      "evidence": [
        {
          "...": "tYJ0TDucyZZCRMbROG4qRO5vkPSFRxFhUELc18CSl3k"
        }
      ]
    },
    "claims": {
      "_sd": [
        "RiOiCn6_w5ZHaadkQMrcQJf0Jte5RwurRs54231DTlo",
        "S_498bbpKzB6Eanftss0xc7cOaoneRr3pKr7NdRmsMo",
        "WNA-UNK7F_zhsAb9syWO6IIQ1uHlTmOU8r8CvJ0cIMk",
        "Wxh_sV3iRH9bgrTBJi-aYHNCLt-vjhX1sd-igOf_9lk",
        "_O-wJiH3enSB4ROHntToQT8JmLtz-mhO2f1c89XoerQ",
        "hvDXhwmGcJQsBCA2OtjuLAcwAMpDsaU0nkovcKOqWNE"
      ]
    }
  },
  "_sd_alg": "sha-256"
}

</pre><a href="#appendix-A.2-5" class="pilcrow">¶</a>
</div>
<p id="appendix-A.2-6">The digests in the SD-JWT payload reference the following Disclosures:<a href="#appendix-A.2-6" class="pilcrow">¶</a></p>
<p id="appendix-A.2-7"><strong>Claim <code>time</code></strong>:<a href="#appendix-A.2-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-8.1">SHA-256 Hash: <code>vTwe3raHIFYgFA3xaUD2aMxFz5oDo8iBu05qKlOg9Lw</code><a href="#appendix-A.2-8.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-8.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInRpbWUiLCAiMjAxMi0wNC0y</code><br>
            <code>M1QxODoyNVoiXQ</code><a href="#appendix-A.2-8.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-8.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "time", "2012-04-23T18:25Z"]</code><a href="#appendix-A.2-8.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-9"><strong>Claim <code>verification_process</code></strong>:<a href="#appendix-A.2-9" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-10.1">SHA-256 Hash: <code>7h4UE9qScvDKodXVCuoKfKBJpVBfXMF_TmAGVaZe3Sc</code><a href="#appendix-A.2-10.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-10.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgInZlcmlmaWNhdGlvbl9wcm9j</code><br>
            <code>ZXNzIiwgImYyNGM2Zi02ZDNmLTRlYzUtOTczZS1iMGQ4NTA2ZjNiYzciXQ</code><a href="#appendix-A.2-10.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-10.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "verification_process",</code><br>
            <code>"f24c6f-6d3f-4ec5-973e-b0d8506f3bc7"]</code><a href="#appendix-A.2-10.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-11"><strong>Claim <code>type</code></strong>:<a href="#appendix-A.2-11" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-12.1">SHA-256 Hash: <code>G5EnhOAOoU9X_6QMNvzFXjpEA_Rc-AEtm1bG_wcaKIk</code><a href="#appendix-A.2-12.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-12.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgInR5cGUiLCAiZG9jdW1lbnQi</code><br>
            <code>XQ</code><a href="#appendix-A.2-12.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-12.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "type", "document"]</code><a href="#appendix-A.2-12.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-13"><strong>Claim <code>method</code></strong>:<a href="#appendix-A.2-13" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-14.1">SHA-256 Hash: <code>WpxQ4HSoEtcTmCCKOeDslB_emucYLz2oO8oHNr1bEVQ</code><a href="#appendix-A.2-14.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-14.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgIm1ldGhvZCIsICJwaXBwIl0</code><a href="#appendix-A.2-14.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-14.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "method", "pipp"]</code><a href="#appendix-A.2-14.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-15"><strong>Claim <code>time</code></strong>:<a href="#appendix-A.2-15" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-16.1">SHA-256 Hash: <code>9wpjVPWuD7PK0nsQDL8B06lmdgV3LVybhHydQpTNyLI</code><a href="#appendix-A.2-16.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-16.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgInRpbWUiLCAiMjAxMi0wNC0y</code><br>
            <code>MlQxMTozMFoiXQ</code><a href="#appendix-A.2-16.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-16.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "time", "2012-04-22T11:30Z"]</code><a href="#appendix-A.2-16.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-17"><strong>Claim <code>document</code></strong>:<a href="#appendix-A.2-17" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-18.1">SHA-256 Hash: <code>IhwFrWUB63RcZq9yvgZ0XPc7Gowh3O2kqXeBIswg1B4</code><a href="#appendix-A.2-18.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-18.2">Disclosure:<br>
            <code>WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImRvY3VtZW50IiwgeyJ0eXBl</code><br>
            <code>IjogImlkY2FyZCIsICJpc3N1ZXIiOiB7Im5hbWUiOiAiU3RhZHQgQXVnc2J1</code><br>
            <code>cmciLCAiY291bnRyeSI6ICJERSJ9LCAibnVtYmVyIjogIjUzNTU0NTU0Iiwg</code><br>
            <code>ImRhdGVfb2ZfaXNzdWFuY2UiOiAiMjAxMC0wMy0yMyIsICJkYXRlX29mX2V4</code><br>
            <code>cGlyeSI6ICIyMDIwLTAzLTIyIn1d</code><a href="#appendix-A.2-18.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-18.3">Contents:
<code>["AJx-095VPrpTtN4QMOqROA", "document", {"type": "idcard",</code><br>
            <code>"issuer": {"name": "Stadt Augsburg", "country": "DE"},</code><br>
            <code>"number": "53554554", "date_of_issuance": "2010-03-23",</code><br>
            <code>"date_of_expiry": "2020-03-22"}]</code><a href="#appendix-A.2-18.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-19"><strong>Array Entry</strong>:<a href="#appendix-A.2-19" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-20.1">SHA-256 Hash: <code>tYJ0TDucyZZCRMbROG4qRO5vkPSFRxFhUELc18CSl3k</code><a href="#appendix-A.2-20.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-20.2">Disclosure:<br>
            <code>WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgeyJfc2QiOiBbIjl3cGpWUFd1</code><br>
            <code>RDdQSzBuc1FETDhCMDZsbWRnVjNMVnliaEh5ZFFwVE55TEkiLCAiRzVFbmhP</code><br>
            <code>QU9vVTlYXzZRTU52ekZYanBFQV9SYy1BRXRtMWJHX3djYUtJayIsICJJaHdG</code><br>
            <code>cldVQjYzUmNacTl5dmdaMFhQYzdHb3doM08ya3FYZUJJc3dnMUI0IiwgIldw</code><br>
            <code>eFE0SFNvRXRjVG1DQ0tPZURzbEJfZW11Y1lMejJvTzhvSE5yMWJFVlEiXX1d</code><a href="#appendix-A.2-20.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-20.3">Contents:
<code>["Pc33JM2LchcU_lHggv_ufQ", {"_sd":</code><br>
            <code>["9wpjVPWuD7PK0nsQDL8B06lmdgV3LVybhHydQpTNyLI",</code><br>
            <code>"G5EnhOAOoU9X_6QMNvzFXjpEA_Rc-AEtm1bG_wcaKIk",</code><br>
            <code>"IhwFrWUB63RcZq9yvgZ0XPc7Gowh3O2kqXeBIswg1B4",</code><br>
            <code>"WpxQ4HSoEtcTmCCKOeDslB_emucYLz2oO8oHNr1bEVQ"]}]</code><a href="#appendix-A.2-20.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-21"><strong>Claim <code>given_name</code></strong>:<a href="#appendix-A.2-21" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-22.1">SHA-256 Hash: <code>S_498bbpKzB6Eanftss0xc7cOaoneRr3pKr7NdRmsMo</code><a href="#appendix-A.2-22.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-22.2">Disclosure:<br>
            <code>WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgImdpdmVuX25hbWUiLCAiTWF4</code><br>
            <code>Il0</code><a href="#appendix-A.2-22.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-22.3">Contents:
<code>["G02NSrQfjFXQ7Io09syajA", "given_name", "Max"]</code><a href="#appendix-A.2-22.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-23"><strong>Claim <code>family_name</code></strong>:<a href="#appendix-A.2-23" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-24.1">SHA-256 Hash: <code>Wxh_sV3iRH9bgrTBJi-aYHNCLt-vjhX1sd-igOf_9lk</code><a href="#appendix-A.2-24.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-24.2">Disclosure:<br>
            <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImZhbWlseV9uYW1lIiwgIk1c</code><br>
            <code>dTAwZmNsbGVyIl0</code><a href="#appendix-A.2-24.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-24.3">Contents:
<code>["lklxF5jMYlGTPUovMNIvCA", "family_name", "M\u00fcller"]</code><a href="#appendix-A.2-24.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-25"><strong>Claim <code>nationalities</code></strong>:<a href="#appendix-A.2-25" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-26.1">SHA-256 Hash: <code>hvDXhwmGcJQsBCA2OtjuLAcwAMpDsaU0nkovcKOqWNE</code><a href="#appendix-A.2-26.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-26.2">Disclosure:<br>
            <code>WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwgIm5hdGlvbmFsaXRpZXMiLCBb</code><br>
            <code>IkRFIl1d</code><a href="#appendix-A.2-26.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-26.3">Contents:
<code>["nPuoQnkRFq3BIeAm7AnXFA", "nationalities", ["DE"]]</code><a href="#appendix-A.2-26.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-27"><strong>Claim <code>birthdate</code></strong>:<a href="#appendix-A.2-27" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-28.1">SHA-256 Hash: <code>WNA-UNK7F_zhsAb9syWO6IIQ1uHlTmOU8r8CvJ0cIMk</code><a href="#appendix-A.2-28.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-28.2">Disclosure:<br>
            <code>WyI1YlBzMUlxdVpOYTBoa2FGenp6Wk53IiwgImJpcnRoZGF0ZSIsICIxOTU2</code><br>
            <code>LTAxLTI4Il0</code><a href="#appendix-A.2-28.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-28.3">Contents:
<code>["5bPs1IquZNa0hkaFzzzZNw", "birthdate", "1956-01-28"]</code><a href="#appendix-A.2-28.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-29"><strong>Claim <code>place_of_birth</code></strong>:<a href="#appendix-A.2-29" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-30.1">SHA-256 Hash: <code>RiOiCn6_w5ZHaadkQMrcQJf0Jte5RwurRs54231DTlo</code><a href="#appendix-A.2-30.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-30.2">Disclosure:<br>
            <code>WyI1YTJXMF9OcmxFWnpmcW1rXzdQcS13IiwgInBsYWNlX29mX2JpcnRoIiwg</code><br>
            <code>eyJjb3VudHJ5IjogIklTIiwgImxvY2FsaXR5IjogIlx1MDBkZXlra3ZhYlx1</code><br>
            <code>MDBlNmphcmtsYXVzdHVyIn1d</code><a href="#appendix-A.2-30.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-30.3">Contents:
<code>["5a2W0_NrlEZzfqmk_7Pq-w", "place_of_birth", {"country":</code><br>
            <code>"IS", "locality": "\u00deykkvab\u00e6jarklaustur"}]</code><a href="#appendix-A.2-30.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-31"><strong>Claim <code>address</code></strong>:<a href="#appendix-A.2-31" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-32.1">SHA-256 Hash: <code>_O-wJiH3enSB4ROHntToQT8JmLtz-mhO2f1c89XoerQ</code><a href="#appendix-A.2-32.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-32.2">Disclosure:<br>
            <code>WyJ5MXNWVTV3ZGZKYWhWZGd3UGdTN1JRIiwgImFkZHJlc3MiLCB7ImxvY2Fs</code><br>
            <code>aXR5IjogIk1heHN0YWR0IiwgInBvc3RhbF9jb2RlIjogIjEyMzQ0IiwgImNv</code><br>
            <code>dW50cnkiOiAiREUiLCAic3RyZWV0X2FkZHJlc3MiOiAiV2VpZGVuc3RyYVx1</code><br>
            <code>MDBkZmUgMjIifV0</code><a href="#appendix-A.2-32.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-32.3">Contents:
<code>["y1sVU5wdfJahVdgwPgS7RQ", "address", {"locality":</code><br>
            <code>"Maxstadt", "postal_code": "12344", "country": "DE",</code><br>
            <code>"street_address": "Weidenstra\u00dfe 22"}]</code><a href="#appendix-A.2-32.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-33"><strong>Claim <code>birth_middle_name</code></strong>:<a href="#appendix-A.2-33" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-34.1">SHA-256 Hash: <code>otkxuT14nBiwzNJ3MPaOitOl9pVnXOaEHal_xkyNfKI</code><a href="#appendix-A.2-34.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-34.2">Disclosure:<br>
            <code>WyJIYlE0WDhzclZXM1FEeG5JSmRxeU9BIiwgImJpcnRoX21pZGRsZV9uYW1l</code><br>
            <code>IiwgIlRpbW90aGV1cyJd</code><a href="#appendix-A.2-34.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-34.3">Contents:
<code>["HbQ4X8srVW3QDxnIJdqyOA", "birth_middle_name", "Timotheus"]</code><a href="#appendix-A.2-34.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-35"><strong>Claim <code>salutation</code></strong>:<a href="#appendix-A.2-35" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-36.1">SHA-256 Hash: <code>-aSznId9mWM8ocuQolCllsxVggq1-vHW4OtnhUtVmWw</code><a href="#appendix-A.2-36.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-36.2">Disclosure:<br>
            <code>WyJDOUdTb3VqdmlKcXVFZ1lmb2pDYjFBIiwgInNhbHV0YXRpb24iLCAiRHIu</code><br>
            <code>Il0</code><a href="#appendix-A.2-36.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-36.3">Contents:
<code>["C9GSoujviJquEgYfojCb1A", "salutation", "Dr."]</code><a href="#appendix-A.2-36.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-37"><strong>Claim <code>msisdn</code></strong>:<a href="#appendix-A.2-37" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.2-38.1">SHA-256 Hash: <code>IKbrYNn3vA7WEFrysvbdBJjDDU_EvQIr0W18vTRpUSg</code><a href="#appendix-A.2-38.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-38.2">Disclosure:<br>
            <code>WyJreDVrRjE3Vi14MEptd1V4OXZndnR3IiwgIm1zaXNkbiIsICI0OTEyMzQ1</code><br>
            <code>Njc4OSJd</code><a href="#appendix-A.2-38.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.2-38.3">Contents:
<code>["kx5kF17V-x0JmwUx9vgvtw", "msisdn", "49123456789"]</code><a href="#appendix-A.2-38.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-39">The following is a presentation of the SD-JWT:<a href="#appendix-A.2-39" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="appendix-A.2-40">
<pre>eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0.eyJfc2QiOiBb
Ii1hU3puSWQ5bVdNOG9jdVFvbENsbHN4VmdncTEtdkhXNE90bmhVdFZtV3ciLCAiSUti
cllObjN2QTdXRUZyeXN2YmRCSmpERFVfRXZRSXIwVzE4dlRScFVTZyIsICJvdGt4dVQx
NG5CaXd6TkozTVBhT2l0T2w5cFZuWE9hRUhhbF94a3lOZktJIl0sICJpc3MiOiAiaHR0
cHM6Ly9pc3N1ZXIuZXhhbXBsZS5jb20iLCAiaWF0IjogMTY4MzAwMDAwMCwgImV4cCI6
IDE4ODMwMDAwMDAsICJ2ZXJpZmllZF9jbGFpbXMiOiB7InZlcmlmaWNhdGlvbiI6IHsi
X3NkIjogWyI3aDRVRTlxU2N2REtvZFhWQ3VvS2ZLQkpwVkJmWE1GX1RtQUdWYVplM1Nj
IiwgInZUd2UzcmFISUZZZ0ZBM3hhVUQyYU14Rno1b0RvOGlCdTA1cUtsT2c5THciXSwg
InRydXN0X2ZyYW1ld29yayI6ICJkZV9hbWwiLCAiZXZpZGVuY2UiOiBbeyIuLi4iOiAi
dFlKMFREdWN5WlpDUk1iUk9HNHFSTzV2a1BTRlJ4RmhVRUxjMThDU2wzayJ9XX0sICJj
bGFpbXMiOiB7Il9zZCI6IFsiUmlPaUNuNl93NVpIYWFka1FNcmNRSmYwSnRlNVJ3dXJS
czU0MjMxRFRsbyIsICJTXzQ5OGJicEt6QjZFYW5mdHNzMHhjN2NPYW9uZVJyM3BLcjdO
ZFJtc01vIiwgIldOQS1VTks3Rl96aHNBYjlzeVdPNklJUTF1SGxUbU9VOHI4Q3ZKMGNJ
TWsiLCAiV3hoX3NWM2lSSDliZ3JUQkppLWFZSE5DTHQtdmpoWDFzZC1pZ09mXzlsayIs
ICJfTy13SmlIM2VuU0I0Uk9IbnRUb1FUOEptTHR6LW1oTzJmMWM4OVhvZXJRIiwgImh2
RFhod21HY0pRc0JDQTJPdGp1TEFjd0FNcERzYVUwbmtvdmNLT3FXTkUiXX19LCAiX3Nk
X2FsZyI6ICJzaGEtMjU2In0.cc8VykI8vohgo7EeWfjz47j_54RiMwagSTJbgtgCjGJS
8yDOgsPvmxcMl0qnF838UBm_RKbruvQ-OOMcgOy-6w~WyIyR0xDNDJzS1F2ZUNmR2Zye
U5STjl3IiwgInRpbWUiLCAiMjAxMi0wNC0yM1QxODoyNVoiXQ~WyJQYzMzSk0yTGNoY1
VfbEhnZ3ZfdWZRIiwgeyJfc2QiOiBbIjl3cGpWUFd1RDdQSzBuc1FETDhCMDZsbWRnVj
NMVnliaEh5ZFFwVE55TEkiLCAiRzVFbmhPQU9vVTlYXzZRTU52ekZYanBFQV9SYy1BRX
RtMWJHX3djYUtJayIsICJJaHdGcldVQjYzUmNacTl5dmdaMFhQYzdHb3doM08ya3FYZU
JJc3dnMUI0IiwgIldweFE0SFNvRXRjVG1DQ0tPZURzbEJfZW11Y1lMejJvTzhvSE5yMW
JFVlEiXX1d~WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgIm1ldGhvZCIsICJwaXBwI
l0~WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgImdpdmVuX25hbWUiLCAiTWF4Il0~W
yJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImZhbWlseV9uYW1lIiwgIk1cdTAwZmNsb
GVyIl0~WyJ5MXNWVTV3ZGZKYWhWZGd3UGdTN1JRIiwgImFkZHJlc3MiLCB7ImxvY2Fsa
XR5IjogIk1heHN0YWR0IiwgInBvc3RhbF9jb2RlIjogIjEyMzQ0IiwgImNvdW50cnkiO
iAiREUiLCAic3RyZWV0X2FkZHJlc3MiOiAiV2VpZGVuc3RyYVx1MDBkZmUgMjIifV0~

</pre><a href="#appendix-A.2-40" class="pilcrow">¶</a>
</div>
<p id="appendix-A.2-41">The Verifier will have this Processed SD-JWT Payload available after validation:<a href="#appendix-A.2-41" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.2-42">
<pre>{
  "iss": "https://issuer.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "verified_claims": {
    "verification": {
      "trust_framework": "de_aml",
      "evidence": [
        {
          "method": "pipp"
        }
      ],
      "time": "2012-04-23T18:25Z"
    },
    "claims": {
      "given_name": "Max",
      "family_name": "Müller",
      "address": {
        "locality": "Maxstadt",
        "postal_code": "12344",
        "country": "DE",
        "street_address": "Weidenstraße 22"
      }
    }
  }
}

</pre><a href="#appendix-A.2-42" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="sd-jwt-based-verifiable-credentials-sd-jwt-vc">
<section id="appendix-A.3">
        <h3 id="name-sd-jwt-based-verifiable-cre">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-sd-jwt-based-verifiable-cre" class="section-name selfRef">SD-JWT-based Verifiable Credentials (SD-JWT VC)</a>
        </h3>
<p id="appendix-A.3-1">This example shows how the artifacts defined in this specification could be
used in the context of SD-JWT-based Verifiable
Credentials (SD-JWT VC) <span>[<a href="#I-D.ietf-oauth-sd-jwt-vc" class="cite xref">I-D.ietf-oauth-sd-jwt-vc</a>]</span> to represent the concept of
a Person Identification Data (PID) as defined in the "PID Rulebook" in <span>[<a href="#EUDIW.ARF" class="cite xref">EUDIW.ARF</a>]</span>. This example uses fictional data of
a German citizen.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<p id="appendix-A.3-2">Key Binding is applied
using the Holder's public key passed in a <code>cnf</code> claim in the SD-JWT.<a href="#appendix-A.3-2" class="pilcrow">¶</a></p>
<p id="appendix-A.3-3">The following citizen data is the input JWT Claims Set:<a href="#appendix-A.3-3" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.3-4">
<pre>{
  "vct": "urn:eudi:pid:de:1",
  "iss": "https://pid-issuer.bund.de.example",
  "given_name": "Erika",
  "family_name": "Mustermann",
  "birthdate": "1963-08-12",
  "address": {
    "street_address": "Heidestraße 17",
    "locality": "Köln",
    "postal_code": "51147",
    "country": "DE"
  },
  "nationalities": [
    "DE"
  ],
  "sex": 2,
  "birth_family_name": "Gabler",
  "place_of_birth": {
    "locality": "Berlin",
    "country": "DE"
  },
  "age_equal_or_over": {
    "12": true,
    "14": true,
    "16": true,
    "18": true,
    "21": true,
    "65": false
  },
  "age_in_years": 62,
  "age_birth_year": 1963,
  "issuance_date": "2020-03-11",
  "expiry_date": "2030-03-12",
  "issuing_authority": "DE",
  "issuing_country": "DE"
}

</pre><a href="#appendix-A.3-4" class="pilcrow">¶</a>
</div>
<p id="appendix-A.3-5">The following is the issued SD-JWT:<a href="#appendix-A.3-5" class="pilcrow">¶</a></p>
<div class="breakable lang-txt sourcecode" id="appendix-A.3-6">
<pre>eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImRjK3NkLWp3dCJ9.eyJfc2QiOiBbIjBIWm1
uU0lQejMzN2tTV2U3QzM0bC0tODhnekppLWVCSjJWel9ISndBVGciLCAiMUNybjAzV21
VZVJXcDR6d1B2dkNLWGw5WmFRcC1jZFFWX2dIZGFHU1dvdyIsICIycjAwOWR6dkh1VnJ
XclJYVDVrSk1tSG5xRUhIbldlME1MVlp3OFBBVEI4IiwgIjZaTklTRHN0NjJ5bWxyT0F
rYWRqZEQ1WnVsVDVBMjk5Sjc4U0xoTV9fT3MiLCAiNzhqZzc3LUdZQmVYOElRZm9FTFB
5TDBEWVBkbWZabzBKZ1ZpVjBfbEtDTSIsICI5MENUOEFhQlBibjVYOG5SWGtlc2p1MWk
wQnFoV3FaM3dxRDRqRi1xREdrIiwgIkkwMGZjRlVvRFhDdWNwNXl5MnVqcVBzc0RWR2F
XTmlVbGlOel9hd0QwZ2MiLCAiS2pBWGdBQTlONVdIRUR0UkloNHU1TW4xWnNXaXhoaFd
BaVgtQTRRaXdnQSIsICJMYWk2SVU2ZDdHUWFnWFI3QXZHVHJuWGdTbGQzejhFSWdfZnY
zZk9aMVdnIiwgIkxlemphYlJxaVpPWHpFWW1WWmY4Uk1pOXhBa2QzX00xTFo4VTdFNHM
zdTQiLCAiUlR6M3FUbUZOSGJwV3JyT01aUzQxRjQ3NGtGcVJ2M3ZJUHF0aDZQVWhsTSI
sICJXMTRYSGJVZmZ6dVc0SUZNanBTVGIxbWVsV3hVV2Y0Tl9vMmxka2tJcWM4IiwgIld
UcEk3UmNNM2d4WnJ1UnBYemV6U2JrYk9yOTNQVkZ2V3g4d29KM2oxY0UiLCAiX29oSlZ
JUUlCc1U0dXBkTlM0X3c0S2IxTUhxSjBMOXFMR3NoV3E2SlhRcyIsICJ5NTBjemMwSVN
DaHlfYnNiYTFkTW9VdUFPUTVBTW1PU2ZHb0VlODF2MUZVIl0sICJpc3MiOiAiaHR0cHM
6Ly9waWQtaXNzdWVyLmJ1bmQuZGUuZXhhbXBsZSIsICJpYXQiOiAxNjgzMDAwMDAwLCA
iZXhwIjogMTg4MzAwMDAwMCwgInZjdCI6ICJ1cm46ZXVkaTpwaWQ6ZGU6MSIsICJfc2R
fYWxnIjogInNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJjcnY
iOiAiUC0yNTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxpbER
sczd2Q2VHZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVjQ0U
2dDRqVDlGMkhaUSJ9fX0.St8KKuXEf0ML-qWAsCrnpDXOnGEpugC9dWsPOwYGC5xcFRc
8uAKler_2UtqFolSUHYgPPqni7qzVJbGc2MXjUw~WyIyR0xDNDJzS1F2ZUNmR2ZyeU5S
Tjl3IiwgImdpdmVuX25hbWUiLCAiRXJpa2EiXQ~WyJlbHVWNU9nM2dTTklJOEVZbnN4Q
V9BIiwgImZhbWlseV9uYW1lIiwgIk11c3Rlcm1hbm4iXQ~WyI2SWo3dE0tYTVpVlBHYm
9TNXRtdlZBIiwgImJpcnRoZGF0ZSIsICIxOTYzLTA4LTEyIl0~WyJlSThaV205UW5LUH
BOUGVOZW5IZGhRIiwgInN0cmVldF9hZGRyZXNzIiwgIkhlaWRlc3RyYVx1MDBkZmUgMT
ciXQ~WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgImxvY2FsaXR5IiwgIktcdTAwZjZ
sbiJd~WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgInBvc3RhbF9jb2RlIiwgIjUxMT
Q3Il0~WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgImNvdW50cnkiLCAiREUiXQ~WyJ
HMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgImFkZHJlc3MiLCB7Il9zZCI6IFsiQUxaRVJ
zU241V05pRVhkQ2tzVzhJNXFRdzNfTnBBblJxcFNBWkR1ZGd3OCIsICJEX19XX3VZY3Z
SejN0dlVuSUp2QkRIaVRjN0NfX3FIZDB4Tkt3SXNfdzlrIiwgImVCcENYVTFKNWRoSDJ
nNHQ4UVlOVzVFeFM5QXhVVmJsVW9kb0xZb1BobzAiLCAieE9QeTktZ0pBTEs2VWJXS0Z
MUjg1Y09CeVVEM0FiTndGZzNJM1lmUUVfSSJdfV0~WyJsa2x4RjVqTVlsR1RQVW92TU5
JdkNBIiwgIm5hdGlvbmFsaXRpZXMiLCBbIkRFIl1d~WyJuUHVvUW5rUkZxM0JJZUFtN0
FuWEZBIiwgInNleCIsIDJd~WyI1YlBzMUlxdVpOYTBoa2FGenp6Wk53IiwgImJpcnRoX
2ZhbWlseV9uYW1lIiwgIkdhYmxlciJd~WyI1YTJXMF9OcmxFWnpmcW1rXzdQcS13Iiwg
ImxvY2FsaXR5IiwgIkJlcmxpbiJd~WyJ5MXNWVTV3ZGZKYWhWZGd3UGdTN1JRIiwgImN
vdW50cnkiLCAiREUiXQ~WyJIYlE0WDhzclZXM1FEeG5JSmRxeU9BIiwgInBsYWNlX29m
X2JpcnRoIiwgeyJfc2QiOiBbIktVVmlhYUxuWTVqU01MOTBHMjlPT0xFTlBiYlhmaFNq
U1BNalphR2t4QUUiLCAiWWJzVDBTNzZWcVhDVnNkMWpVU2x3S1BEZ21BTGVCMXVaY2xG
SFhmLVVTUSJdfV0~WyJDOUdTb3VqdmlKcXVFZ1lmb2pDYjFBIiwgIjEyIiwgdHJ1ZV0~
WyJreDVrRjE3Vi14MEptd1V4OXZndnR3IiwgIjE0IiwgdHJ1ZV0~WyJIM28xdXN3UDc2
MEZpMnllR2RWQ0VRIiwgIjE2IiwgdHJ1ZV0~WyJPQktsVFZsdkxnLUFkd3FZR2JQOFpB
IiwgIjE4IiwgdHJ1ZV0~WyJNMEpiNTd0NDF1YnJrU3V5ckRUM3hBIiwgIjIxIiwgdHJ1
ZV0~WyJEc210S05ncFY0ZEFIcGpyY2Fvc0F3IiwgIjY1IiwgZmFsc2Vd~WyJlSzVvNXB
IZmd1cFBwbHRqMXFoQUp3IiwgImFnZV9lcXVhbF9vcl9vdmVyIiwgeyJfc2QiOiBbIjF
0RWl5elBSWU9Lc2Y3U3NZR01nUFpLc09UMWxRWlJ4SFhBMHI1X0J3a2siLCAiQ1ZLbmx
5NVA5MHlKczNFd3R4UWlPdFVjemFYQ1lOQTRJY3pSYW9ock1EZyIsICJhNDQtZzJHcjh
fM0FtSncyWFo4a0kxeTBRel96ZTlpT2NXMlczUkxwWEdnIiwgImdrdnkwRnV2QkJ2ajB
oczJaTnd4Y3FPbGY4bXUyLWtDRTctTmIyUXh1QlUiLCAiaHJZNEhubUY1YjVKd0M5ZVR
6YUZDVWNlSVFBYUlkaHJxVVhRTkNXYmZaSSIsICJ5NlNGclZGUnlxNTBJYlJKdmlUWnF
xalFXejB0TGl1Q21NZU8wS3FhekdJIl19XQ~WyJqN0FEZGIwVVZiMExpMGNpUGNQMGV3
IiwgImFnZV9pbl95ZWFycyIsIDYyXQ~WyJXcHhKckZ1WDh1U2kycDRodDA5anZ3IiwgI
mFnZV9iaXJ0aF95ZWFyIiwgMTk2M10~WyJhdFNtRkFDWU1iSlZLRDA1bzNKZ3RRIiwgI
mlzc3VhbmNlX2RhdGUiLCAiMjAyMC0wMy0xMSJd~WyI0S3lSMzJvSVp0LXprV3ZGcWJV
TEtnIiwgImV4cGlyeV9kYXRlIiwgIjIwMzAtMDMtMTIiXQ~WyJjaEJDc3loeWgtSjg2S
S1hd1FEaUNRIiwgImlzc3VpbmdfYXV0aG9yaXR5IiwgIkRFIl0~WyJmbE5QMW5jTXo5T
GctYzlxTUl6XzlnIiwgImlzc3VpbmdfY291bnRyeSIsICJERSJd~

</pre><a href="#appendix-A.3-6" class="pilcrow">¶</a>
</div>
<p id="appendix-A.3-7">The following payload is used for the SD-JWT:<a href="#appendix-A.3-7" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.3-8">
<pre>{
  "_sd": [
    "0HZmnSIPz337kSWe7C34l--88gzJi-eBJ2Vz_HJwATg",
    "1Crn03WmUeRWp4zwPvvCKXl9ZaQp-cdQV_gHdaGSWow",
    "2r009dzvHuVrWrRXT5kJMmHnqEHHnWe0MLVZw8PATB8",
    "6ZNISDst62ymlrOAkadjdD5ZulT5A299J78SLhM__Os",
    "78jg77-GYBeX8IQfoELPyL0DYPdmfZo0JgViV0_lKCM",
    "90CT8AaBPbn5X8nRXkesju1i0BqhWqZ3wqD4jF-qDGk",
    "I00fcFUoDXCucp5yy2ujqPssDVGaWNiUliNz_awD0gc",
    "KjAXgAA9N5WHEDtRIh4u5Mn1ZsWixhhWAiX-A4QiwgA",
    "Lai6IU6d7GQagXR7AvGTrnXgSld3z8EIg_fv3fOZ1Wg",
    "LezjabRqiZOXzEYmVZf8RMi9xAkd3_M1LZ8U7E4s3u4",
    "RTz3qTmFNHbpWrrOMZS41F474kFqRv3vIPqth6PUhlM",
    "W14XHbUffzuW4IFMjpSTb1melWxUWf4N_o2ldkkIqc8",
    "WTpI7RcM3gxZruRpXzezSbkbOr93PVFvWx8woJ3j1cE",
    "_ohJVIQIBsU4updNS4_w4Kb1MHqJ0L9qLGshWq6JXQs",
    "y50czc0ISChy_bsba1dMoUuAOQ5AMmOSfGoEe81v1FU"
  ],
  "iss": "https://pid-issuer.bund.de.example",
  "iat": 1683000000,
  "exp": 1883000000,
  "vct": "urn:eudi:pid:de:1",
  "_sd_alg": "sha-256",
  "cnf": {
    "jwk": {
      "kty": "EC",
      "crv": "P-256",
      "x": "TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc",
      "y": "ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ"
    }
  }
}

</pre><a href="#appendix-A.3-8" class="pilcrow">¶</a>
</div>
<p id="appendix-A.3-9">The digests in the SD-JWT payload reference the following Disclosures:<a href="#appendix-A.3-9" class="pilcrow">¶</a></p>
<p id="appendix-A.3-10"><strong>Claim <code>given_name</code></strong>:<a href="#appendix-A.3-10" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-11.1">SHA-256 Hash: <code>0HZmnSIPz337kSWe7C34l--88gzJi-eBJ2Vz_HJwATg</code><a href="#appendix-A.3-11.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-11.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImdpdmVuX25hbWUiLCAiRXJp</code><br>
            <code>a2EiXQ</code><a href="#appendix-A.3-11.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-11.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "given_name", "Erika"]</code><a href="#appendix-A.3-11.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-12"><strong>Claim <code>family_name</code></strong>:<a href="#appendix-A.3-12" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-13.1">SHA-256 Hash: <code>I00fcFUoDXCucp5yy2ujqPssDVGaWNiUliNz_awD0gc</code><a href="#appendix-A.3-13.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-13.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImZhbWlseV9uYW1lIiwgIk11</code><br>
            <code>c3Rlcm1hbm4iXQ</code><a href="#appendix-A.3-13.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-13.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "family_name", "Mustermann"]</code><a href="#appendix-A.3-13.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-14"><strong>Claim <code>birthdate</code></strong>:<a href="#appendix-A.3-14" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-15.1">SHA-256 Hash: <code>Lai6IU6d7GQagXR7AvGTrnXgSld3z8EIg_fv3fOZ1Wg</code><a href="#appendix-A.3-15.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-15.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImJpcnRoZGF0ZSIsICIxOTYz</code><br>
            <code>LTA4LTEyIl0</code><a href="#appendix-A.3-15.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-15.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "birthdate", "1963-08-12"]</code><a href="#appendix-A.3-15.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-16"><strong>Claim <code>street_address</code></strong>:<a href="#appendix-A.3-16" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-17.1">SHA-256 Hash: <code>ALZERsSn5WNiEXdCksW8I5qQw3_NpAnRqpSAZDudgw8</code><a href="#appendix-A.3-17.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-17.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgInN0cmVldF9hZGRyZXNzIiwg</code><br>
            <code>IkhlaWRlc3RyYVx1MDBkZmUgMTciXQ</code><a href="#appendix-A.3-17.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-17.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "street_address",</code><br>
            <code>"Heidestra\u00dfe 17"]</code><a href="#appendix-A.3-17.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-18"><strong>Claim <code>locality</code></strong>:<a href="#appendix-A.3-18" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-19.1">SHA-256 Hash: <code>D__W_uYcvRz3tvUnIJvBDHiTc7C__qHd0xNKwIs_w9k</code><a href="#appendix-A.3-19.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-19.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgImxvY2FsaXR5IiwgIktcdTAw</code><br>
            <code>ZjZsbiJd</code><a href="#appendix-A.3-19.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-19.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "locality", "K\u00f6ln"]</code><a href="#appendix-A.3-19.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-20"><strong>Claim <code>postal_code</code></strong>:<a href="#appendix-A.3-20" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-21.1">SHA-256 Hash: <code>xOPy9-gJALK6UbWKFLR85cOByUD3AbNwFg3I3YfQE_I</code><a href="#appendix-A.3-21.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-21.2">Disclosure:<br>
            <code>WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgInBvc3RhbF9jb2RlIiwgIjUx</code><br>
            <code>MTQ3Il0</code><a href="#appendix-A.3-21.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-21.3">Contents:
<code>["AJx-095VPrpTtN4QMOqROA", "postal_code", "51147"]</code><a href="#appendix-A.3-21.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-22"><strong>Claim <code>country</code></strong>:<a href="#appendix-A.3-22" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-23.1">SHA-256 Hash: <code>eBpCXU1J5dhH2g4t8QYNW5ExS9AxUVblUodoLYoPho0</code><a href="#appendix-A.3-23.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-23.2">Disclosure:<br>
            <code>WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgImNvdW50cnkiLCAiREUiXQ</code><a href="#appendix-A.3-23.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-23.3">Contents:
<code>["Pc33JM2LchcU_lHggv_ufQ", "country", "DE"]</code><a href="#appendix-A.3-23.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-24"><strong>Claim <code>address</code></strong>:<a href="#appendix-A.3-24" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-25.1">SHA-256 Hash: <code>RTz3qTmFNHbpWrrOMZS41F474kFqRv3vIPqth6PUhlM</code><a href="#appendix-A.3-25.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-25.2">Disclosure:<br>
            <code>WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgImFkZHJlc3MiLCB7Il9zZCI6</code><br>
            <code>IFsiQUxaRVJzU241V05pRVhkQ2tzVzhJNXFRdzNfTnBBblJxcFNBWkR1ZGd3</code><br>
            <code>OCIsICJEX19XX3VZY3ZSejN0dlVuSUp2QkRIaVRjN0NfX3FIZDB4Tkt3SXNf</code><br>
            <code>dzlrIiwgImVCcENYVTFKNWRoSDJnNHQ4UVlOVzVFeFM5QXhVVmJsVW9kb0xZ</code><br>
            <code>b1BobzAiLCAieE9QeTktZ0pBTEs2VWJXS0ZMUjg1Y09CeVVEM0FiTndGZzNJ</code><br>
            <code>M1lmUUVfSSJdfV0</code><a href="#appendix-A.3-25.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-25.3">Contents:
<code>["G02NSrQfjFXQ7Io09syajA", "address", {"_sd":</code><br>
            <code>["ALZERsSn5WNiEXdCksW8I5qQw3_NpAnRqpSAZDudgw8",</code><br>
            <code>"D__W_uYcvRz3tvUnIJvBDHiTc7C__qHd0xNKwIs_w9k",</code><br>
            <code>"eBpCXU1J5dhH2g4t8QYNW5ExS9AxUVblUodoLYoPho0",</code><br>
            <code>"xOPy9-gJALK6UbWKFLR85cOByUD3AbNwFg3I3YfQE_I"]}]</code><a href="#appendix-A.3-25.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-26"><strong>Claim <code>nationalities</code></strong>:<a href="#appendix-A.3-26" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-27.1">SHA-256 Hash: <code>y50czc0ISChy_bsba1dMoUuAOQ5AMmOSfGoEe81v1FU</code><a href="#appendix-A.3-27.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-27.2">Disclosure:<br>
            <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIm5hdGlvbmFsaXRpZXMiLCBb</code><br>
            <code>IkRFIl1d</code><a href="#appendix-A.3-27.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-27.3">Contents:
<code>["lklxF5jMYlGTPUovMNIvCA", "nationalities", ["DE"]]</code><a href="#appendix-A.3-27.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-28"><strong>Claim <code>sex</code></strong>:<a href="#appendix-A.3-28" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-29.1">SHA-256 Hash: <code>90CT8AaBPbn5X8nRXkesju1i0BqhWqZ3wqD4jF-qDGk</code><a href="#appendix-A.3-29.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-29.2">Disclosure:<br>
            <code>WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwgInNleCIsIDJd</code><a href="#appendix-A.3-29.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-29.3">Contents:
<code>["nPuoQnkRFq3BIeAm7AnXFA", "sex", 2]</code><a href="#appendix-A.3-29.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-30"><strong>Claim <code>birth_family_name</code></strong>:<a href="#appendix-A.3-30" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-31.1">SHA-256 Hash: <code>KjAXgAA9N5WHEDtRIh4u5Mn1ZsWixhhWAiX-A4QiwgA</code><a href="#appendix-A.3-31.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-31.2">Disclosure:<br>
            <code>WyI1YlBzMUlxdVpOYTBoa2FGenp6Wk53IiwgImJpcnRoX2ZhbWlseV9uYW1l</code><br>
            <code>IiwgIkdhYmxlciJd</code><a href="#appendix-A.3-31.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-31.3">Contents:
<code>["5bPs1IquZNa0hkaFzzzZNw", "birth_family_name", "Gabler"]</code><a href="#appendix-A.3-31.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-32"><strong>Claim <code>locality</code></strong>:<a href="#appendix-A.3-32" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-33.1">SHA-256 Hash: <code>KUViaaLnY5jSML90G29OOLENPbbXfhSjSPMjZaGkxAE</code><a href="#appendix-A.3-33.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-33.2">Disclosure:<br>
            <code>WyI1YTJXMF9OcmxFWnpmcW1rXzdQcS13IiwgImxvY2FsaXR5IiwgIkJlcmxp</code><br>
            <code>biJd</code><a href="#appendix-A.3-33.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-33.3">Contents:
<code>["5a2W0_NrlEZzfqmk_7Pq-w", "locality", "Berlin"]</code><a href="#appendix-A.3-33.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-34"><strong>Claim <code>country</code></strong>:<a href="#appendix-A.3-34" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-35.1">SHA-256 Hash: <code>YbsT0S76VqXCVsd1jUSlwKPDgmALeB1uZclFHXf-USQ</code><a href="#appendix-A.3-35.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-35.2">Disclosure:<br>
            <code>WyJ5MXNWVTV3ZGZKYWhWZGd3UGdTN1JRIiwgImNvdW50cnkiLCAiREUiXQ</code><a href="#appendix-A.3-35.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-35.3">Contents:
<code>["y1sVU5wdfJahVdgwPgS7RQ", "country", "DE"]</code><a href="#appendix-A.3-35.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-36"><strong>Claim <code>place_of_birth</code></strong>:<a href="#appendix-A.3-36" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-37.1">SHA-256 Hash: <code>1Crn03WmUeRWp4zwPvvCKXl9ZaQp-cdQV_gHdaGSWow</code><a href="#appendix-A.3-37.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-37.2">Disclosure:<br>
            <code>WyJIYlE0WDhzclZXM1FEeG5JSmRxeU9BIiwgInBsYWNlX29mX2JpcnRoIiwg</code><br>
            <code>eyJfc2QiOiBbIktVVmlhYUxuWTVqU01MOTBHMjlPT0xFTlBiYlhmaFNqU1BN</code><br>
            <code>alphR2t4QUUiLCAiWWJzVDBTNzZWcVhDVnNkMWpVU2x3S1BEZ21BTGVCMXVa</code><br>
            <code>Y2xGSFhmLVVTUSJdfV0</code><a href="#appendix-A.3-37.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-37.3">Contents:
<code>["HbQ4X8srVW3QDxnIJdqyOA", "place_of_birth", {"_sd":</code><br>
            <code>["KUViaaLnY5jSML90G29OOLENPbbXfhSjSPMjZaGkxAE",</code><br>
            <code>"YbsT0S76VqXCVsd1jUSlwKPDgmALeB1uZclFHXf-USQ"]}]</code><a href="#appendix-A.3-37.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-38"><strong>Claim <code>12</code></strong>:<a href="#appendix-A.3-38" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-39.1">SHA-256 Hash: <code>gkvy0FuvBBvj0hs2ZNwxcqOlf8mu2-kCE7-Nb2QxuBU</code><a href="#appendix-A.3-39.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-39.2">Disclosure:<br>
            <code>WyJDOUdTb3VqdmlKcXVFZ1lmb2pDYjFBIiwgIjEyIiwgdHJ1ZV0</code><a href="#appendix-A.3-39.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-39.3">Contents:
<code>["C9GSoujviJquEgYfojCb1A", "12", true]</code><a href="#appendix-A.3-39.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-40"><strong>Claim <code>14</code></strong>:<a href="#appendix-A.3-40" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-41.1">SHA-256 Hash: <code>y6SFrVFRyq50IbRJviTZqqjQWz0tLiuCmMeO0KqazGI</code><a href="#appendix-A.3-41.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-41.2">Disclosure:<br>
            <code>WyJreDVrRjE3Vi14MEptd1V4OXZndnR3IiwgIjE0IiwgdHJ1ZV0</code><a href="#appendix-A.3-41.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-41.3">Contents:
<code>["kx5kF17V-x0JmwUx9vgvtw", "14", true]</code><a href="#appendix-A.3-41.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-42"><strong>Claim <code>16</code></strong>:<a href="#appendix-A.3-42" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-43.1">SHA-256 Hash: <code>hrY4HnmF5b5JwC9eTzaFCUceIQAaIdhrqUXQNCWbfZI</code><a href="#appendix-A.3-43.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-43.2">Disclosure:<br>
            <code>WyJIM28xdXN3UDc2MEZpMnllR2RWQ0VRIiwgIjE2IiwgdHJ1ZV0</code><a href="#appendix-A.3-43.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-43.3">Contents:
<code>["H3o1uswP760Fi2yeGdVCEQ", "16", true]</code><a href="#appendix-A.3-43.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-44"><strong>Claim <code>18</code></strong>:<a href="#appendix-A.3-44" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-45.1">SHA-256 Hash: <code>CVKnly5P90yJs3EwtxQiOtUczaXCYNA4IczRaohrMDg</code><a href="#appendix-A.3-45.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-45.2">Disclosure:<br>
            <code>WyJPQktsVFZsdkxnLUFkd3FZR2JQOFpBIiwgIjE4IiwgdHJ1ZV0</code><a href="#appendix-A.3-45.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-45.3">Contents:
<code>["OBKlTVlvLg-AdwqYGbP8ZA", "18", true]</code><a href="#appendix-A.3-45.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-46"><strong>Claim <code>21</code></strong>:<a href="#appendix-A.3-46" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-47.1">SHA-256 Hash: <code>1tEiyzPRYOKsf7SsYGMgPZKsOT1lQZRxHXA0r5_Bwkk</code><a href="#appendix-A.3-47.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-47.2">Disclosure:<br>
            <code>WyJNMEpiNTd0NDF1YnJrU3V5ckRUM3hBIiwgIjIxIiwgdHJ1ZV0</code><a href="#appendix-A.3-47.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-47.3">Contents:
<code>["M0Jb57t41ubrkSuyrDT3xA", "21", true]</code><a href="#appendix-A.3-47.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-48"><strong>Claim <code>65</code></strong>:<a href="#appendix-A.3-48" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-49.1">SHA-256 Hash: <code>a44-g2Gr8_3AmJw2XZ8kI1y0Qz_ze9iOcW2W3RLpXGg</code><a href="#appendix-A.3-49.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-49.2">Disclosure:<br>
            <code>WyJEc210S05ncFY0ZEFIcGpyY2Fvc0F3IiwgIjY1IiwgZmFsc2Vd</code><a href="#appendix-A.3-49.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-49.3">Contents:
<code>["DsmtKNgpV4dAHpjrcaosAw", "65", false]</code><a href="#appendix-A.3-49.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-50"><strong>Claim <code>age_equal_or_over</code></strong>:<a href="#appendix-A.3-50" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-51.1">SHA-256 Hash: <code>2r009dzvHuVrWrRXT5kJMmHnqEHHnWe0MLVZw8PATB8</code><a href="#appendix-A.3-51.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-51.2">Disclosure:<br>
            <code>WyJlSzVvNXBIZmd1cFBwbHRqMXFoQUp3IiwgImFnZV9lcXVhbF9vcl9vdmVy</code><br>
            <code>IiwgeyJfc2QiOiBbIjF0RWl5elBSWU9Lc2Y3U3NZR01nUFpLc09UMWxRWlJ4</code><br>
            <code>SFhBMHI1X0J3a2siLCAiQ1ZLbmx5NVA5MHlKczNFd3R4UWlPdFVjemFYQ1lO</code><br>
            <code>QTRJY3pSYW9ock1EZyIsICJhNDQtZzJHcjhfM0FtSncyWFo4a0kxeTBRel96</code><br>
            <code>ZTlpT2NXMlczUkxwWEdnIiwgImdrdnkwRnV2QkJ2ajBoczJaTnd4Y3FPbGY4</code><br>
            <code>bXUyLWtDRTctTmIyUXh1QlUiLCAiaHJZNEhubUY1YjVKd0M5ZVR6YUZDVWNl</code><br>
            <code>SVFBYUlkaHJxVVhRTkNXYmZaSSIsICJ5NlNGclZGUnlxNTBJYlJKdmlUWnFx</code><br>
            <code>alFXejB0TGl1Q21NZU8wS3FhekdJIl19XQ</code><a href="#appendix-A.3-51.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-51.3">Contents:
<code>["eK5o5pHfgupPpltj1qhAJw", "age_equal_or_over", {"_sd":</code><br>
            <code>["1tEiyzPRYOKsf7SsYGMgPZKsOT1lQZRxHXA0r5_Bwkk",</code><br>
            <code>"CVKnly5P90yJs3EwtxQiOtUczaXCYNA4IczRaohrMDg",</code><br>
            <code>"a44-g2Gr8_3AmJw2XZ8kI1y0Qz_ze9iOcW2W3RLpXGg",</code><br>
            <code>"gkvy0FuvBBvj0hs2ZNwxcqOlf8mu2-kCE7-Nb2QxuBU",</code><br>
            <code>"hrY4HnmF5b5JwC9eTzaFCUceIQAaIdhrqUXQNCWbfZI",</code><br>
            <code>"y6SFrVFRyq50IbRJviTZqqjQWz0tLiuCmMeO0KqazGI"]}]</code><a href="#appendix-A.3-51.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-52"><strong>Claim <code>age_in_years</code></strong>:<a href="#appendix-A.3-52" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-53.1">SHA-256 Hash: <code>WTpI7RcM3gxZruRpXzezSbkbOr93PVFvWx8woJ3j1cE</code><a href="#appendix-A.3-53.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-53.2">Disclosure:<br>
            <code>WyJqN0FEZGIwVVZiMExpMGNpUGNQMGV3IiwgImFnZV9pbl95ZWFycyIsIDYy</code><br>
            <code>XQ</code><a href="#appendix-A.3-53.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-53.3">Contents:
<code>["j7ADdb0UVb0Li0ciPcP0ew", "age_in_years", 62]</code><a href="#appendix-A.3-53.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-54"><strong>Claim <code>age_birth_year</code></strong>:<a href="#appendix-A.3-54" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-55.1">SHA-256 Hash: <code>LezjabRqiZOXzEYmVZf8RMi9xAkd3_M1LZ8U7E4s3u4</code><a href="#appendix-A.3-55.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-55.2">Disclosure:<br>
            <code>WyJXcHhKckZ1WDh1U2kycDRodDA5anZ3IiwgImFnZV9iaXJ0aF95ZWFyIiwg</code><br>
            <code>MTk2M10</code><a href="#appendix-A.3-55.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-55.3">Contents:
<code>["WpxJrFuX8uSi2p4ht09jvw", "age_birth_year", 1963]</code><a href="#appendix-A.3-55.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-56"><strong>Claim <code>issuance_date</code></strong>:<a href="#appendix-A.3-56" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-57.1">SHA-256 Hash: <code>W14XHbUffzuW4IFMjpSTb1melWxUWf4N_o2ldkkIqc8</code><a href="#appendix-A.3-57.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-57.2">Disclosure:<br>
            <code>WyJhdFNtRkFDWU1iSlZLRDA1bzNKZ3RRIiwgImlzc3VhbmNlX2RhdGUiLCAi</code><br>
            <code>MjAyMC0wMy0xMSJd</code><a href="#appendix-A.3-57.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-57.3">Contents:
<code>["atSmFACYMbJVKD05o3JgtQ", "issuance_date", "2020-03-11"]</code><a href="#appendix-A.3-57.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-58"><strong>Claim <code>expiry_date</code></strong>:<a href="#appendix-A.3-58" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-59.1">SHA-256 Hash: <code>78jg77-GYBeX8IQfoELPyL0DYPdmfZo0JgViV0_lKCM</code><a href="#appendix-A.3-59.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-59.2">Disclosure:<br>
            <code>WyI0S3lSMzJvSVp0LXprV3ZGcWJVTEtnIiwgImV4cGlyeV9kYXRlIiwgIjIw</code><br>
            <code>MzAtMDMtMTIiXQ</code><a href="#appendix-A.3-59.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-59.3">Contents:
<code>["4KyR32oIZt-zkWvFqbULKg", "expiry_date", "2030-03-12"]</code><a href="#appendix-A.3-59.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-60"><strong>Claim <code>issuing_authority</code></strong>:<a href="#appendix-A.3-60" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-61.1">SHA-256 Hash: <code>6ZNISDst62ymlrOAkadjdD5ZulT5A299J78SLhM__Os</code><a href="#appendix-A.3-61.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-61.2">Disclosure:<br>
            <code>WyJjaEJDc3loeWgtSjg2SS1hd1FEaUNRIiwgImlzc3VpbmdfYXV0aG9yaXR5</code><br>
            <code>IiwgIkRFIl0</code><a href="#appendix-A.3-61.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-61.3">Contents:
<code>["chBCsyhyh-J86I-awQDiCQ", "issuing_authority", "DE"]</code><a href="#appendix-A.3-61.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-62"><strong>Claim <code>issuing_country</code></strong>:<a href="#appendix-A.3-62" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.3-63.1">SHA-256 Hash: <code>_ohJVIQIBsU4updNS4_w4Kb1MHqJ0L9qLGshWq6JXQs</code><a href="#appendix-A.3-63.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-63.2">Disclosure:<br>
            <code>WyJmbE5QMW5jTXo5TGctYzlxTUl6XzlnIiwgImlzc3VpbmdfY291bnRyeSIs</code><br>
            <code>ICJERSJd</code><a href="#appendix-A.3-63.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.3-63.3">Contents:
<code>["flNP1ncMz9Lg-c9qMIz_9g", "issuing_country", "DE"]</code><a href="#appendix-A.3-63.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-64">The following is an example of an SD-JWT+KB that discloses only nationality and the fact that the person is over 18 years old:<a href="#appendix-A.3-64" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="appendix-A.3-65">
<pre>eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImRjK3NkLWp3dCJ9.eyJfc2QiOiBbIjBIWm1
uU0lQejMzN2tTV2U3QzM0bC0tODhnekppLWVCSjJWel9ISndBVGciLCAiMUNybjAzV21
VZVJXcDR6d1B2dkNLWGw5WmFRcC1jZFFWX2dIZGFHU1dvdyIsICIycjAwOWR6dkh1VnJ
XclJYVDVrSk1tSG5xRUhIbldlME1MVlp3OFBBVEI4IiwgIjZaTklTRHN0NjJ5bWxyT0F
rYWRqZEQ1WnVsVDVBMjk5Sjc4U0xoTV9fT3MiLCAiNzhqZzc3LUdZQmVYOElRZm9FTFB
5TDBEWVBkbWZabzBKZ1ZpVjBfbEtDTSIsICI5MENUOEFhQlBibjVYOG5SWGtlc2p1MWk
wQnFoV3FaM3dxRDRqRi1xREdrIiwgIkkwMGZjRlVvRFhDdWNwNXl5MnVqcVBzc0RWR2F
XTmlVbGlOel9hd0QwZ2MiLCAiS2pBWGdBQTlONVdIRUR0UkloNHU1TW4xWnNXaXhoaFd
BaVgtQTRRaXdnQSIsICJMYWk2SVU2ZDdHUWFnWFI3QXZHVHJuWGdTbGQzejhFSWdfZnY
zZk9aMVdnIiwgIkxlemphYlJxaVpPWHpFWW1WWmY4Uk1pOXhBa2QzX00xTFo4VTdFNHM
zdTQiLCAiUlR6M3FUbUZOSGJwV3JyT01aUzQxRjQ3NGtGcVJ2M3ZJUHF0aDZQVWhsTSI
sICJXMTRYSGJVZmZ6dVc0SUZNanBTVGIxbWVsV3hVV2Y0Tl9vMmxka2tJcWM4IiwgIld
UcEk3UmNNM2d4WnJ1UnBYemV6U2JrYk9yOTNQVkZ2V3g4d29KM2oxY0UiLCAiX29oSlZ
JUUlCc1U0dXBkTlM0X3c0S2IxTUhxSjBMOXFMR3NoV3E2SlhRcyIsICJ5NTBjemMwSVN
DaHlfYnNiYTFkTW9VdUFPUTVBTW1PU2ZHb0VlODF2MUZVIl0sICJpc3MiOiAiaHR0cHM
6Ly9waWQtaXNzdWVyLmJ1bmQuZGUuZXhhbXBsZSIsICJpYXQiOiAxNjgzMDAwMDAwLCA
iZXhwIjogMTg4MzAwMDAwMCwgInZjdCI6ICJ1cm46ZXVkaTpwaWQ6ZGU6MSIsICJfc2R
fYWxnIjogInNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJjcnY
iOiAiUC0yNTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxpbER
sczd2Q2VHZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVjQ0U
2dDRqVDlGMkhaUSJ9fX0.St8KKuXEf0ML-qWAsCrnpDXOnGEpugC9dWsPOwYGC5xcFRc
8uAKler_2UtqFolSUHYgPPqni7qzVJbGc2MXjUw~WyJlSzVvNXBIZmd1cFBwbHRqMXFo
QUp3IiwgImFnZV9lcXVhbF9vcl9vdmVyIiwgeyJfc2QiOiBbIjF0RWl5elBSWU9Lc2Y3
U3NZR01nUFpLc09UMWxRWlJ4SFhBMHI1X0J3a2siLCAiQ1ZLbmx5NVA5MHlKczNFd3R4
UWlPdFVjemFYQ1lOQTRJY3pSYW9ock1EZyIsICJhNDQtZzJHcjhfM0FtSncyWFo4a0kx
eTBRel96ZTlpT2NXMlczUkxwWEdnIiwgImdrdnkwRnV2QkJ2ajBoczJaTnd4Y3FPbGY4
bXUyLWtDRTctTmIyUXh1QlUiLCAiaHJZNEhubUY1YjVKd0M5ZVR6YUZDVWNlSVFBYUlk
aHJxVVhRTkNXYmZaSSIsICJ5NlNGclZGUnlxNTBJYlJKdmlUWnFxalFXejB0TGl1Q21N
ZU8wS3FhekdJIl19XQ~WyJPQktsVFZsdkxnLUFkd3FZR2JQOFpBIiwgIjE4IiwgdHJ1Z
V0~WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIm5hdGlvbmFsaXRpZXMiLCBbIkRFI
l1d~eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImtiK2p3dCJ9.eyJub25jZSI6ICIxMjM
0NTY3ODkwIiwgImF1ZCI6ICJodHRwczovL3ZlcmlmaWVyLmV4YW1wbGUub3JnIiwgIml
hdCI6IDE3NDgzNDE3NzMsICJzZF9oYXNoIjogIkdQaE5KdFlzZU5sYjEtWXhmNEctMGx
POUYyaU1GNzZSdUx2cms1andXRG8ifQ.d6LAeTb_b_-WYFE5UbO9evxyKWjgT6a6n5BH
IyHNbHta5UT647E8q2e_Apis_ADE46E1otlIJFyLvDvQTir8Kw

</pre><a href="#appendix-A.3-65" class="pilcrow">¶</a>
</div>
<p id="appendix-A.3-66">This is the payload of the corresponding Key Binding JWT:<a href="#appendix-A.3-66" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.3-67">
<pre>{
  "nonce": "1234567890",
  "aud": "https://verifier.example.org",
  "iat": 1748341773,
  "sd_hash": "GPhNJtYseNlb1-Yxf4G-0lO9F2iMF76RuLvrk5jwWDo"
}

</pre><a href="#appendix-A.3-67" class="pilcrow">¶</a>
</div>
<p id="appendix-A.3-68">After validation, the Verifier will have the following Processed SD-JWT Payload available for further handling:<a href="#appendix-A.3-68" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.3-69">
<pre>{
  "iss": "https://pid-issuer.bund.de.example",
  "iat": 1683000000,
  "exp": 1883000000,
  "vct": "urn:eudi:pid:de:1",
  "cnf": {
    "jwk": {
      "kty": "EC",
      "crv": "P-256",
      "x": "TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc",
      "y": "ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ"
    }
  },
  "age_equal_or_over": {
    "18": true
  },
  "nationalities": [
    "DE"
  ]
}

</pre><a href="#appendix-A.3-69" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="w3c-verifiable-credentials-data-model-v2-0">
<section id="appendix-A.4">
        <h3 id="name-w3c-verifiable-credentials-">
<a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-w3c-verifiable-credentials-" class="section-name selfRef">W3C Verifiable Credentials Data Model v2.0</a>
        </h3>
<p id="appendix-A.4-1">This non-normative example illustrates how the artifacts defined in this specification
could be used to express a W3C Verifiable Credentials Data Model v2.0 <span>[<a href="#VC_DATA_v2.0" class="cite xref">VC_DATA_v2.0</a>]</span> payload.<a href="#appendix-A.4-1" class="pilcrow">¶</a></p>
<p id="appendix-A.4-2">Key Binding is applied
using the Holder's public key passed in a <code>cnf</code> claim in the SD-JWT.<a href="#appendix-A.4-2" class="pilcrow">¶</a></p>
<p id="appendix-A.4-3">The following is the input JWT Claims Set:<a href="#appendix-A.4-3" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.4-4">
<pre>{
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://w3id.org/vaccination/v1"
  ],
  "type": [
    "VerifiableCredential",
    "VaccinationCertificate"
  ],
  "issuer": "https://example.com/issuer",
  "issuanceDate": "2023-02-09T11:01:59Z",
  "expirationDate": "2028-02-08T11:01:59Z",
  "name": "COVID-19 Vaccination Certificate",
  "description": "COVID-19 Vaccination Certificate",
  "credentialSubject": {
    "vaccine": {
      "type": "Vaccine",
      "atcCode": "J07BX03",
      "medicinalProductName": "COVID-19 Vaccine Moderna",
      "marketingAuthorizationHolder": "Moderna Biotech"
    },
    "nextVaccinationDate": "2021-08-16T13:40:12Z",
    "countryOfVaccination": "GE",
    "dateOfVaccination": "2021-06-23T13:40:12Z",
    "order": "3/3",
    "recipient": {
      "type": "VaccineRecipient",
      "gender": "Female",
      "birthDate": "1961-08-17",
      "givenName": "Marion",
      "familyName": "Mustermann"
    },
    "type": "VaccinationEvent",
    "administeringCentre": "Praxis Sommergarten",
    "batchNumber": "1626382736",
    "healthProfessional": "883110000015376"
  }
}

</pre><a href="#appendix-A.4-4" class="pilcrow">¶</a>
</div>
<p id="appendix-A.4-5">The following is the issued SD-JWT:<a href="#appendix-A.4-5" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="appendix-A.4-6">
<pre>eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0.eyJAY29udGV4
dCI6IFsiaHR0cHM6Ly93d3cudzMub3JnLzIwMTgvY3JlZGVudGlhbHMvdjEiLCAiaHR0
cHM6Ly93M2lkLm9yZy92YWNjaW5hdGlvbi92MSJdLCAidHlwZSI6IFsiVmVyaWZpYWJs
ZUNyZWRlbnRpYWwiLCAiVmFjY2luYXRpb25DZXJ0aWZpY2F0ZSJdLCAiaXNzdWVyIjog
Imh0dHBzOi8vZXhhbXBsZS5jb20vaXNzdWVyIiwgImlzc3VhbmNlRGF0ZSI6ICIyMDIz
LTAyLTA5VDExOjAxOjU5WiIsICJleHBpcmF0aW9uRGF0ZSI6ICIyMDI4LTAyLTA4VDEx
OjAxOjU5WiIsICJuYW1lIjogIkNPVklELTE5IFZhY2NpbmF0aW9uIENlcnRpZmljYXRl
IiwgImRlc2NyaXB0aW9uIjogIkNPVklELTE5IFZhY2NpbmF0aW9uIENlcnRpZmljYXRl
IiwgImNyZWRlbnRpYWxTdWJqZWN0IjogeyJfc2QiOiBbIjFWX0stOGxEUThpRlhCRlhi
Wlk5ZWhxUjRIYWJXQ2k1VDB5Ykl6WlBld3ciLCAiSnpqTGd0UDI5ZFAtQjN0ZDEyUDY3
NGdGbUsyenk4MUhNdEJnZjZDSk5XZyIsICJSMmZHYmZBMDdaX1lsa3FtTlp5bWExeHl5
eDFYc3RJaVM2QjFZYmwySlo0IiwgIlRDbXpybDdLMmdldl9kdTdwY01JeXpSTEhwLVll
Zy1GbF9jeHRyVXZQeGciLCAiVjdrSkJMSzc4VG1WRE9tcmZKN1p1VVBIdUtfMmNjN3la
UmE0cVYxdHh3TSIsICJiMGVVc3ZHUC1PRERkRm9ZNE5semxYYzN0RHNsV0p0Q0pGNzVO
dzhPal9nIiwgInpKS19lU01YandNOGRYbU1aTG5JOEZHTTA4ekozX3ViR2VFTUotNVRC
eTAiXSwgInZhY2NpbmUiOiB7Il9zZCI6IFsiMWNGNWhMd2toTU5JYXFmV0pyWEk3Tk1X
ZWRMLTlmNlkyUEE1MnlQalNaSSIsICJIaXk2V1d1ZUxENWJuMTYyOTh0UHY3R1hobWxk
TURPVG5CaS1DWmJwaE5vIiwgIkxiMDI3cTY5MWpYWGwtakM3M3ZpOGViT2o5c214M0Mt
X29nN2dBNFRCUUUiXSwgInR5cGUiOiAiVmFjY2luZSJ9LCAicmVjaXBpZW50IjogeyJf
c2QiOiBbIjFsU1FCTlkyNHEwVGg2T0d6dGhxLTctNGw2Y0FheHJZWE9HWnBlV19sbkEi
LCAiM256THE4MU0yb04wNndkdjFzaEh2T0VKVnhaNUtMbWREa0hFREpBQldFSSIsICJQ
bjFzV2kwNkc0TEpybm4tX1JUMFJiTV9IVGR4blBKUXVYMmZ6V3ZfSk9VIiwgImxGOXV6
ZHN3N0hwbEdMYzcxNFRyNFdPN01HSnphN3R0N1FGbGVDWDRJdHciXSwgInR5cGUiOiAi
VmFjY2luZVJlY2lwaWVudCJ9LCAidHlwZSI6ICJWYWNjaW5hdGlvbkV2ZW50In0sICJf
c2RfYWxnIjogInNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJj
cnYiOiAiUC0yNTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxp
bERsczd2Q2VHZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVj
Q0U2dDRqVDlGMkhaUSJ9fX0.bBLuS0voQWXm_8Y61p70X6m7DzXXNIE7Zlr5lIHWXC67
V2PB7DyjiRxRr_tcqhyfL_0_CAeojWxHBAplfFrUfQ~WyIyR0xDNDJzS1F2ZUNmR2Zye
U5STjl3IiwgImF0Y0NvZGUiLCAiSjA3QlgwMyJd~WyJlbHVWNU9nM2dTTklJOEVZbnN4
QV9BIiwgIm1lZGljaW5hbFByb2R1Y3ROYW1lIiwgIkNPVklELTE5IFZhY2NpbmUgTW9k
ZXJuYSJd~WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgIm1hcmtldGluZ0F1dGhvcml
6YXRpb25Ib2xkZXIiLCAiTW9kZXJuYSBCaW90ZWNoIl0~WyJlSThaV205UW5LUHBOUGV
OZW5IZGhRIiwgIm5leHRWYWNjaW5hdGlvbkRhdGUiLCAiMjAyMS0wOC0xNlQxMzo0MDo
xMloiXQ~WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgImNvdW50cnlPZlZhY2NpbmF0
aW9uIiwgIkdFIl0~WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImRhdGVPZlZhY2Np
bmF0aW9uIiwgIjIwMjEtMDYtMjNUMTM6NDA6MTJaIl0~WyJQYzMzSk0yTGNoY1VfbEhn
Z3ZfdWZRIiwgIm9yZGVyIiwgIjMvMyJd~WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiw
gImdlbmRlciIsICJGZW1hbGUiXQ~WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImJp
cnRoRGF0ZSIsICIxOTYxLTA4LTE3Il0~WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwg
ImdpdmVuTmFtZSIsICJNYXJpb24iXQ~WyI1YlBzMUlxdVpOYTBoa2FGenp6Wk53IiwgI
mZhbWlseU5hbWUiLCAiTXVzdGVybWFubiJd~WyI1YTJXMF9OcmxFWnpmcW1rXzdQcS13
IiwgImFkbWluaXN0ZXJpbmdDZW50cmUiLCAiUHJheGlzIFNvbW1lcmdhcnRlbiJd~WyJ
5MXNWVTV3ZGZKYWhWZGd3UGdTN1JRIiwgImJhdGNoTnVtYmVyIiwgIjE2MjYzODI3MzY
iXQ~WyJIYlE0WDhzclZXM1FEeG5JSmRxeU9BIiwgImhlYWx0aFByb2Zlc3Npb25hbCIs
ICI4ODMxMTAwMDAwMTUzNzYiXQ~

</pre><a href="#appendix-A.4-6" class="pilcrow">¶</a>
</div>
<p id="appendix-A.4-7">The following payload is used for the SD-JWT:<a href="#appendix-A.4-7" class="pilcrow">¶</a></p>
<div class="breakable lang-json sourcecode" id="appendix-A.4-8">
<pre>{
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://w3id.org/vaccination/v1"
  ],
  "type": [
    "VerifiableCredential",
    "VaccinationCertificate"
  ],
  "issuer": "https://example.com/issuer",
  "issuanceDate": "2023-02-09T11:01:59Z",
  "expirationDate": "2028-02-08T11:01:59Z",
  "name": "COVID-19 Vaccination Certificate",
  "description": "COVID-19 Vaccination Certificate",
  "credentialSubject": {
    "_sd": [
      "1V_K-8lDQ8iFXBFXbZY9ehqR4HabWCi5T0ybIzZPeww",
      "JzjLgtP29dP-B3td12P674gFmK2zy81HMtBgf6CJNWg",
      "R2fGbfA07Z_YlkqmNZyma1xyyx1XstIiS6B1Ybl2JZ4",
      "TCmzrl7K2gev_du7pcMIyzRLHp-Yeg-Fl_cxtrUvPxg",
      "V7kJBLK78TmVDOmrfJ7ZuUPHuK_2cc7yZRa4qV1txwM",
      "b0eUsvGP-ODDdFoY4NlzlXc3tDslWJtCJF75Nw8Oj_g",
      "zJK_eSMXjwM8dXmMZLnI8FGM08zJ3_ubGeEMJ-5TBy0"
    ],
    "vaccine": {
      "_sd": [
        "1cF5hLwkhMNIaqfWJrXI7NMWedL-9f6Y2PA52yPjSZI",
        "Hiy6WWueLD5bn16298tPv7GXhmldMDOTnBi-CZbphNo",
        "Lb027q691jXXl-jC73vi8ebOj9smx3C-_og7gA4TBQE"
      ],
      "type": "Vaccine"
    },
    "recipient": {
      "_sd": [
        "1lSQBNY24q0Th6OGzthq-7-4l6cAaxrYXOGZpeW_lnA",
        "3nzLq81M2oN06wdv1shHvOEJVxZ5KLmdDkHEDJABWEI",
        "Pn1sWi06G4LJrnn-_RT0RbM_HTdxnPJQuX2fzWv_JOU",
        "lF9uzdsw7HplGLc714Tr4WO7MGJza7tt7QFleCX4Itw"
      ],
      "type": "VaccineRecipient"
    },
    "type": "VaccinationEvent"
  },
  "_sd_alg": "sha-256",
  "cnf": {
    "jwk": {
      "kty": "EC",
      "crv": "P-256",
      "x": "TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc",
      "y": "ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ"
    }
  }
}

</pre><a href="#appendix-A.4-8" class="pilcrow">¶</a>
</div>
<p id="appendix-A.4-9">The digests in the SD-JWT payload reference the following Disclosures:<a href="#appendix-A.4-9" class="pilcrow">¶</a></p>
<p id="appendix-A.4-10"><strong>Claim <code>atcCode</code></strong>:<a href="#appendix-A.4-10" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-11.1">SHA-256 Hash: <code>1cF5hLwkhMNIaqfWJrXI7NMWedL-9f6Y2PA52yPjSZI</code><a href="#appendix-A.4-11.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-11.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImF0Y0NvZGUiLCAiSjA3Qlgw</code><br>
            <code>MyJd</code><a href="#appendix-A.4-11.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-11.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "atcCode", "J07BX03"]</code><a href="#appendix-A.4-11.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-12"><strong>Claim <code>medicinalProductName</code></strong>:<a href="#appendix-A.4-12" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-13.1">SHA-256 Hash: <code>Hiy6WWueLD5bn16298tPv7GXhmldMDOTnBi-CZbphNo</code><a href="#appendix-A.4-13.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-13.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgIm1lZGljaW5hbFByb2R1Y3RO</code><br>
            <code>YW1lIiwgIkNPVklELTE5IFZhY2NpbmUgTW9kZXJuYSJd</code><a href="#appendix-A.4-13.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-13.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "medicinalProductName", "COVID-19</code><br>
            <code>Vaccine Moderna"]</code><a href="#appendix-A.4-13.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-14"><strong>Claim <code>marketingAuthorizationHolder</code></strong>:<a href="#appendix-A.4-14" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-15.1">SHA-256 Hash: <code>Lb027q691jXXl-jC73vi8ebOj9smx3C-_og7gA4TBQE</code><a href="#appendix-A.4-15.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-15.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgIm1hcmtldGluZ0F1dGhvcml6</code><br>
            <code>YXRpb25Ib2xkZXIiLCAiTW9kZXJuYSBCaW90ZWNoIl0</code><a href="#appendix-A.4-15.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-15.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "marketingAuthorizationHolder",</code><br>
            <code>"Moderna Biotech"]</code><a href="#appendix-A.4-15.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-16"><strong>Claim <code>nextVaccinationDate</code></strong>:<a href="#appendix-A.4-16" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-17.1">SHA-256 Hash: <code>R2fGbfA07Z_YlkqmNZyma1xyyx1XstIiS6B1Ybl2JZ4</code><a href="#appendix-A.4-17.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-17.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgIm5leHRWYWNjaW5hdGlvbkRh</code><br>
            <code>dGUiLCAiMjAyMS0wOC0xNlQxMzo0MDoxMloiXQ</code><a href="#appendix-A.4-17.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-17.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "nextVaccinationDate",</code><br>
            <code>"2021-08-16T13:40:12Z"]</code><a href="#appendix-A.4-17.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-18"><strong>Claim <code>countryOfVaccination</code></strong>:<a href="#appendix-A.4-18" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-19.1">SHA-256 Hash: <code>JzjLgtP29dP-B3td12P674gFmK2zy81HMtBgf6CJNWg</code><a href="#appendix-A.4-19.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-19.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgImNvdW50cnlPZlZhY2NpbmF0</code><br>
            <code>aW9uIiwgIkdFIl0</code><a href="#appendix-A.4-19.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-19.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "countryOfVaccination", "GE"]</code><a href="#appendix-A.4-19.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-20"><strong>Claim <code>dateOfVaccination</code></strong>:<a href="#appendix-A.4-20" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-21.1">SHA-256 Hash: <code>zJK_eSMXjwM8dXmMZLnI8FGM08zJ3_ubGeEMJ-5TBy0</code><a href="#appendix-A.4-21.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-21.2">Disclosure:<br>
            <code>WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImRhdGVPZlZhY2NpbmF0aW9u</code><br>
            <code>IiwgIjIwMjEtMDYtMjNUMTM6NDA6MTJaIl0</code><a href="#appendix-A.4-21.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-21.3">Contents:
<code>["AJx-095VPrpTtN4QMOqROA", "dateOfVaccination",</code><br>
            <code>"2021-06-23T13:40:12Z"]</code><a href="#appendix-A.4-21.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-22"><strong>Claim <code>order</code></strong>:<a href="#appendix-A.4-22" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-23.1">SHA-256 Hash: <code>b0eUsvGP-ODDdFoY4NlzlXc3tDslWJtCJF75Nw8Oj_g</code><a href="#appendix-A.4-23.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-23.2">Disclosure:<br>
            <code>WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgIm9yZGVyIiwgIjMvMyJd</code><a href="#appendix-A.4-23.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-23.3">Contents:
<code>["Pc33JM2LchcU_lHggv_ufQ", "order", "3/3"]</code><a href="#appendix-A.4-23.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-24"><strong>Claim <code>gender</code></strong>:<a href="#appendix-A.4-24" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-25.1">SHA-256 Hash: <code>3nzLq81M2oN06wdv1shHvOEJVxZ5KLmdDkHEDJABWEI</code><a href="#appendix-A.4-25.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-25.2">Disclosure:<br>
            <code>WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgImdlbmRlciIsICJGZW1hbGUi</code><br>
            <code>XQ</code><a href="#appendix-A.4-25.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-25.3">Contents:
<code>["G02NSrQfjFXQ7Io09syajA", "gender", "Female"]</code><a href="#appendix-A.4-25.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-26"><strong>Claim <code>birthDate</code></strong>:<a href="#appendix-A.4-26" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-27.1">SHA-256 Hash: <code>Pn1sWi06G4LJrnn-_RT0RbM_HTdxnPJQuX2fzWv_JOU</code><a href="#appendix-A.4-27.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-27.2">Disclosure:<br>
            <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImJpcnRoRGF0ZSIsICIxOTYx</code><br>
            <code>LTA4LTE3Il0</code><a href="#appendix-A.4-27.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-27.3">Contents:
<code>["lklxF5jMYlGTPUovMNIvCA", "birthDate", "1961-08-17"]</code><a href="#appendix-A.4-27.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-28"><strong>Claim <code>givenName</code></strong>:<a href="#appendix-A.4-28" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-29.1">SHA-256 Hash: <code>lF9uzdsw7HplGLc714Tr4WO7MGJza7tt7QFleCX4Itw</code><a href="#appendix-A.4-29.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-29.2">Disclosure:<br>
            <code>WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwgImdpdmVuTmFtZSIsICJNYXJp</code><br>
            <code>b24iXQ</code><a href="#appendix-A.4-29.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-29.3">Contents:
<code>["nPuoQnkRFq3BIeAm7AnXFA", "givenName", "Marion"]</code><a href="#appendix-A.4-29.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-30"><strong>Claim <code>familyName</code></strong>:<a href="#appendix-A.4-30" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-31.1">SHA-256 Hash: <code>1lSQBNY24q0Th6OGzthq-7-4l6cAaxrYXOGZpeW_lnA</code><a href="#appendix-A.4-31.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-31.2">Disclosure:<br>
            <code>WyI1YlBzMUlxdVpOYTBoa2FGenp6Wk53IiwgImZhbWlseU5hbWUiLCAiTXVz</code><br>
            <code>dGVybWFubiJd</code><a href="#appendix-A.4-31.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-31.3">Contents:
<code>["5bPs1IquZNa0hkaFzzzZNw", "familyName", "Mustermann"]</code><a href="#appendix-A.4-31.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-32"><strong>Claim <code>administeringCentre</code></strong>:<a href="#appendix-A.4-32" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-33.1">SHA-256 Hash: <code>TCmzrl7K2gev_du7pcMIyzRLHp-Yeg-Fl_cxtrUvPxg</code><a href="#appendix-A.4-33.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-33.2">Disclosure:<br>
            <code>WyI1YTJXMF9OcmxFWnpmcW1rXzdQcS13IiwgImFkbWluaXN0ZXJpbmdDZW50</code><br>
            <code>cmUiLCAiUHJheGlzIFNvbW1lcmdhcnRlbiJd</code><a href="#appendix-A.4-33.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-33.3">Contents:
<code>["5a2W0_NrlEZzfqmk_7Pq-w", "administeringCentre", "Praxis</code><br>
            <code>Sommergarten"]</code><a href="#appendix-A.4-33.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-34"><strong>Claim <code>batchNumber</code></strong>:<a href="#appendix-A.4-34" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-35.1">SHA-256 Hash: <code>V7kJBLK78TmVDOmrfJ7ZuUPHuK_2cc7yZRa4qV1txwM</code><a href="#appendix-A.4-35.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-35.2">Disclosure:<br>
            <code>WyJ5MXNWVTV3ZGZKYWhWZGd3UGdTN1JRIiwgImJhdGNoTnVtYmVyIiwgIjE2</code><br>
            <code>MjYzODI3MzYiXQ</code><a href="#appendix-A.4-35.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-35.3">Contents:
<code>["y1sVU5wdfJahVdgwPgS7RQ", "batchNumber", "1626382736"]</code><a href="#appendix-A.4-35.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-36"><strong>Claim <code>healthProfessional</code></strong>:<a href="#appendix-A.4-36" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-A.4-37.1">SHA-256 Hash: <code>1V_K-8lDQ8iFXBFXbZY9ehqR4HabWCi5T0ybIzZPeww</code><a href="#appendix-A.4-37.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-37.2">Disclosure:<br>
            <code>WyJIYlE0WDhzclZXM1FEeG5JSmRxeU9BIiwgImhlYWx0aFByb2Zlc3Npb25h</code><br>
            <code>bCIsICI4ODMxMTAwMDAwMTUzNzYiXQ</code><a href="#appendix-A.4-37.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="appendix-A.4-37.3">Contents:
<code>["HbQ4X8srVW3QDxnIJdqyOA", "healthProfessional",</code><br>
            <code>"883110000015376"]</code><a href="#appendix-A.4-37.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-38">This is an example of an SD-JWT+KB that discloses only <code>type</code>, <code>medicinalProductName</code>, <code>atcCode</code> of the vaccine, <code>type</code> of the <code>recipient</code>, <code>type</code>, <code>order</code> and <code>dateOfVaccination</code>:<a href="#appendix-A.4-38" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="appendix-A.4-39">
<pre>eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0.eyJAY29udGV4
dCI6IFsiaHR0cHM6Ly93d3cudzMub3JnLzIwMTgvY3JlZGVudGlhbHMvdjEiLCAiaHR0
cHM6Ly93M2lkLm9yZy92YWNjaW5hdGlvbi92MSJdLCAidHlwZSI6IFsiVmVyaWZpYWJs
ZUNyZWRlbnRpYWwiLCAiVmFjY2luYXRpb25DZXJ0aWZpY2F0ZSJdLCAiaXNzdWVyIjog
Imh0dHBzOi8vZXhhbXBsZS5jb20vaXNzdWVyIiwgImlzc3VhbmNlRGF0ZSI6ICIyMDIz
LTAyLTA5VDExOjAxOjU5WiIsICJleHBpcmF0aW9uRGF0ZSI6ICIyMDI4LTAyLTA4VDEx
OjAxOjU5WiIsICJuYW1lIjogIkNPVklELTE5IFZhY2NpbmF0aW9uIENlcnRpZmljYXRl
IiwgImRlc2NyaXB0aW9uIjogIkNPVklELTE5IFZhY2NpbmF0aW9uIENlcnRpZmljYXRl
IiwgImNyZWRlbnRpYWxTdWJqZWN0IjogeyJfc2QiOiBbIjFWX0stOGxEUThpRlhCRlhi
Wlk5ZWhxUjRIYWJXQ2k1VDB5Ykl6WlBld3ciLCAiSnpqTGd0UDI5ZFAtQjN0ZDEyUDY3
NGdGbUsyenk4MUhNdEJnZjZDSk5XZyIsICJSMmZHYmZBMDdaX1lsa3FtTlp5bWExeHl5
eDFYc3RJaVM2QjFZYmwySlo0IiwgIlRDbXpybDdLMmdldl9kdTdwY01JeXpSTEhwLVll
Zy1GbF9jeHRyVXZQeGciLCAiVjdrSkJMSzc4VG1WRE9tcmZKN1p1VVBIdUtfMmNjN3la
UmE0cVYxdHh3TSIsICJiMGVVc3ZHUC1PRERkRm9ZNE5semxYYzN0RHNsV0p0Q0pGNzVO
dzhPal9nIiwgInpKS19lU01YandNOGRYbU1aTG5JOEZHTTA4ekozX3ViR2VFTUotNVRC
eTAiXSwgInZhY2NpbmUiOiB7Il9zZCI6IFsiMWNGNWhMd2toTU5JYXFmV0pyWEk3Tk1X
ZWRMLTlmNlkyUEE1MnlQalNaSSIsICJIaXk2V1d1ZUxENWJuMTYyOTh0UHY3R1hobWxk
TURPVG5CaS1DWmJwaE5vIiwgIkxiMDI3cTY5MWpYWGwtakM3M3ZpOGViT2o5c214M0Mt
X29nN2dBNFRCUUUiXSwgInR5cGUiOiAiVmFjY2luZSJ9LCAicmVjaXBpZW50IjogeyJf
c2QiOiBbIjFsU1FCTlkyNHEwVGg2T0d6dGhxLTctNGw2Y0FheHJZWE9HWnBlV19sbkEi
LCAiM256THE4MU0yb04wNndkdjFzaEh2T0VKVnhaNUtMbWREa0hFREpBQldFSSIsICJQ
bjFzV2kwNkc0TEpybm4tX1JUMFJiTV9IVGR4blBKUXVYMmZ6V3ZfSk9VIiwgImxGOXV6
ZHN3N0hwbEdMYzcxNFRyNFdPN01HSnphN3R0N1FGbGVDWDRJdHciXSwgInR5cGUiOiAi
VmFjY2luZVJlY2lwaWVudCJ9LCAidHlwZSI6ICJWYWNjaW5hdGlvbkV2ZW50In0sICJf
c2RfYWxnIjogInNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJj
cnYiOiAiUC0yNTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxp
bERsczd2Q2VHZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVj
Q0U2dDRqVDlGMkhaUSJ9fX0.bBLuS0voQWXm_8Y61p70X6m7DzXXNIE7Zlr5lIHWXC67
V2PB7DyjiRxRr_tcqhyfL_0_CAeojWxHBAplfFrUfQ~WyJQYzMzSk0yTGNoY1VfbEhnZ
3ZfdWZRIiwgIm9yZGVyIiwgIjMvMyJd~WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwg
ImRhdGVPZlZhY2NpbmF0aW9uIiwgIjIwMjEtMDYtMjNUMTM6NDA6MTJaIl0~WyIyR0xD
NDJzS1F2ZUNmR2ZyeU5STjl3IiwgImF0Y0NvZGUiLCAiSjA3QlgwMyJd~WyJlbHVWNU9
nM2dTTklJOEVZbnN4QV9BIiwgIm1lZGljaW5hbFByb2R1Y3ROYW1lIiwgIkNPVklELTE
5IFZhY2NpbmUgTW9kZXJuYSJd~eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImtiK2p3dC
J9.eyJub25jZSI6ICIxMjM0NTY3ODkwIiwgImF1ZCI6ICJodHRwczovL3ZlcmlmaWVyL
mV4YW1wbGUub3JnIiwgImlhdCI6IDE3NDgzNDE3NzMsICJzZF9oYXNoIjogInB4aVdzM
WpqNHNyejJsYzNqM0gybTNZdDJEVUp5RFdpeExBYzlQcDVZT3cifQ.snYhKULUQyR1Nc
LZGKT-8PBso5HysXY0KBw4JNXPSdpiUZ9UKXTc1jGxgLi69w2r2NeVAYYC3XfV9BujqK
ePRw

</pre><a href="#appendix-A.4-39" class="pilcrow">¶</a>
</div>
<p id="appendix-A.4-40">After the validation, the Verifier will have the following Processed SD-JWT Payload available for further handling:<a href="#appendix-A.4-40" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.4-41">
<pre>{
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://w3id.org/vaccination/v1"
  ],
  "type": [
    "VerifiableCredential",
    "VaccinationCertificate"
  ],
  "issuer": "https://example.com/issuer",
  "issuanceDate": "2023-02-09T11:01:59Z",
  "expirationDate": "2028-02-08T11:01:59Z",
  "name": "COVID-19 Vaccination Certificate",
  "description": "COVID-19 Vaccination Certificate",
  "credentialSubject": {
    "vaccine": {
      "type": "Vaccine",
      "atcCode": "J07BX03",
      "medicinalProductName": "COVID-19 Vaccine Moderna"
    },
    "recipient": {
      "type": "VaccineRecipient"
    },
    "type": "VaccinationEvent",
    "order": "3/3",
    "dateOfVaccination": "2021-06-23T13:40:12Z"
  },
  "cnf": {
    "jwk": {
      "kty": "EC",
      "crv": "P-256",
      "x": "TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc",
      "y": "ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ"
    }
  }
}

</pre><a href="#appendix-A.4-41" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="elliptic-curve-key-used-in-the-examples">
<section id="appendix-A.5">
        <h3 id="name-elliptic-curve-key-used-in-">
<a href="#appendix-A.5" class="section-number selfRef">A.5. </a><a href="#name-elliptic-curve-key-used-in-" class="section-name selfRef">Elliptic Curve Key Used in the Examples</a>
        </h3>
<p id="appendix-A.5-1">The following Elliptic Curve public key, represented in JWK format, can be used to validate the Issuer signatures in the above examples:<a href="#appendix-A.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.5-2">
<pre>{
  "kty": "EC",
  "crv": "P-256",
  "x": "b28d4MwZMjw8-00CG4xfnn9SLMVMM19SlqZpVb_uNtQ",
  "y": "Xv5zWwuoaTgdS6hV43yI6gBwTnjukmFQQnJ_kCxzqk8"
}

</pre><a href="#appendix-A.5-2" class="pilcrow">¶</a>
</div>
<p id="appendix-A.5-3">The public key used to validate a Key Binding JWT can be found in the examples as the content of the <code>cnf</code> claim.<a href="#appendix-A.5-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="disclosure_format_considerations">
<section id="appendix-B">
      <h2 id="name-disclosure-format-considera">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-disclosure-format-considera" class="section-name selfRef">Disclosure Format Considerations</a>
      </h2>
<p id="appendix-B-1">As described in <a href="#creating_disclosures" class="auto internal xref">Section 4.2</a>, the Disclosure structure is JSON containing salt and the
cleartext content of a claim, which is base64url encoded. The encoded value is the input used to calculate
a digest for the respective claim. The inclusion of digest value in the signed JWT ensures the integrity of
the claim value. Using encoded content as the input to the integrity mechanism is conceptually similar to the
approach in JWS and particularly useful when the content, like JSON, can have different representations but is semantically equivalent, thus avoiding canonicalization. Some further discussion of the considerations around this design decision follows.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">When receiving an SD-JWT, a Verifier must
be able to re-compute digests of the disclosed claim values and, given
the same input values, obtain the same digest values as signed by the
Issuer.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">Usually, JSON-based formats transport claim values as simple properties of a JSON object such as this:<a href="#appendix-B-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B-4">
<pre>...
  "family_name": "Möbius",
  "address": {
    "street_address": "Schulstr. 12",
    "locality": "Schulpforta"
  }
...

</pre><a href="#appendix-B-4" class="pilcrow">¶</a>
</div>
<p id="appendix-B-5">However, a problem arises when computation over the data needs to be performed and verified, like signing or computing digests. Common signature schemes require the same byte string as input to the
signature verification as was used for creating the signature. In the digest approach outlined above, the same problem exists: for the Issuer and the
Verifier to arrive at the same digest, the same byte string must be hashed.<a href="#appendix-B-5" class="pilcrow">¶</a></p>
<p id="appendix-B-6">JSON, however, does not prescribe a unique encoding for data, but allows for variations in the encoded string. The data above, for example, can be encoded as<a href="#appendix-B-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B-7">
<pre>...
"family_name": "M\u00f6bius",
"address": {
  "street_address": "Schulstr. 12",
  "locality": "Schulpforta"
}
...

</pre><a href="#appendix-B-7" class="pilcrow">¶</a>
</div>
<p id="appendix-B-8">or as<a href="#appendix-B-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B-9">
<pre>...
"family_name": "Möbius",
"address": {"locality":"Schulpforta", "street_address":"Schulstr. 12"}
...

</pre><a href="#appendix-B-9" class="pilcrow">¶</a>
</div>
<p id="appendix-B-10">The two representations of the value in <code>family_name</code> are very different on the byte-level, but yield
equivalent objects. Same for the representations of <code>address</code>, varying in white space and order of elements in the object.<a href="#appendix-B-10" class="pilcrow">¶</a></p>
<p id="appendix-B-11">The variations in white space, ordering of object properties, and
encoding of Unicode characters are all allowed by the JSON
specification, including further variations, e.g., concerning
floating-point numbers, as described in <span>[<a href="#RFC8785" class="cite xref">RFC8785</a>]</span>. Variations can be
introduced whenever JSON data is serialized or deserialized and unless
dealt with, will lead to different digests and the inability to verify
signatures.<a href="#appendix-B-11" class="pilcrow">¶</a></p>
<p id="appendix-B-12">There are generally two approaches to deal with this problem:<a href="#appendix-B-12" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="appendix-B-13">
<li id="appendix-B-13.1">Canonicalization: The data is transferred in JSON format, potentially
introducing variations in its representation, but is transformed into a
canonical form before computing a digest. Both the Issuer and the Verifier
must use the same canonicalization algorithm to arrive at the same byte
string for computing a digest.<a href="#appendix-B-13.1" class="pilcrow">¶</a>
</li>
        <li id="appendix-B-13.2">Source string hardening: Instead of transferring data in a format that
may introduce variations, a representation of the data is serialized.
This representation is then used as the hashing input at the Verifier,
but also transferred to the Verifier and used for the same digest
calculation there. This means that the Verifier can easily compute and check the
digest of the byte string before finally deserializing and
accessing the data.<a href="#appendix-B-13.2" class="pilcrow">¶</a>
</li>
      </ol>
<p id="appendix-B-14">Mixed approaches are conceivable, i.e., transferring both the original JSON data
plus a string suitable for computing a digest, but such approaches can easily lead to
undetected inconsistencies resulting in time-of-check-time-of-use type security
vulnerabilities.<a href="#appendix-B-14" class="pilcrow">¶</a></p>
<p id="appendix-B-15">In this specification, the source string hardening approach is used, as
it allows for simple and reliable interoperability without the
requirement for a canonicalization library. To harden the source string,
any serialization format that supports the necessary data types could
be used in theory, like protobuf, msgpack, or pickle. In this
specification, JSON is used and plaintext contents of each Disclosure are encoded using base64url-encoding
for transport. This approach means that SD-JWTs can be implemented purely based
on widely available JWT, JSON, and Base64 encoding and decoding libraries.<a href="#appendix-B-15" class="pilcrow">¶</a></p>
<p id="appendix-B-16">A Verifier can then easily check the digest over the source string before
extracting the original JSON data. Variations in the encoding of the source
string are implicitly tolerated by the Verifier, as the digest is computed over a
predefined byte string and not over a JSON object.<a href="#appendix-B-16" class="pilcrow">¶</a></p>
<p id="appendix-B-17">It is important to note that the Disclosures are neither intended nor
suitable for direct consumption by
an application that needs to access the disclosed claim values after the verification by the Verifier. The
Disclosures are only intended to be used by a Verifier to check
the digests over the source strings and to extract the original JSON
data. The original JSON data is then used by the application. See
<a href="#verifier_verification" class="auto internal xref">Section 7.3</a> for details.<a href="#appendix-B-17" class="pilcrow">¶</a></p>
</section>
</div>
<div id="document-history">
<section id="appendix-C">
      <h2 id="name-document-history">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-document-history" class="section-name selfRef">Document History</a>
      </h2>
<p id="appendix-C-1">[[ To be removed from the final specification ]]<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<p id="appendix-C-2">-19<a href="#appendix-C-2" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-3.1">Attempt to improve some language around exactly what bytes get base64url encoded<a href="#appendix-C-3.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-3.2">Update the ABNF to something that is cleaner and more idiomatic<a href="#appendix-C-3.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-3.3">updates from AD's review of comments<a href="#appendix-C-3.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-4">-18<a href="#appendix-C-4" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-5.1">Update PID example to align with the latest ARF and update the ARF reference<a href="#appendix-C-5.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-5.2">Editorial updates from SECDIR IETF LC review<a href="#appendix-C-5.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-5.3">Terminology improvements around the phrase "non-selectively disclosable claims" and "not disclosable"<a href="#appendix-C-5.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-5.4">Suggest against using extra claims/headers in the KB-JWT without a good reason<a href="#appendix-C-5.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-6">-17<a href="#appendix-C-6" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-7.1">Acknowledgements updates<a href="#appendix-C-7.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-8">-16<a href="#appendix-C-8" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-9.1">Updates following review of -15 by Hannes Tschofenig, document shepherd<a href="#appendix-C-9.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-9.2">Editorial updates to text introduced in -15<a href="#appendix-C-9.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-9.3">Changes based on feedback received after the end of the second working group last call<a href="#appendix-C-9.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-10">-15<a href="#appendix-C-10" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-11.1">Additions and adjustments to privacy considerations<a href="#appendix-C-11.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-11.2">Address AD review comments resulting from evaluation of formal appeal<a href="#appendix-C-11.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-11.3">Clarify language around compromised/coerced verifiers<a href="#appendix-C-11.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-12">-14<a href="#appendix-C-12" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-13.1">Address WGLC (part 2) comments<a href="#appendix-C-13.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-13.2">Note that the Hash Function Claim value is case-sensitive<a href="#appendix-C-13.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-13.3">Update the <code>typ</code> value in the SD-JWT VC example to <code>dc+sd-jwt</code> to align with anticipated changes in the SD-JWT VC draft.<a href="#appendix-C-13.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-14">-13<a href="#appendix-C-14" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-15.1">WGLC (part 1) updates<a href="#appendix-C-15.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-15.2">Rewrote introduction<a href="#appendix-C-15.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-15.3">Added note on algorithm for Holder's verification of the SD-JWT<a href="#appendix-C-15.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-16">-12<a href="#appendix-C-16" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-17.1">Clarify, add context, or otherwise improve the examples<a href="#appendix-C-17.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-17.2">Editorial and reference fixes<a href="#appendix-C-17.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-17.3">Better introduce the phrase processed SD-JWT payload in the end of <a href="#sd_jwt_verification" class="auto internal xref">Section 7.1</a> on Verifying the SD-JWT<a href="#appendix-C-17.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-17.4">Moved considerations around unlinkability to the top of the Privacy Considerations section<a href="#appendix-C-17.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-17.5">Remove the brief discussion of publishing private key(s) to attempt to reduce the value of leaked or stolen data<a href="#appendix-C-17.5" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-18">-11<a href="#appendix-C-18" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-19.1">Add a paragraph attempting to better frame the risks and difficulties around Issuer/Verifier
  unlinkability (i.e., a government issuer or huge service provider compelling collusion)<a href="#appendix-C-19.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-19.2">Tightened the exposition<a href="#appendix-C-19.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-20">-10<a href="#appendix-C-20" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-21.1">Add a section clarifying recursive disclosures and their interdependencies<a href="#appendix-C-21.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-21.2">Editorial updates/fixes<a href="#appendix-C-21.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-22">-09<a href="#appendix-C-22" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-23.1">Distinguished SD-JWT from SD-JWT+KB<a href="#appendix-C-23.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-23.2">Provide ABNF for the SD-JWT, SD-JWT+KB, and various constituent parts<a href="#appendix-C-23.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-23.3">New structure for JSON-serialized SD-JWTs/KB-JWTs to better align with JAdES.<a href="#appendix-C-23.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-23.4">Attempt to better explain how salt in the Disclosure makes guessing the preimage of the digest infeasible<a href="#appendix-C-23.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-23.5">Consolidate salt entropy and length security consideration subsections<a href="#appendix-C-23.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-23.6">Unnumbered most of the examples for improved clarity<a href="#appendix-C-23.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-23.7">More definitive language around the exclusive use of the <code>cnf</code> claim for enabling Key Binding<a href="#appendix-C-23.7" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-24">-08<a href="#appendix-C-24" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-25.1">Make RFCs 0020 and 7515 normative references<a href="#appendix-C-25.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-25.2">Be a bit more prescriptive in suggesting RFC7800 cnf/jwk be used to convey the Key Binding key<a href="#appendix-C-25.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-25.3">Editorial changes aimed at improved clarity<a href="#appendix-C-25.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-25.4">Improve unlinkability considerations, mention that different KB keys must be used<a href="#appendix-C-25.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-25.5">Remove the explicit prohibition on HMAC<a href="#appendix-C-25.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-25.6">Remove mention of unspecified key binding methods and the Enveloping SD-JWTs section<a href="#appendix-C-25.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-25.7">Editorial updates aimed at more consistent treatment of a Disclosure vs the contents of a Disclosure<a href="#appendix-C-25.7" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-25.8">Update PID example<a href="#appendix-C-25.8" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-25.9">Be more explicit that the VCDM and SD-JWT VC examples are only illustrative and do not define anything<a href="#appendix-C-25.9" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-26">-07<a href="#appendix-C-26" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-27.1">Reference RFC4086 in security considerations about salt entropy<a href="#appendix-C-27.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-27.2">Update change controller for the Structured Syntax Suffix registration from IESG to IETF per IANA suggestion<a href="#appendix-C-27.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-27.3">Strengthen security considerations around claims controlling the validity of the SD-JWT not being selectively disclosable<a href="#appendix-C-27.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-27.4">Expand/rework considerations on the choice of hash algorithm<a href="#appendix-C-27.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-27.5">Clarify validation around no duplicate digests in the payload (directly or recursively) and no unused disclosures at the end of processing<a href="#appendix-C-27.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-27.6">Better describe and illustrate the tilde separated format<a href="#appendix-C-27.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-27.7">Change claim name from <code>_sd_hash</code> to <code>sd_hash</code><a href="#appendix-C-27.7" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-28">-06<a href="#appendix-C-28" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-29.1">Added hash of Issuer-signed part and Disclosures in KB-JWT<a href="#appendix-C-29.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-29.2">Fix minor issues in some examples<a href="#appendix-C-29.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-29.3">Added IANA media type registration request for the JSON Serialization<a href="#appendix-C-29.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-29.4">More precise wording around storing artifacts with sensitive data<a href="#appendix-C-29.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-29.5">The claim name <code>_sd</code> or <code>...</code> must not be used in a disclosure.<a href="#appendix-C-29.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-29.6">Added JWT claims registration requests to IANA<a href="#appendix-C-29.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-29.7">Ensure claims that control validity are checked after decoding payload<a href="#appendix-C-29.7" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-29.8">Restructure sections around data formats and Example 1<a href="#appendix-C-29.8" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-29.9">Update JSON Serialization to remove the kb_jwt member and allow for the disclosures to be conveyed elsewhere<a href="#appendix-C-29.9" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-29.10">Expand the Enveloping SD-JWTs section to also discuss enveloping JSON serialized SD-JWTs<a href="#appendix-C-29.10" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-30">-05<a href="#appendix-C-30" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-31.1">Consolidate processing rules for Holder and Verifier<a href="#appendix-C-31.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.2">Add support for selective disclosure of array elements.<a href="#appendix-C-31.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.3">Consolidate SD-JWT terminology and format<a href="#appendix-C-31.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.4">Use the term Key Binding rather than Holder Binding<a href="#appendix-C-31.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.5">Defined the structure of the Key Binding JWT<a href="#appendix-C-31.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.6">Added a JWS JSON Serialization<a href="#appendix-C-31.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.7">Added initial IANA media type and structured suffix registration requests<a href="#appendix-C-31.7" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.8">Added recommendation for explicit typing of SD-JWTs<a href="#appendix-C-31.8" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.9">Added considerations around forwarding credentials<a href="#appendix-C-31.9" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.10">Removed Example 2b and merged the demo of decoy digests into Example 2a<a href="#appendix-C-31.10" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.11">Improved example for allowed variations in Disclosures<a href="#appendix-C-31.11" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.12">Added some text to the Abstract and Introduction to be more inclusive of JWS with JSON<a href="#appendix-C-31.12" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.13">Added some security considerations text about the scope of the Key Binding JWT<a href="#appendix-C-31.13" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.14">Aligned examples structure and used the term input JWT Claims Set<a href="#appendix-C-31.14" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.15">Replaced the general SD-JWT VC example with one based on Person Identification Data (PID) from the European Digital Identity Wallet Architecture and Reference Framework<a href="#appendix-C-31.15" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.16">Added/clarified some privacy considerations in Confidentiality during Transport<a href="#appendix-C-31.16" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.17">No longer recommending a claim name for enveloped SD-JWTs<a href="#appendix-C-31.17" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.18">Mention prospective future PQ algs for JWS<a href="#appendix-C-31.18" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.19">Include the public key in the draft, which can be used to verify the issuer signature examples<a href="#appendix-C-31.19" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.20">Clarify that <code>_sd_alg</code> can only be at the top level of the SD-JWT payload<a href="#appendix-C-31.20" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.21">Externalized the SD-JWT library that generates examples<a href="#appendix-C-31.21" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-31.22">Attempt to improve description of security properties<a href="#appendix-C-31.22" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-32">-04<a href="#appendix-C-32" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-33.1">Improve description of processing of disclosures<a href="#appendix-C-33.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-34">-03<a href="#appendix-C-34" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-35.1">Clarify that other specifications may define enveloping multiple Combined Formats for Presentation<a href="#appendix-C-35.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.2">Add an example of W3C vc-data-model that uses a JSON-LD object as the claims set<a href="#appendix-C-35.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.3">Clarify requirements for the combined formats for issuance and presentation<a href="#appendix-C-35.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.4">Added overview of the Security Considerations section<a href="#appendix-C-35.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.5">Enhanced examples in the Privacy Considerations section<a href="#appendix-C-35.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.6">Allow for recursive disclosures<a href="#appendix-C-35.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.7">Discussion on holder binding and privacy of stored credentials<a href="#appendix-C-35.7" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.8">Add some context about SD-JWT being general-purpose despite being a product of the OAuth WG<a href="#appendix-C-35.8" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.9">More explicitly say that SD-JWTs have to be signed asymmetrically (no MAC and no <code>none</code>)<a href="#appendix-C-35.9" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.10">Make sha-256 the default hash algorithm, if the hash alg claim is omitted<a href="#appendix-C-35.10" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.11">Use ES256 instead of RS256 in examples<a href="#appendix-C-35.11" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.12">Rename and move the c14n challenges section to an appendix<a href="#appendix-C-35.12" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.13">A bit more in security considerations for Choice of a Hash Algorithm (1st &amp; 2nd preimage resistant and not majorly truncated)<a href="#appendix-C-35.13" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.14">Remove the notational figures from the Concepts section<a href="#appendix-C-35.14" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.15">Change salt to always be a string (rather than any JSON type)<a href="#appendix-C-35.15" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-35.16">Fix the Document History (which had a premature list for -03)<a href="#appendix-C-35.16" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-36">-02<a href="#appendix-C-36" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-37.1">Disclosures are now delivered not as a JWT but as separate base64url-encoded JSON objects.<a href="#appendix-C-37.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-37.2">In the SD-JWT, digests are collected under a <code>_sd</code> claim per level.<a href="#appendix-C-37.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-37.3">Terms "II-Disclosures" and "HS-Disclosures" are replaced with "Disclosures".<a href="#appendix-C-37.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-37.4">Holder Binding is now separate from delivering the Disclosures and implemented, if required, with a separate JWT.<a href="#appendix-C-37.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-37.5">Examples updated and modified to properly explain the specifics of the new SD-JWT format.<a href="#appendix-C-37.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-37.6">Examples are now pulled in from the examples directory, not inlined.<a href="#appendix-C-37.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-37.7">Updated and automated the W3C VC example.<a href="#appendix-C-37.7" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-37.8">Added examples with multibyte characters to show that the specification and demo code work well with UTF-8.<a href="#appendix-C-37.8" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-37.9">reverted back to hash alg from digest derivation alg (renamed to <code>_sd_alg</code>)<a href="#appendix-C-37.9" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-37.10">reformatted<a href="#appendix-C-37.10" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-38">-01<a href="#appendix-C-38" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-39.1">introduced blinded claim names<a href="#appendix-C-39.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.2">explained why JSON-encoding of values is needed<a href="#appendix-C-39.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.3">explained merging algorithm ("processing model")<a href="#appendix-C-39.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.4">generalized hash alg to digest derivation alg which also enables HMAC to calculate digests<a href="#appendix-C-39.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.5">
          <code>_sd_hash_alg</code> renamed to <code>sd_digest_derivation_alg</code><a href="#appendix-C-39.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.6">Salt/Value Container (SVC) renamed to Issuer-Issued Disclosures (II-Disclosures)<a href="#appendix-C-39.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.7">SD-JWT-Release (SD-JWT-R) renamed to Holder-Selected Disclosures (HS-Disclosures)<a href="#appendix-C-39.7" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.8">
          <code>sd_disclosure</code> in II-Disclosures renamed to <code>sd_ii_disclosures</code><a href="#appendix-C-39.8" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.9">
          <code>sd_disclosure</code> in HS-Disclosures renamed to <code>sd_hs_disclosures</code><a href="#appendix-C-39.9" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.10">clarified relationship between <code>sd_hs_disclosure</code> and SD-JWT<a href="#appendix-C-39.10" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.11">clarified combined formats for issuance and presentation<a href="#appendix-C-39.11" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.12">clarified security requirements for blinded claim names<a href="#appendix-C-39.12" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.13">improved description of Holder Binding security considerations - especially around the usage of "alg=none".<a href="#appendix-C-39.13" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.14">updated examples<a href="#appendix-C-39.14" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.15">text clarifications<a href="#appendix-C-39.15" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.16">fixed <code>cnf</code> structure in examples<a href="#appendix-C-39.16" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-39.17">added feature summary<a href="#appendix-C-39.17" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-40">-00<a href="#appendix-C-40" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-41.1">Upload as draft-ietf-oauth-selective-disclosure-jwt-00<a href="#appendix-C-41.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-42">[[ pre Working Group Adoption: ]]<a href="#appendix-C-42" class="pilcrow">¶</a></p>
<p id="appendix-C-43">-02<a href="#appendix-C-43" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-44.1">Added acknowledgements<a href="#appendix-C-44.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-44.2">Improved Security Considerations<a href="#appendix-C-44.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-44.3">Stressed entropy requirements for salts<a href="#appendix-C-44.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-44.4">Python reference implementation clean-up and refactoring<a href="#appendix-C-44.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-44.5">
          <code>hash_alg</code> renamed to <code>_sd_hash_alg</code><a href="#appendix-C-44.5" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-45">-01<a href="#appendix-C-45" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-46.1">Editorial fixes<a href="#appendix-C-46.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-46.2">Added <code>hash_alg</code> claim<a href="#appendix-C-46.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-46.3">Renamed <code>_sd</code> to <code>sd_digests</code> and <code>sd_release</code><a href="#appendix-C-46.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-46.4">Added descriptions on Holder Binding - more work to do<a href="#appendix-C-46.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-46.5">Clarify that signing the SD-JWT is mandatory<a href="#appendix-C-46.5" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-47">-00<a href="#appendix-C-47" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-C-48.1">Renamed to SD-JWT (focus on JWT instead of JWS since signature is optional)<a href="#appendix-C-48.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-48.2">Make Holder Binding optional<a href="#appendix-C-48.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-48.3">Rename proof to release, since when there is no signature, the term "proof" can be misleading<a href="#appendix-C-48.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-48.4">Improved the structure of the description<a href="#appendix-C-48.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-48.5">Described verification steps<a href="#appendix-C-48.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-48.6">All examples generated from python demo implementation<a href="#appendix-C-48.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-C-48.7">Examples for structured objects<a href="#appendix-C-48.7" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Daniel Fett</span></div>
<div dir="auto" class="left"><span class="org">Authlete</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mail@danielfett.de" class="email">mail@danielfett.de</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://danielfett.de/" class="url">https://danielfett.de/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kristina Yasuda</span></div>
<div dir="auto" class="left"><span class="org">Keio University</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:kristina@sfc.keio.ac.jp" class="email">kristina@sfc.keio.ac.jp</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Brian Campbell</span></div>
<div dir="auto" class="left"><span class="org">Ping Identity</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bcampbell@pingidentity.com" class="email">bcampbell@pingidentity.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
